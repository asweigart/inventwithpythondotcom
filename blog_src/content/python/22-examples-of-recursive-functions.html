<html>
    <head>
        <title>22 Examples of Recursive Functions in Python</title>
        <meta name="tags" content="recursion" />
        <meta name="date" content="2021-10-4 12:00" />
        <meta name="summary" content="Here are 22 actual, runnable Python code for several recursive functions, written in a style to be understandable by beginners and produce debuggable output." />
    </head>
    <body>


<blockquote><em>This blog post contains information from Al Sweigart's next book, <a href="https://nostarch.com/book-recursion">The Recursive Book of Recurson</a> from No Starch Press. The book will be released in June 2022. You can use the discount code PREORDERRECURSION to get 30% off your preorder, and receive the ebook free when you buy a print book. This book will also be freely available under a Creative Commons license on the <a href="https://inventwithpython.com/recursion/">Invent with Python</a> website. Al Sweigart also gave a conference talk on recursion at North Bay Python 2018 titled, <a href="https://www.youtube.com/watch?v=AfBqVVKg4GE">Recursion for Beginners: A Beginner's Guide to Recursion</a>.</em></blockquote>

<p>Here are 22 actual, runnable Python code for several recursive functions, written in a style to be understandable by beginners and produce debuggable output.</p>

<p>These are not code snippets; they are complete, runnable Python programs. The source code has been put inside a text field to make scrolling through this blog post easier. You can click on the text field, select all by pressing Ctrl-A, then copy the code to the clipboard by pressing Ctrl-C. Once on the clipboard, you can paste it into your editor or IDE. There are also download links for each of the programs as well.</p>

<p>These recursive functions are also designed to produce helpful, teachable output. Some of the functions have an <code>indent</code> parameter to aid in this output and isn't a part of the recursive algorithm itself.</p>

<h2>Ackermann</h2>

<p><a href="/blogstatic/recursion/ackermann.py">Download ackermann.py</a></p>

<p>The Ackermann function is named after its discoverer, Wilhelm Ackermann. Ackermann, a student of mathematician David Hilbert (creator of the Hilbert curve fractal), published his function in 1928. Mathematicians Rózsa Péter and Raphael Robinson later developed the version of the function featured in this section. While the Ackermann function has some application in advanced mathematics, it is mostly known for being an example of a highly recursive function. Even slight increases to its two integer arguments cause a large increase in the number of recursive calls it makes.</p>

<p><a href="https://www.youtube.com/channel/UC9-y-6csu5WGm29I7JiwpnA">Computerphile</a> YouTube channel has a video on it titled, <a href="https://www.youtube.com/watch?v=i7sm9dzFtEI">"The Most Difficult Program to Compute?"</a></p>

<textarea cols="80" rows="10">def ackermann(m, n, indentation=None):
    if indentation is None:
        indentation = 0
    print('%sackermann(%s, %s)' % (' ' * indentation, m, n))

    if m == 0:
        # BASE CASE
        return n + 1
    elif m > 0 and n == 0:
        # RECURSIVE CASE
        return ackermann(m - 1, 1, indentation + 1)
    elif m > 0 and n > 0:
        # RECURSIVE CASE
        return ackermann(m - 1, ackermann(m, n - 1, indentation + 1), indentation + 1)

print('Starting with m = 1, n = 1:')
print(ackermann(1, 1))
print('Starting with m = 2, n = 3:')
print(ackermann(2, 3))
</textarea>


<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">Starting with m = 1, n = 1:
ackermann(1, 1)
 ackermann(1, 0)
  ackermann(0, 1)
 ackermann(0, 2)
3
Starting with m = 2, n = 3:
ackermann(2, 3)
 ackermann(2, 2)
  ackermann(2, 1)
   ackermann(2, 0)
    ackermann(1, 1)
     ackermann(1, 0)
      ackermann(0, 1)
     ackermann(0, 2)
   ackermann(1, 3)
    ackermann(1, 2)
     ackermann(1, 1)
      ackermann(1, 0)
       ackermann(0, 1)
      ackermann(0, 2)
     ackermann(0, 3)
    ackermann(0, 4)
  ackermann(1, 5)
   ackermann(1, 4)
    ackermann(1, 3)
     ackermann(1, 2)
      ackermann(1, 1)
       ackermann(1, 0)
        ackermann(0, 1)
       ackermann(0, 2)
      ackermann(0, 3)
     ackermann(0, 4)
    ackermann(0, 5)
   ackermann(0, 6)
 ackermann(1, 7)
  ackermann(1, 6)
   ackermann(1, 5)
    ackermann(1, 4)
     ackermann(1, 3)
      ackermann(1, 2)
       ackermann(1, 1)
        ackermann(1, 0)
         ackermann(0, 1)
        ackermann(0, 2)
       ackermann(0, 3)
      ackermann(0, 4)
     ackermann(0, 5)
    ackermann(0, 6)
   ackermann(0, 7)
  ackermann(0, 8)
9</textarea>




<h2>Binary Search</h2>

<p><a href="/blogstatic/recursion/binarySearch.py">Download binarySearch.py</a></p>

<p>Binary search is a technique for locating a target item in a sorted list by re-peatedly determining which half of the list the item is in. The most impartial way to search the bookshelf is to start with a book in the middle, then ascertain if the target book you’re looking for is in the left half or the right half.</p>

<p>You can then repeat this process: look at the book in the middle of your chosen half, and determine if your target book is in the left-side quarter or the right-side quarter. You can do this until you either find the book or find the place where the book should be but isn’t and declare that the book doesn’t exist on the shelf.</p>

<textarea cols="80" rows="10">def binarySearch(needle, haystack, left=None, right=None):
    # By default, `left` and `right` are all of `haystack`:
    if left is None:
        left = 0  # `left` defaults to the 0 index.
    if right is None:
        right = len(haystack) - 1  # `right` defaults to the last index.

    print('Searching:', haystack[left:right + 1])

    if left > right:  # BASE CASE
        return None  # The `needle` is not in `haystack`.

    mid = (left + right) // 2
    if needle == haystack[mid]:  # BASE CASE
        return mid  # The `needle` has been found in `haystack`
    elif needle < haystack[mid]:  # RECURSIVE CASE
        return binarySearch(needle, haystack, left, mid - 1)
    elif needle > haystack[mid]:  # RECURSIVE CASE
        return binarySearch(needle, haystack, mid + 1, right)

print(binarySearch(13, [1, 4, 8, 11, 13, 16, 19, 19]))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">Searching: [1, 4, 8, 11, 13, 16, 19, 19]
Searching: [13, 16, 19, 19]
Searching: [13]
4</textarea>




<h2>Combinations</h2>

<p><a href="/blogstatic/recursion/combinations.py">Download combinations.py</a></p>

<p>Given a set of items, we can return a set of every combination of those items. For example, given a set of four letters, ABCD, the k-combinations are:</p>

<ul>
<li>The 0-combinations and 4-combinations have one combination: the empty string and ABCD respectively. </li>
<li>The 1-combinations and 3-combinations have four combinations: A, B, C, D and ABC, ABD, ACD, BCD, respectively. </li>
<li>The 2-combinations have the most combinations at six combinations: AB, AC, AD, BC, BD, and CD. </li>
</ul>


<textarea cols="80" rows="10">def getCombos(chars, k, indent=0):
    debugMsg = '.' * indent + "In getCombos('" + chars + "', " + str(k) + ")"
    print(debugMsg + ', start.')
    if k == 0:
        # BASE CASE
        print(debugMsg + " base case returns ['']")
        return ['']  # If k asks for 0-combinations, return '' as the selection of zero letters from chars.
    elif chars == '':
        # BASE CASE
        print(debugMsg + ' base case returns []')
        return []  # A blank chars has no combinations, no matter what k is.

    # RECURSIVE CASE
    combinations = []
    # First part, get the combos that include the head:
    head = chars[:1]
    tail = chars[1:]
    print(debugMsg + " part 1, get combos with head '" + head + "'")
    tailCombos = getCombos(tail, k - 1, indent + 1)
    print('.' * indent + "Adding head '" + head + "' to tail combos:")
    for tailCombo in tailCombos:
        print('.' * indent + 'New combination', head + tailCombo)
        combinations.append(head + tailCombo)

    # Second part, get the combos that don't include the head:
    print(debugMsg + " part 2, get combos without head '" + head + "')")
    combinations.extend(getCombos(tail, k, indent + 1))

    print(debugMsg + ' results are', combinations)
    return combinations

print('2-combinations of "ABC":')
print('Results:', getCombos('ABC', 2))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">2-combinations of "ABC":
In getCombos('ABC', 2), start.
In getCombos('ABC', 2) part 1, get combos with head 'A'
.In getCombos('BC', 1), start.
.In getCombos('BC', 1) part 1, get combos with head 'B'
..In getCombos('C', 0), start.
..In getCombos('C', 0) base case returns ['']
.Adding head 'B' to tail combos:
.New combination B
.In getCombos('BC', 1) part 2, get combos without head 'B')
..In getCombos('C', 1), start.
..In getCombos('C', 1) part 1, get combos with head 'C'
...In getCombos('', 0), start.
...In getCombos('', 0) base case returns ['']
..Adding head 'C' to tail combos:
..New combination C
..In getCombos('C', 1) part 2, get combos without head 'C')
...In getCombos('', 1), start.
...In getCombos('', 1) base case returns []
..In getCombos('C', 1) results are ['C']
.In getCombos('BC', 1) results are ['B', 'C']
Adding head 'A' to tail combos:
New combination AB
New combination AC
In getCombos('ABC', 2) part 2, get combos without head 'A')
.In getCombos('BC', 2), start.
.In getCombos('BC', 2) part 1, get combos with head 'B'
..In getCombos('C', 1), start.
..In getCombos('C', 1) part 1, get combos with head 'C'
...In getCombos('', 0), start.
...In getCombos('', 0) base case returns ['']
..Adding head 'C' to tail combos:
..New combination C
..In getCombos('C', 1) part 2, get combos without head 'C')
...In getCombos('', 1), start.
...In getCombos('', 1) base case returns []
..In getCombos('C', 1) results are ['C']
.Adding head 'B' to tail combos:
.New combination BC
.In getCombos('BC', 2) part 2, get combos without head 'B')
..In getCombos('C', 2), start.
..In getCombos('C', 2) part 1, get combos with head 'C'
...In getCombos('', 1), start.
...In getCombos('', 1) base case returns []
..Adding head 'C' to tail combos:
..In getCombos('C', 2) part 2, get combos without head 'C')
...In getCombos('', 2), start.
...In getCombos('', 2) base case returns []
..In getCombos('C', 2) results are []
.In getCombos('BC', 2) results are ['BC']
In getCombos('ABC', 2) results are ['AB', 'AC', 'BC']
Results: ['AB', 'AC', 'BC']</textarea>




<h2>Count Down and Up</h2>

<p><a href="/blogstatic/recursion/countDownAndUp.py">Download countDownAndUp.py</a></p>

<p>This function is a demonstration of a simple recursive function and shows the order that code runs before and after the recursive call.</p>

<textarea cols="80" rows="10">def countDownAndUp(number):
    print(number)
    if number == 0:
        # BASE CASE
        print('Reached the base case.')
        return
    else:
        # RECURSIVE CASE
        countDownAndUp(number - 1)
        print(number)
        return

countDownAndUp(3)
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">3
2
1
0
Reached the base case.
1
2
3</textarea>




<h2>Drunk Sierpinski Triangle</h2>

<p><a href="/blogstatic/recursion/drunkSierpinskiTriangle.py">Download drunkSierpinskiTriangle.py</a></p>

<p>This program uses the <code>turtle</code> module to draw a sierpinski triangle fractal, except with slight errors to give the fractal a distorted look.</p>

<textarea cols="80" rows="10">import random
import turtle
turtle.tracer(1000, 0) # Increase the first argument to speed up the drawing.
turtle.setworldcoordinates(0, 0, 700, 700)
turtle.hideturtle()

MIN_SIZE = 4 # Try changing this to decrease/increase the amount of recursion.

DRUNKENESS = 0.001 # Increase to make more drunk. 0.01 is seriously drunk.

def midpoint(startx, starty, endx, endy):
    # Return the x, y coordinate in the middle of the four given parameters.
    xDiff = abs(startx - endx)
    yDiff = abs(starty - endy)
    return (min(startx, endx) + (xDiff / 2.0) + (random.random() * xDiff * (random.randint(-100, 100) * DRUNKENESS)),
            min(starty, endy) + (yDiff / 2.0) + (random.random() * xDiff * (random.randint(-100, 100) * DRUNKENESS)))

def isTooSmall(ax, ay, bx, by, cx, cy):
    # Determine if the triangle is too small to draw.
    width = max(ax, bx, cx) - min(ax, bx, cx)
    height = max(ay, by, cy) - min(ay, by, cy)
    return width < MIN_SIZE or height < MIN_SIZE

def drawTriangle(ax, ay, bx, by, cx, cy):
    if isTooSmall(ax, ay, bx, by, cx, cy):
        # BASE CASE
        return
    else:
        # RECURSIVE CASE
        # Draw the triangle.
        turtle.penup()
        turtle.goto(ax, ay)
        turtle.pendown()
        turtle.goto(bx, by)
        turtle.goto(cx, cy)
        turtle.goto(ax, ay)
        turtle.penup()

        # Calculate midpoints between points A, B, and C.
        mid_ab = midpoint(ax, ay, bx, by)
        mid_bc = midpoint(bx, by, cx, cy)
        mid_ca = midpoint(cx, cy, ax, ay)

        # Draw the three inner triangles.
        drawTriangle(ax, ay, mid_ab[0], mid_ab[1], mid_ca[0], mid_ca[1])
        drawTriangle(mid_ab[0], mid_ab[1], bx, by, mid_bc[0], mid_bc[1])
        drawTriangle(mid_ca[0], mid_ca[1], mid_bc[0], mid_bc[1], cx, cy)
        return

# Draw an equilateral Sierpinski triangle.
drawTriangle(50, 50, 350, 650, 650, 50)

# Draw a skewed Sierpinski triangle.
#drawTriangle(30, 250, 680, 600, 500, 80)

turtle.exitonclick()</textarea>

<p>The output of this program looks like this:</p>

<p><img src="/blogstatic/recursion/drunksierpinski.png" /></p>




<h2>Eight Queens</h2>

<p><a href="/blogstatic/recursion/eightQueens.py">Download eightQueens.py</a></p>

<p>The <a href="https://en.wikipedia.org/wiki/Eight_queens_puzzle">eight queens puzzle</a> is how to find an arrangement of eight chess queens on a board such that they cannot attack each other. This recursive program finds every possible solution on an 8 x 8 chess board.</p>

<textarea cols="80" rows="10">SIZE = 8

def getPermutations(items):
    if len(items) == 0:
        # BASE CASE
        return [[]]
    else:
        # RECURSIVE CASE
        permutations = []
        head = [items[0]]
        tail = items[1:]
        tailPermutations = getPermutations(tail)
        for tailPerm in tailPermutations:
            for i in range(len(tailPerm) + 1):
                newPermutation = tailPerm[0:i] + head + tailPerm[i:]
                permutations.append(newPermutation)
        return permutations

def printBoard(board):
    for row in range(SIZE):
        for column in range(SIZE):
            if board[row] == column:
                print('Q ', end='')  # Print queen.
            else:
                print('. ', end='')  # Print blank space.
        print()  # Print newline.
    print()

numSolutions = 0
# Go through all possible boards with one queen per column, and
# filter out the ones with queens that can attack each other diagonally:
for board in getPermutations(list(range(SIZE))):
    # check if any queens can diagonally attack each other
    isValidBoard = True
    for row in range(SIZE):
        column = board[row]
        for diagOffset in range(1, SIZE):
            if row + diagOffset < SIZE:  # Bounds check.
                if (board[row + diagOffset] == column + diagOffset) or \
                   (board[row + diagOffset] == column - diagOffset):
                    isValidBoard = False
                    break

            if row - diagOffset >= 0:  # Bounds check.
                if (board[row - diagOffset] == column - diagOffset) or \
                   (board[row - diagOffset] == column + diagOffset):
                    isValidBoard = False
                    break

    if isValidBoard:
        printBoard(board)
        numSolutions += 1
print('Number of solutions:', numSolutions)
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">. . . . Q . . .
. Q . . . . . .
. . . . . Q . .
Q . . . . . . .
. . . . . . Q .
. . . Q . . . .
. . . . . . . Q
. . Q . . . . .

. . . . . Q . .
. . Q . . . . .
. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . . Q . . . .
. Q . . . . . .
. . . . . . . Q

. . . . . Q . .
. . . Q . . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . Q . . .
. Q . . . . . .
. . . . . . . Q

. . Q . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . . . Q .
. . . . Q . . .
Q . . . . . . .
. . . . . . . Q
. . . Q . . . .

. . . . . Q . .
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .

. . . . . Q . .
. Q . . . . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . Q . . .
. . . . . . . Q
. . . Q . . . .

. . . . . Q . .
. . . Q . . . .
. . . . . . Q .
Q . . . . . . .
. . . . . . . Q
. Q . . . . . .
. . . . Q . . .
. . Q . . . . .

. . Q . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . . . Q .
Q . . . . . . .
. . . Q . . . .
. . . . . . . Q
. . . . Q . . .

. . . . . Q . .
. . Q . . . . .
. . . . . . Q .
. Q . . . . . .
. . . Q . . . .
. . . . . . . Q
Q . . . . . . .
. . . . Q . . .

. . . . . Q . .
. . Q . . . . .
. . . . . . Q .
. . . Q . . . .
Q . . . . . . .
. . . . . . . Q
. Q . . . . . .
. . . . Q . . .

. Q . . . . . .
. . . . . Q . .
Q . . . . . . .
. . . . . . Q .
. . . Q . . . .
. . . . . . . Q
. . Q . . . . .
. . . . Q . . .

. . . . . Q . .
. Q . . . . . .
. . . . . . Q .
Q . . . . . . .
. . . Q . . . .
. . . . . . . Q
. . . . Q . . .
. . Q . . . . .

. . . . . Q . .
. . Q . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . . . Q
. . . . Q . . .
Q . . . . . . .
. . . Q . . . .

. . . . Q . . .
. . . . . . Q .
. Q . . . . . .
. . . . . Q . .
. . Q . . . . .
Q . . . . . . .
. . . Q . . . .
. . . . . . . Q

. . . . Q . . .
. . . . . . Q .
. Q . . . . . .
. . . . . Q . .
. . Q . . . . .
Q . . . . . . .
. . . . . . . Q
. . . Q . . . .

. . . Q . . . .
. . . . . . Q .
. . . . Q . . .
. . Q . . . . .
Q . . . . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .

. . . Q . . . .
. . . . . . Q .
. . . . Q . . .
. Q . . . . . .
. . . . . Q . .
Q . . . . . . .
. . Q . . . . .
. . . . . . . Q

. . . . . . Q .
. . . . Q . . .
. . Q . . . . .
Q . . . . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .

. . . Q . . . .
. Q . . . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . Q . .
. . . . . . . Q
Q . . . . . . .
. . . . Q . . .

. . . Q . . . .
. Q . . . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . Q . .
. . . . . . . Q
. . . . Q . . .
Q . . . . . . .

Q . . . . . . .
. . . . . . Q .
. . . Q . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . . Q . . .
. . Q . . . . .

. . . . . . Q .
. Q . . . . . .
. . . . . Q . .
. . Q . . . . .
Q . . . . . . .
. . . Q . . . .
. . . . . . . Q
. . . . Q . . .

. Q . . . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . Q . .
. . . . . . . Q
. . . . Q . . .
Q . . . . . . .
. . . Q . . . .

. . . . . . Q .
. . Q . . . . .
Q . . . . . . .
. . . . . Q . .
. . . . . . . Q
. . . . Q . . .
. Q . . . . . .
. . . Q . . . .

. . . . Q . . .
. Q . . . . . .
. . . Q . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . . . Q
. . . . . Q . .
Q . . . . . . .

. . Q . . . . .
. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .

. . . . Q . . .
. . . . . . Q .
. . . Q . . . .
Q . . . . . . .
. . Q . . . . .
. . . . . . . Q
. . . . . Q . .
. Q . . . . . .

. . . . Q . . .
. . . . . . Q .
. Q . . . . . .
. . . Q . . . .
. . . . . . . Q
Q . . . . . . .
. . Q . . . . .
. . . . . Q . .

. Q . . . . . .
. . . . Q . . .
. . . . . . Q .
. . . Q . . . .
Q . . . . . . .
. . . . . . . Q
. . . . . Q . .
. . Q . . . . .

. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
. . Q . . . . .

. . . . Q . . .
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
. . . Q . . . .

. Q . . . . . .
. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . . . . Q
. . . . . Q . .
. . . Q . . . .

. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . . . . Q
. . . . . Q . .
. . . Q . . . .
. Q . . . . . .

. . . Q . . . .
. Q . . . . . .
. . . . . . Q .
. . . . Q . . .
Q . . . . . . .
. . . . . . . Q
. . . . . Q . .
. . Q . . . . .

. . . . . . Q .
. . . Q . . . .
. Q . . . . . .
. . . . Q . . .
. . . . . . . Q
Q . . . . . . .
. . Q . . . . .
. . . . . Q . .

. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .
. . . . . Q . .

. Q . . . . . .
. . . . . . Q .
. . . . Q . . .
. . . . . . . Q
Q . . . . . . .
. . . Q . . . .
. . . . . Q . .
. . Q . . . . .

Q . . . . . . .
. . . . . . Q .
. . . . Q . . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .
. . . . . Q . .
. . Q . . . . .

. . . Q . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . . . Q
. Q . . . . . .
. . . . Q . . .
Q . . . . . . .
. . . . . Q . .

. . . Q . . . .
. . . . . . Q .
Q . . . . . . .
. . . . . . . Q
. . . . Q . . .
. Q . . . . . .
. . . . . Q . .
. . Q . . . . .

. . . . . . Q .
. Q . . . . . .
. . . Q . . . .
Q . . . . . . .
. . . . . . . Q
. . . . Q . . .
. . Q . . . . .
. . . . . Q . .

. . Q . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . . . Q
. . . . Q . . .
Q . . . . . . .
. . . Q . . . .
. . . . . Q . .

. . . . . . Q .
. . Q . . . . .
. . . . . . . Q
. Q . . . . . .
. . . . Q . . .
Q . . . . . . .
. . . . . Q . .
. . . Q . . . .

. . . . . . Q .
. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
Q . . . . . . .
. . Q . . . . .
. . . . Q . . .

. . Q . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
. . . Q . . . .
Q . . . . . . .
. . . . Q . . .

. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . . . . Q
. . . . . Q . .
. . . Q . . . .
. Q . . . . . .
. . . . Q . . .

. . . . Q . . .
. Q . . . . . .
. . . Q . . . .
. . . . . Q . .
. . . . . . . Q
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .

. . . . Q . . .
Q . . . . . . .
. . . Q . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . . . . Q .
. . Q . . . . .

. . . . Q . . .
. . Q . . . . .
Q . . . . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .
. . . . . . Q .

. . . Q . . . .
. . . . . Q . .
Q . . . . . . .
. . . . Q . . .
. Q . . . . . .
. . . . . . . Q
. . Q . . . . .
. . . . . . Q .

. . . . . Q . .
. . . Q . . . .
Q . . . . . . .
. . . . Q . . .
. . . . . . . Q
. Q . . . . . .
. . . . . . Q .
. . Q . . . . .

. . . . . Q . .
. . Q . . . . .
. . . . Q . . .
. . . . . . . Q
Q . . . . . . .
. . . Q . . . .
. Q . . . . . .
. . . . . . Q .

. . Q . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . Q . . .
. . . . . . . Q
Q . . . . . . .
. . . . . . Q .
. . . Q . . . .

. . . . . Q . .
Q . . . . . . .
. . . . Q . . .
. Q . . . . . .
. . . . . . . Q
. . Q . . . . .
. . . . . . Q .
. . . Q . . . .

. . Q . . . . .
. . . . . Q . .
. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . Q . . .
. . . . . . Q .
Q . . . . . . .

. . Q . . . . .
. . . . . Q . .
. . . Q . . . .
Q . . . . . . .
. . . . . . . Q
. . . . Q . . .
. . . . . . Q .
. Q . . . . . .

. . . . . Q . .
. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .

. . . . . Q . .
. . Q . . . . .
Q . . . . . . .
. . . . . . . Q
. . . . Q . . .
. Q . . . . . .
. . . Q . . . .
. . . . . . Q .

. . Q . . . . .
. . . . . Q . .
. . . . . . . Q
Q . . . . . . .
. . . . Q . . .
. . . . . . Q .
. Q . . . . . .
. . . Q . . . .

. Q . . . . . .
. . . Q . . . .
. . . . . Q . .
. . . . . . . Q
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .

. . . Q . . . .
. . . . . Q . .
. . . . . . . Q
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .
. Q . . . . . .

. . . Q . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . Q . . .

. . Q . . . . .
. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .

. . Q . . . . .
. . . . . Q . .
. . . . . . . Q
Q . . . . . . .
. . . Q . . . .
. . . . . . Q .
. . . . Q . . .
. Q . . . . . .

. . . . . Q . .
. . Q . . . . .
Q . . . . . . .
. . . . . . . Q
. . . Q . . . .
. Q . . . . . .
. . . . . . Q .
. . . . Q . . .

. Q . . . . . .
. . . . . Q . .
. . . . . . . Q
. . Q . . . . .
Q . . . . . . .
. . . Q . . . .
. . . . . . Q .
. . . . Q . . .

. . . . . Q . .
. . . . . . . Q
. Q . . . . . .
. . . Q . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .
. . Q . . . . .

Q . . . . . . .
. . . . . Q . .
. . . . . . . Q
. . Q . . . . .
. . . . . . Q .
. . . Q . . . .
. Q . . . . . .
. . . . Q . . .

. . . Q . . . .
. Q . . . . . .
. . . . Q . . .
. . . . . . . Q
. . . . . Q . .
Q . . . . . . .
. . Q . . . . .
. . . . . . Q .

. . . Q . . . .
Q . . . . . . .
. . . . Q . . .
. . . . . . . Q
. . . . . Q . .
. . Q . . . . .
. . . . . . Q .
. Q . . . . . .

. . . . Q . . .
. . . . . . . Q
. . . Q . . . .
Q . . . . . . .
. . Q . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . . . Q .

. . Q . . . . .
. . . . Q . . .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
. . . Q . . . .
. . . . . . Q .
Q . . . . . . .

Q . . . . . . .
. . . . Q . . .
. . . . . . . Q
. . . . . Q . .
. . Q . . . . .
. . . . . . Q .
. Q . . . . . .
. . . Q . . . .

. . . . Q . . .
Q . . . . . . .
. . . . . . . Q
. . . . . Q . .
. . Q . . . . .
. . . . . . Q .
. Q . . . . . .
. . . Q . . . .

. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
Q . . . . . . .
. . Q . . . . .
. . . . Q . . .
. . . . . . Q .

. . . . . . . Q
. . Q . . . . .
Q . . . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . Q . . .
. . . . . . Q .
. . . Q . . . .

. Q . . . . . .
. . . . . . . Q
. . . . . Q . .
Q . . . . . . .
. . Q . . . . .
. . . . Q . . .
. . . . . . Q .
. . . Q . . . .

. . . Q . . . .
. . . . . . . Q
Q . . . . . . .
. . Q . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . . . Q .
. . . . Q . . .

. . . . . . . Q
. . . Q . . . .
Q . . . . . . .
. . Q . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . . . Q .
. . . . Q . . .

. . . Q . . . .
Q . . . . . . .
. . . . Q . . .
. . . . . . . Q
. Q . . . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . Q . .

. . Q . . . . .
. . . . Q . . .
. . . . . . . Q
. . . Q . . . .
Q . . . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . Q . .

. . . . Q . . .
. . Q . . . . .
. . . . . . . Q
. . . Q . . . .
. . . . . . Q .
Q . . . . . . .
. . . . . Q . .
. Q . . . . . .

. . . . Q . . .
. Q . . . . . .
. . . . . . . Q
Q . . . . . . .
. . . Q . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . Q . .

. . . . Q . . .
Q . . . . . . .
. . . . . . . Q
. . . Q . . . .
. Q . . . . . .
. . . . . . Q .
. . Q . . . . .
. . . . . Q . .

. . . . Q . . .
. . . . . . . Q
. . . Q . . . .
Q . . . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . Q . .
. . Q . . . . .

. . Q . . . . .
. . . . Q . . .
. Q . . . . . .
. . . . . . . Q
Q . . . . . . .
. . . . . . Q .
. . . Q . . . .
. . . . . Q . .

. . . Q . . . .
. . . . . . . Q
. . . . Q . . .
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. Q . . . . . .
. . . . . Q . .

. . . Q . . . .
. Q . . . . . .
. . . . . . . Q
. . . . Q . . .
. . . . . . Q .
Q . . . . . . .
. . Q . . . . .
. . . . . Q . .

. . . Q . . . .
. . . . . . . Q
Q . . . . . . .
. . . . Q . . .
. . . . . . Q .
. Q . . . . . .
. . . . . Q . .
. . Q . . . . .

. . . . . . . Q
. Q . . . . . .
. . . . Q . . .
. . Q . . . . .
Q . . . . . . .
. . . . . . Q .
. . . Q . . . .
. . . . . Q . .

. . . . . . . Q
. Q . . . . . .
. . . Q . . . .
Q . . . . . . .
. . . . . . Q .
. . . . Q . . .
. . Q . . . . .
. . . . . Q . .

. . Q . . . . .
. . . . . . . Q
. . . Q . . . .
. . . . . . Q .
Q . . . . . . .
. . . . . Q . .
. Q . . . . . .
. . . . Q . . .

Number of solutions: 92</textarea>




<h2>Exponentiation</h2>

<p><a href="/blogstatic/recursion/exponentWithPowerRule.py">Download exponentWithPowerRule.py</a></p>

<p>Calculating exponents such as 2^5 (or 2 x 2 x 2 x 2 x 2) can be done without using the ** operator by doing repeat multiplications. However, there's a shortcut in that 2^(m * 2) == 2^m * 2^m. You can use this trick to perform a^m in less than m multiplications.</p>

<textarea cols="80" rows="10">def exponentWithPowerRule(a, n):
    # Step 1: Determine the operations to be performed.
    opStack = []
    while n > 1:
        if n % 2 == 0:
            # n is even
            opStack.append('square')
            n = n // 2
        elif n % 2 == 1:
            # n is odd
            n -= 1
            opStack.append('multiply')

    # Step 2: Perform the operations in reverse order.
    result = a # Start result at `a`
    while opStack:
        op = opStack.pop()

        if op == 'multiply':
            result *= a
        elif op == 'square':
            result *= result

    return result

print(exponentWithPowerRule(3, 6))
print(exponentWithPowerRule(10, 3))
print(exponentWithPowerRule(17, 10))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">729
1000
2015993900449</textarea>




<h2>Factorial</h2>

<p><a href="/blogstatic/recursion/factorialByRecursion.py">Download factorialByRecursion.py</a></p>

<p>The factorial of 4 is 4 × 3 × 2 × 1 and the factorial of 5 is 5 × 4 × 3 × 2 × 1. So you could say that 5! = 5 × 4!. This is recursive because the definition of the factorial of 5 (or any number n) includes the definition of the factorial of 4 (the number n – 1). In turn, 4! = 4 × 3!, and so on, until you must calculate 1!, the base case, which is simply 1.</p>

<textarea cols="80" rows="10">def factorial(number):
    if number == 1:
        # BASE CASE
        return 1
    else:
        # RECURSIVE CASE
        return number * factorial(number - 1)
print(factorial(5))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">120</textarea>




<h2>Fibonacci</h2>

<p><a href="/blogstatic/recursion/fibonacciByRecursion">Download fibonacciByRecursion.py</a></p>

<p>The Fibonacci sequence is another classic example for introducing recursion. Mathematically, the Fibonacci sequence of integers begins with the numbers 1 and 1 (or sometimes, 0 and 1). The next number in the sequence is the sum of the previous two numbers. This creates the sequence 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, and so on, forever.</p>

<p>There is a recursive property to calculating Fibonacci numbers. For example, if you want to calculate the 10th Fibonacci number, you add the 9th and 8th Fibonacci numbers together. To calculate those Fibonacci numbers, you add the 8th and 7th, then the 7th and 6th Fibonacci numbers. There’s going to be a lot of repeat calculations: notice that adding the 9th and 8th Fibonacci number involves calculating the 8th Fibonacci number again. You would continue this recursion until you reach the base case of the 1st or 2nd Fibonacci numbers, which are always 1.</p>

<textarea cols="80" rows="10">def fibonacci(nthNumber):
    print('fibonacci(%s) called.' % (nthNumber))
    if nthNumber == 1 or nthNumber == 2:
        # BASE CASE
        print('Base case fibonacci(%s) returning 1.' % (nthNumber))
        return 1
    else:
        # RECURSIVE CASE
        print('Calling fibonacci(%s) (nthNumber - 1).' % (nthNumber - 1))
        result = fibonacci(nthNumber - 1)

        print('Calling fibonacci(%s) (nthNumber - 2).' % (nthNumber - 2))
        result = result + fibonacci(nthNumber - 2)

        print('Call to fibonacci(%s) returning %s.' % (nthNumber, result))
        return result

print(fibonacci(10))</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">fibonacci(10) called.
Calling fibonacci(9) (nthNumber - 1).
fibonacci(9) called.
Calling fibonacci(8) (nthNumber - 1).
fibonacci(8) called.
Calling fibonacci(7) (nthNumber - 1).
fibonacci(7) called.
Calling fibonacci(6) (nthNumber - 1).
fibonacci(6) called.
Calling fibonacci(5) (nthNumber - 1).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Calling fibonacci(4) (nthNumber - 2).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Call to fibonacci(6) returning 8.
Calling fibonacci(5) (nthNumber - 2).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Call to fibonacci(7) returning 13.
Calling fibonacci(6) (nthNumber - 2).
fibonacci(6) called.
Calling fibonacci(5) (nthNumber - 1).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Calling fibonacci(4) (nthNumber - 2).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Call to fibonacci(6) returning 8.
Call to fibonacci(8) returning 21.
Calling fibonacci(7) (nthNumber - 2).
fibonacci(7) called.
Calling fibonacci(6) (nthNumber - 1).
fibonacci(6) called.
Calling fibonacci(5) (nthNumber - 1).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Calling fibonacci(4) (nthNumber - 2).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Call to fibonacci(6) returning 8.
Calling fibonacci(5) (nthNumber - 2).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Call to fibonacci(7) returning 13.
Call to fibonacci(9) returning 34.
Calling fibonacci(8) (nthNumber - 2).
fibonacci(8) called.
Calling fibonacci(7) (nthNumber - 1).
fibonacci(7) called.
Calling fibonacci(6) (nthNumber - 1).
fibonacci(6) called.
Calling fibonacci(5) (nthNumber - 1).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Calling fibonacci(4) (nthNumber - 2).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Call to fibonacci(6) returning 8.
Calling fibonacci(5) (nthNumber - 2).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Call to fibonacci(7) returning 13.
Calling fibonacci(6) (nthNumber - 2).
fibonacci(6) called.
Calling fibonacci(5) (nthNumber - 1).
fibonacci(5) called.
Calling fibonacci(4) (nthNumber - 1).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Calling fibonacci(3) (nthNumber - 2).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Call to fibonacci(5) returning 5.
Calling fibonacci(4) (nthNumber - 2).
fibonacci(4) called.
Calling fibonacci(3) (nthNumber - 1).
fibonacci(3) called.
Calling fibonacci(2) (nthNumber - 1).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Calling fibonacci(1) (nthNumber - 2).
fibonacci(1) called.
Base case fibonacci(1) returning 1.
Call to fibonacci(3) returning 2.
Calling fibonacci(2) (nthNumber - 2).
fibonacci(2) called.
Base case fibonacci(2) returning 1.
Call to fibonacci(4) returning 3.
Call to fibonacci(6) returning 8.
Call to fibonacci(8) returning 21.
Call to fibonacci(10) returning 55.
55</textarea>




<h2>Floodfill</h2>

<p><a href="/blogstatic/recursion/floodfill.py">Download floodfill.py</a></p>


<textarea cols="80" rows="10">import sys

# Create the image (make sure it's rectangular!)
im = [list('..########################...........'),
      list('..#......................#...#####...'),
      list('..#..........########....#####...#...'),
      list('..#..........#......#............#...'),
      list('..#..........########.........####...'),
      list('..######......................#......'),
      list('.......#..#####.....###########......'),
      list('.......####...#######................')]

HEIGHT = len(im)
WIDTH = len(im[0])

def floodFill(image, x, y, newChar, oldChar=None):
    if oldChar == None:
        # oldChar defaults to the character at x, y.
        oldChar = image[y][x]
    if oldChar == newChar or image[y][x] != oldChar:
        # BASE CASE
        return

    image[y][x] = newChar # Change the character.

    # Uncomment to view each step:
    #printImage(image)

    # Change the neighboring characters.
    if y + 1 < HEIGHT and image[y + 1][x] == oldChar:
        # RECURSIVE CASE
        floodFill(image, x, y + 1, newChar, oldChar)
    if y - 1 >= 0 and image[y - 1][x] == oldChar:
        # RECURSIVE CASE
        floodFill(image, x, y - 1, newChar, oldChar)
    if x + 1 < WIDTH and image[y][x + 1] == oldChar:
        # RECURSIVE CASE
        floodFill(image, x + 1, y, newChar, oldChar)
    if x - 1 >= 0 and image[y][x - 1] == oldChar:
        # RECURSIVE CASE
        floodFill(image, x - 1, y, newChar, oldChar)
    return # BASE CASE

def printImage(image):
    for y in range(HEIGHT):
        # Print each row.
        for x in range(WIDTH):
            # Print each column.
            sys.stdout.write(image[y][x])
        sys.stdout.write('\n')
    sys.stdout.write('\n')

printImage(im)
floodFill(im, 3, 3, 'o')
printImage(im)</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">..########################...........
..#......................#...#####...
..#..........########....#####...#...
..#..........#......#............#...
..#..........########.........####...
..######......................#......
.......#..#####.....###########......
.......####...#######................

..########################...........
..#oooooooooooooooooooooo#...#####...
..#oooooooooo########oooo#####ooo#...
..#oooooooooo#......#oooooooooooo#...
..#oooooooooo########ooooooooo####...
..######oooooooooooooooooooooo#......
.......#oo#####ooooo###########......
.......####...#######................</textarea>




<h2>GCD, Greatest Common Denominator</h2>

<p><a href="/blogstatic/recursion/gcdRecursive.py">Download gcdRecursive.py</a></p>

<p>Factors are the numbers that are multiplied to produce a particular number.
Consider 4 × 6 = 24. In this equation, 4 and 6 are factors of 24. Because a
number’s factors can also be used to divide that number without leaving a
remainder, factors are also called divisors. </p>

<p>The factors of 24 are 1, 2, 3, 4, 6, 8, 12, and 24. The factors of 30 are 1, 2, 3, 5, 6, 10, 15, and 30. Note that any number
will always have 1 and itself as its factors because 1 times a number is equal
to that number. Notice too that the list of factors for 24 and 30 have 1, 2,
3, and 6 in common. The greatest of these common factors is 6, so 6 is the
greatest common factor, more commonly known as the greatest common divisor
(GCD), of 24 and 30.</p>

<p>Euclid, a mathematician who lived 2000 years ago, <a href="https://en.wikipedia.org/wiki/Euclidean_algorithm">came up with a short
algorithm</a> for finding the GCD of two numbers using modular arithmetic. His algorithm can be implemented with recursion:</p>

<textarea cols="80" rows="10">def gcd(a, b):
    a, b = b % a, a
    if a == 0:
        # BASE CASE
        return b
    else:
        # RECURSIVE CASE
        return gcd(a, b)

print(gcd(42, 28))
print(gcd(28, 42))
print(gcd(345, 766))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">14
14
1</textarea>




<h2>Hilbert Curve Fractal</h2>

<p><a href="/blogstatic/recursion/hilbertCurve.py">Download hilbertCurve.py</a></p>

<p>A space-filling curve is a one-dimensional line that curves around until it completely fills a two-dimensional space without crossing over itself. German mathematician David Hilbert described his space-filling Hilbert curve in 1891.</p>

<textarea cols="80" rows="10">import turtle
turtle.tracer(10, 0) # Increase the first argument to speed up the drawing.
turtle.setworldcoordinates(0, 0, 700, 700)
turtle.hideturtle()

LINE_LENGTH  = 5 # Try changing the line length by a litte.
ANGLE = 90 # Try changing the turning angle by a few degrees.
LEVELS = 6  # Try changing the recursive level by a litte.
DRAW_SOLID = False
#turtle.setheading(20) # Uncomment this line to draw the curve at an angle.

def hilbertCurveQuadrant(level, angle):
    if level == 0:
        # BASE CASE
        return
    else:
        # RECURSIVE CASE
        turtle.right(angle)
        hilbertCurveQuadrant(level - 1, -angle)
        turtle.forward(LINE_LENGTH)
        turtle.left(angle)
        hilbertCurveQuadrant(level - 1, angle)
        turtle.forward(LINE_LENGTH)
        hilbertCurveQuadrant(level - 1, angle)
        turtle.left(angle)
        turtle.forward(LINE_LENGTH)
        hilbertCurveQuadrant(level - 1, -angle)
        turtle.right(angle)
        return

def hilbertCurve(startingPosition):
    # Move to starting position.
    turtle.penup()
    turtle.goto(startingPosition)
    turtle.pendown()
    if DRAW_SOLID:
        turtle.begin_fill()

    hilbertCurveQuadrant(LEVELS, ANGLE) # Draw lower left quadrant.
    turtle.forward(LINE_LENGTH)

    hilbertCurveQuadrant(LEVELS, ANGLE) # Draw lower right quadrant.
    turtle.left(ANGLE)
    turtle.forward(LINE_LENGTH)
    turtle.left(ANGLE)

    hilbertCurveQuadrant(LEVELS, ANGLE) # Draw upper right quadrant.
    turtle.forward(LINE_LENGTH)

    hilbertCurveQuadrant(LEVELS, ANGLE) # Draw upper left quadrant.

    turtle.left(ANGLE)
    turtle.forward(LINE_LENGTH)
    turtle.left(ANGLE)
    if DRAW_SOLID:
        turtle.end_fill()

hilbertCurve((30, 350))
turtle.exitonclick()
</textarea>

<p>The output of this program looks like this:</p>

<p><img src="/blogstatic/recursion/hilbertcurve.png" /></p>




<h2>Karatsuba Multiplication</h2>

<p><a href="/blogstatic/recursion/karatsubaMultiplication.py">Download karatsubaMultiplication.py</a></p>

<p>Karatsuba multiplication is a fast, recursive algorithm discovered by Anatoly Karatsuba in 1960 that can multiply integers using addition, subtraction, and a pre-computed multiplication table of all products from single-digit numbers.</p>

<textarea cols="80" rows="10">import math

# Create a cache of all single-digit multiplication products:
MULT_TABLE = {}
for i in range(10):
    for j in range(10):
        MULT_TABLE[(i, j)] = i * j

def padZeros(numberString, numZeros, insertSide):
    """Return a string padded with zeros on the left or right side."""
    if insertSide == 'left':
        return '0' * numZeros + numberString
    elif insertSide == 'right':
        return numberString + '0' * numZeros

def karatsuba(x, y):
    """Multiply two integers with the Karatsuba algorithm. Note that
    the * operator isn't used anywhere in this function."""
    assert isinstance(x, int), 'x must be an integer'
    assert isinstance(y, int), 'y must be an integer'
    x = str(x)
    y = str(y)

    # At single-digits, look up the products in the multiplication table:
    if len(x) == 1 and len(y) == 1:  # BASE CASE
        print('Lookup', x, '*', y, '=', MULT_TABLE[(int(x), int(y))])
        return MULT_TABLE[(int(x), int(y))]

    # RECURSIVE CASE
    print('Multiplying', x, '*', y)

    # Pad with prepended zeros so that x and y are the same length:
    if len(x) < len(y):
        # If x is shorter than y, pad x with zeros:
        x = padZeros(x, len(y) - len(x), 'left')
    elif len(y) < len(x):
        # If y is shorter than x, pad y with zeros:
        y = padZeros(y, len(x) - len(y), 'left')
    # At this point, x and y have the same length.

    halfOfDigits = math.floor(len(x) / 2)

    # Split x into halves a & b, split y into halves c & d:
    a = int(x[:halfOfDigits])
    b = int(x[halfOfDigits:])
    c = int(y[:halfOfDigits])
    d = int(y[halfOfDigits:])

    # Make the recursive calls with these halves:
    step1Result = karatsuba(a, c) # Step 1: Multiply a & c.
    step2Result = karatsuba(b, d) # Step 2: Multiply b & d.
    step3Result = karatsuba(a + b, c + d) # Step 3: Multiply a + b & c + d.

    # Step 4: Calculate Step 3 - Step 2 - Step 1:
    step4Result = step3Result - step2Result - step1Result

    # Step 5: Pad these numbers, then add them for the return value:
    step1Padding = (len(x) - halfOfDigits) + (len(x) - halfOfDigits)
    step1PaddedNum = int(padZeros(str(step1Result), step1Padding, 'right'))

    step4Padding = (len(x) - halfOfDigits)
    step4PaddedNum = int(padZeros(str(step4Result), step4Padding, 'right'))

    print('Solved', x, '*', y, '=', step1PaddedNum + step2Result + step4PaddedNum)

    return step1PaddedNum + step2Result + step4PaddedNum

# Example: 1357 x 2468 = 3349076
print('1357 * 2468 =', karatsuba(1357, 2468))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">Multiplying 1357 * 2468
Multiplying 13 * 24
Lookup 1 * 2 = 2
Lookup 3 * 4 = 12
Lookup 4 * 6 = 24
Solved 13 * 24 = 312
Multiplying 57 * 68
Lookup 5 * 6 = 30
Lookup 7 * 8 = 56
Multiplying 12 * 14
Lookup 1 * 1 = 1
Lookup 2 * 4 = 8
Lookup 3 * 5 = 15
Solved 12 * 14 = 168
Solved 57 * 68 = 3876
Multiplying 70 * 92
Lookup 7 * 9 = 63
Lookup 0 * 2 = 0
Multiplying 7 * 11
Lookup 0 * 1 = 0
Lookup 7 * 1 = 7
Lookup 7 * 2 = 14
Solved 07 * 11 = 77
Solved 70 * 92 = 6440
Solved 1357 * 2468 = 3349076
1357 * 2468 = 3349076</textarea>




<h2>Koch Snowflake Fractal</h2>

<p><a href="/blogstatic/recursion/kochSnowflake.py">Download kochSnowflake.py</a></p>

<p>First introduced in 1902 by Swedish mathematician Helge von Koch, the Koch curve is one of the earliest fractals to be described mathematically. Its construction is simple: take a line of length b and divide it into three equal parts, each of length b / 3. Replace the middle section with a “bump” whose sides are also of length b / 3. This bump causes the Koch curve to be longer than the original line, since there are now four line segments of length b / 3. (We’ll exclude the original middle part of the line segment.) This bump-creation can be repeated on the new four line segments. The Koch Snowflake is three of these Koch curves connected together.</p>

<textarea cols="80" rows="10">import turtle
turtle.tracer(10, 0) # Increase the first argument to speed up the drawing.
turtle.setworldcoordinates(0, 0, 700, 700)
turtle.hideturtle()
turtle.pensize(2)

def drawKochCurve(startPosition, heading, length):
    if length < 1:
        # BASE CASE
        return
    else:
        # RECURSIVE CASE
        # Move to the start position.
        recursiveArgs = []
        turtle.penup()
        turtle.goto(startPosition)
        turtle.setheading(heading)
        recursiveArgs.append({'position':turtle.position(),
                              'heading':turtle.heading()})

        # Erase the middle third.
        turtle.forward(length / 3)
        turtle.pencolor('white')
        turtle.pendown()
        turtle.forward(length / 3)

        # Draw the bump.
        turtle.backward(length / 3)
        turtle.left(60)
        recursiveArgs.append({'position':turtle.position(),
                              'heading':turtle.heading()})
        turtle.pencolor('black')
        turtle.forward(length / 3)
        turtle.right(120)
        recursiveArgs.append({'position':turtle.position(),
                              'heading':turtle.heading()})
        turtle.forward(length / 3)
        turtle.left(60)
        recursiveArgs.append({'position':turtle.position(),
                              'heading':turtle.heading()})

        for i in range(4):
            drawKochCurve(recursiveArgs[i]['position'],
                     recursiveArgs[i]['heading'],
                     length / 3)
        return

def drawKochSnowflake(startPosition, heading, length):
    # A Koch snowflake is three Koch curves in a triangle.

    # Move to the starting position
    turtle.penup()
    turtle.goto(startPosition)
    turtle.setheading(heading)

    for i in range(3):
        # Record the starting position and heading.
        curveStartingPosition = turtle.position()
        curveStartingHeading = turtle.heading()
        drawKochCurve(curveStartingPosition,
                      curveStartingHeading, length)

        # Move back to the start position for this side.
        turtle.penup()
        turtle.goto(curveStartingPosition)
        turtle.setheading(curveStartingHeading)

        # Move to the start position of the next side.
        turtle.forward(length)
        turtle.right(120)

drawKochSnowflake((100, 500), 0, 500)
turtle.exitonclick()
</textarea>

<p>The output of this program looks like this:</p>

<p><img src="/blogstatic/recursion/kochsnowflake.png" /></p>




<h2>Merge Sort</h2>

<p><a href="/blogstatic/recursion/mergeSort.py">Download mergeSort.py</a></p>

<p>Computer scientist John von Neumann developed merge sort in 1945 and it is an efficient, general-purpose sorting algorithm particularly used to sort linked list data structures.   It uses a divide-merge approach: each recursive call to mergeSort() divides the unsorted list into halves until they’ve been whittled down into lists with lengths of zero or one. Then, as the recursive calls return, these smaller lists are merged together into sorted order. When the last recursive call has returned, the entire list will have been sorted.</p>

<p>For example, the divide step takes a list, such as [0, 7, 6, 3, 1, 2, 5, 4], and splits it into two lists, like [0, 7, 6, 3] and [1, 2, 5, 4], to pass to two recursive function calls. At the base case, the lists have been divided into lists of zero or one item. After the recursive calls return, the code merges the two lists into a larger list. If the two lists are in sorted order (and lists of zero or one item are sorted by their nature), merging will also produce a sorted list. The end result is that the original mergeSort() call returns the full list in sorted order.
</p>

<textarea cols="80" rows="10">import math

def mergeSort(items):
    print('.....mergeSort() called on:', items)

    if len(items) == 0 or len(items) == 1:  # BASE CASE
        # With only zero or one items, `items` is already sorted.
        return items

    # RECURSIVE CASE
    # Round down if `items` doesn't divide in half evenly:
    iMiddle = math.floor(len(items) / 2)

    print('................Split into:', items[:iMiddle], 'and', items[iMiddle:])

    left = mergeSort(items[:iMiddle])
    right = mergeSort(items[iMiddle:])

    # At this point, `left` should be sorted and `right` should be
    # sorted. We can merge them into a single sorted list like a zipper.
    sortedResult = []
    iLeft = 0
    iRight = 0
    while (len(sortedResult) < len(items)):
        # Append the smaller of left & right's value to `sortedResult`.
        if left[iLeft] < right[iRight]:
            sortedResult.append(left[iLeft])
            iLeft += 1
        else:
            sortedResult.append(right[iRight])
            iRight += 1

        # If one of the pointers has reached the end of its list,
        # put the rest of the other list into `sortedResult`.
        if iLeft == len(left):
            sortedResult.extend(right[iRight:])
            break
        elif iRight == len(right):
            sortedResult.extend(left[iLeft:])
            break

    print('The two halves merged into:', sortedResult)

    return sortedResult  # Returns a sorted version of `items`.

myList = [0, 7, 6, 3, 1, 2, 5, 4]
myList = mergeSort(myList)
print(myList)</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">.....mergeSort() called on: [0, 7, 6, 3, 1, 2, 5, 4]
................Split into: [0, 7, 6, 3] and [1, 2, 5, 4]
.....mergeSort() called on: [0, 7, 6, 3]
................Split into: [0, 7] and [6, 3]
.....mergeSort() called on: [0, 7]
................Split into: [0] and [7]
.....mergeSort() called on: [0]
.....mergeSort() called on: [7]
The two halves merged into: [0, 7]
.....mergeSort() called on: [6, 3]
................Split into: [6] and [3]
.....mergeSort() called on: [6]
.....mergeSort() called on: [3]
The two halves merged into: [3, 6]
The two halves merged into: [0, 3, 6, 7]
.....mergeSort() called on: [1, 2, 5, 4]
................Split into: [1, 2] and [5, 4]
.....mergeSort() called on: [1, 2]
................Split into: [1] and [2]
.....mergeSort() called on: [1]
.....mergeSort() called on: [2]
The two halves merged into: [1, 2]
.....mergeSort() called on: [5, 4]
................Split into: [5] and [4]
.....mergeSort() called on: [5]
.....mergeSort() called on: [4]
The two halves merged into: [4, 5]
The two halves merged into: [1, 2, 4, 5]
The two halves merged into: [0, 1, 2, 3, 4, 5, 6, 7]
[0, 1, 2, 3, 4, 5, 6, 7]
</textarea>




<h2>Permutations</h2>

<p><a href="/blogstatic/recursion/permutations.py">Download permutations.py</a></p>

<p>A permutation of a set is a specific ordering of all elements in the set. For example, there are six permutations for the set {A, B, C}: ABC, ACB, BAC, BCA, CAB, and CBA. We call these permutations without repetition or permutations without replacement, because each element doesn’t appear in the permutation more than once.</p>

<p>Imagine you must arrange the seating chart for a wedding reception with delicate social requirements. Some of the guests hate each other and while others demand to sit near an influential guest. The seats at the table form one long row, rather than a circle. It’d be helpful for your planning to see every possible ordering of guests, that is, every permutation without repetition of the set of guests. There is no repetition because each guest will only appear in the seating chart once. Let’s use a simple example of Alice, Bob, and Carol, or {A, B, C}.</p>

<textarea cols="80" rows="10">def getPerms(chars, indent=0):
    print('.' * indent + 'Start of getPerms("' + chars + '")')
    if len(chars) == 1:
        # BASE CASE
        print('.' * indent + 'When chars = "' + chars + '" base case returns', chars)
        return [chars]

    # RECURSIVE CASE
    permutations = []
    head = chars[0]
    tail = chars[1:]
    tailPermutations = getPerms(tail, indent + 1)
    for tailPerm in tailPermutations:
        print('.' * indent + 'When chars =', chars, 'putting head', head, 'in all places in', tailPerm)
        for i in range(len(tailPerm) + 1):
            newPerm = tailPerm[0:i] + head + tailPerm[i:]
            print('.' * indent + 'New permutation:', newPerm)
            permutations.append(newPerm)
    print('.' * indent + 'When chars =', chars, 'results are', permutations)
    return permutations

print('Permutations of "ABCD":')
print('Results:', ','.join(getPerms('ABCD')))
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">Permutations of "ABCD":
Start of getPerms("ABCD")
.Start of getPerms("BCD")
..Start of getPerms("CD")
...Start of getPerms("D")
...When chars = "D" base case returns D
..When chars = CD putting head C in all places in D
..New permutation: CD
..New permutation: DC
..When chars = CD results are ['CD', 'DC']
.When chars = BCD putting head B in all places in CD
.New permutation: BCD
.New permutation: CBD
.New permutation: CDB
.When chars = BCD putting head B in all places in DC
.New permutation: BDC
.New permutation: DBC
.New permutation: DCB
.When chars = BCD results are ['BCD', 'CBD', 'CDB', 'BDC', 'DBC', 'DCB']
When chars = ABCD putting head A in all places in BCD
New permutation: ABCD
New permutation: BACD
New permutation: BCAD
New permutation: BCDA
When chars = ABCD putting head A in all places in CBD
New permutation: ACBD
New permutation: CABD
New permutation: CBAD
New permutation: CBDA
When chars = ABCD putting head A in all places in CDB
New permutation: ACDB
New permutation: CADB
New permutation: CDAB
New permutation: CDBA
When chars = ABCD putting head A in all places in BDC
New permutation: ABDC
New permutation: BADC
New permutation: BDAC
New permutation: BDCA
When chars = ABCD putting head A in all places in DBC
New permutation: ADBC
New permutation: DABC
New permutation: DBAC
New permutation: DBCA
When chars = ABCD putting head A in all places in DCB
New permutation: ADCB
New permutation: DACB
New permutation: DCAB
New permutation: DCBA
When chars = ABCD results are ['ABCD', 'BACD', 'BCAD', 'BCDA', 'ACBD', 'CABD', 'CBAD', 'CBDA', 'ACDB', 'CADB', 'CDAB', 'CDBA', 'ABDC', 'BADC', 'BDAC', 'BDCA', 'ADBC', 'DABC', 'DBAC', 'DBCA', 'ADCB', 'DACB', 'DCAB', 'DCBA']
Results: ABCD,BACD,BCAD,BCDA,ACBD,CABD,CBAD,CBDA,ACDB,CADB,CDAB,CDBA,ABDC,BADC,BDAC,BDCA,ADBC,DABC,DBAC,DBCA,ADCB,DACB,DCAB,DCBA</textarea>




<h2>Quicksort</h2>

<p><a href="/blogstatic/recursion/quicksort.py">Download quicksort.py</a></p>

<p>Quicksort uses a divide-and-conquer technique called partitioning. Think of partitioning this way: imagine you have a large pile of unalphabetized books. Grabbing one book and placing it in the right spot on the shelf means you’ll spend a lot of time rearranging the bookshelf as it gets full. It would help if you first turned the pile of books into two piles: an A to M pile and an N to Z pile. (In this example, M would be our pivot.)</p>


<p>You haven’t sorted the pile, but you have partitioned it. And partitioning is easy: the book doesn’t have to go into the correct place in one of the two piles, it just has to go into the correct pile. Then you can further partition these two piles into four piles: A to G, H to M, N to T, and U to Z. This is shown in Figure 5-x. If you keep partitioning, you end up with piles that contain one book each (the base case), and the piles are now in sorted order. This repeated partitioning is how quicksort works. </p>

<p>In our implementation, each call to quicksort() is given an array of items to sort. It is also given left and right arguments specifying the range of indexes in that array to sort, similar to binarySearch()’s left and right arguments. The algorithm selects a pivot value to compare with the other values in the range, then places the values to either the left side of the range (if they’re less than the pivot value) or the right side (if they’re greater than the pivot value). This is the partition step. Next, the quicksort() function is recursively called on these two, smaller ranges until a range has been reduced to zero. The list becomes more and more sorted as the recursive calls are made, until finally the entire list is in correct order.</p>


<textarea cols="80" rows="10">def quicksort(items, left=None, right=None):
    # By default, `left` and `right` span the entire range of `items`:
    if left is None:
        left = 0  # `left` defaults to the 0 index.
    if right is None:
        right = len(items) - 1  # `right` defaults to the last index.

    print('\nquicksort() called on this range:', items[left:right + 1])
    print('................The full list is:', items)

    if right <= left:
        return  # BASE CASE

    # START OF THE PARTITIONING
    i = left  # i starts at the left end of the range.
    pivotValue = items[right]  # Select the last value for the pivot.

    print('....................The pivot is:', pivotValue)

    # Iterate up to, but not including, the pivot:
    for j in range(left, right):
        # If a value is less than the pivot, swap it so that it's on the
        # left side of `items`:
        if items[j] <= pivotValue:
            # Swap these two values:
            items[i], items[j] = items[j], items[i]
            i += 1

    # Put the pivot on the left side of `items`:
    items[i], items[right] = items[right], items[i]
    # END OF THE PARTITIONING

    print('....After swapping, the range is:', items[left:right + 1])
    print('Recursively calling quicksort on:', items[left:i], 'and', items[i + 1:right + 1])

    # Call quicksort() on the two partitions:
    quicksort(items, left, i - 1)   # RECURSIVE CASE
    quicksort(items, i + 1, right)  # RECURSIVE CASE

myList = [0, 7, 6, 3, 1, 2, 5, 4]
quicksort(myList)
print('Sorted:', myList)
</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">
quicksort() called on this range: [0, 7, 6, 3, 1, 2, 5, 4]
................The full list is: [0, 7, 6, 3, 1, 2, 5, 4]
....................The pivot is: 4
....After swapping, the range is: [0, 3, 1, 2, 4, 7, 5, 6]
Recursively calling quicksort on: [0, 3, 1, 2] and [7, 5, 6]

quicksort() called on this range: [0, 3, 1, 2]
................The full list is: [0, 3, 1, 2, 4, 7, 5, 6]
....................The pivot is: 2
....After swapping, the range is: [0, 1, 2, 3]
Recursively calling quicksort on: [0, 1] and [3]

quicksort() called on this range: [0, 1]
................The full list is: [0, 1, 2, 3, 4, 7, 5, 6]
....................The pivot is: 1
....After swapping, the range is: [0, 1]
Recursively calling quicksort on: [0] and []

quicksort() called on this range: [0]
................The full list is: [0, 1, 2, 3, 4, 7, 5, 6]

quicksort() called on this range: []
................The full list is: [0, 1, 2, 3, 4, 7, 5, 6]

quicksort() called on this range: [3]
................The full list is: [0, 1, 2, 3, 4, 7, 5, 6]

quicksort() called on this range: [7, 5, 6]
................The full list is: [0, 1, 2, 3, 4, 7, 5, 6]
....................The pivot is: 6
....After swapping, the range is: [5, 6, 7]
Recursively calling quicksort on: [5] and [7]

quicksort() called on this range: [5]
................The full list is: [0, 1, 2, 3, 4, 5, 6, 7]

quicksort() called on this range: [7]
................The full list is: [0, 1, 2, 3, 4, 5, 6, 7]
Sorted: [0, 1, 2, 3, 4, 5, 6, 7]</textarea>




<h2>Shortest Possible Recursive Function</h2>

<p><a href="/blogstatic/recursion/shortest.py">Download shortest.py</a></p>

<p>For a demonstration, this is the shortest possible recursive function. It is merely a function that calls itself. It will result in a stack overflow error.</p>

<textarea cols="80" rows="10">def shortest():
    shortest()

shortest()</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">Traceback (most recent call last):
  File "C:\github\inventwithpythondotcom\static\blogstatic\recursion\shortest.py", line 4, in &lt;module&gt;
    shortest()
  File "C:\github\inventwithpythondotcom\static\blogstatic\recursion\shortest.py", line 2, in shortest
    shortest()
  File "C:\github\inventwithpythondotcom\static\blogstatic\recursion\shortest.py", line 2, in shortest
    shortest()
  File "C:\github\inventwithpythondotcom\static\blogstatic\recursion\shortest.py", line 2, in shortest
    shortest()
  [Previous line repeated 996 more times]
RecursionError: maximum recursion depth exceeded</textarea>




<h2>Sierpinski Carpet</h2>

<p><a href="/blogstatic/recursion/sierpinskiCarpet.py">Download sierpinskiCarpet.py</a></p>

<p>The sierpinski carpet is a square with an empty center and fractal sierpinski carpets in the eight perimeter areas of the square.</p>

<textarea cols="80" rows="10">import turtle
turtle.tracer(10, 0) # Increase the first argument to speed up the drawing.
turtle.setworldcoordinates(0, 0, 700, 700)
turtle.hideturtle()

MIN_SIZE = 6 # Try changing this to decrease/increase the amount of recursion.
DRAW_SOLID = True

def isTooSmall(width, height):
    # Determine if the rectangle is too small to draw.
    return width < MIN_SIZE or height < MIN_SIZE

def drawCarpet(x, y, width, height):
    # The x and y are the lower left corner of the carpet.

    # Move the pen into position.
    turtle.penup()
    turtle.goto(x, y)

    # Draw the outer rectangle.
    turtle.pendown()
    if DRAW_SOLID:
        turtle.fillcolor('black')
        turtle.begin_fill()
    turtle.goto(x, y + height)
    turtle.goto(x + width, y + height)
    turtle.goto(x + width, y)
    turtle.goto(x, y)
    if DRAW_SOLID:
        turtle.end_fill()
    turtle.penup()

    # Draw the inner rectangles.
    drawInnerRectangle(x, y, width, height)

def drawInnerRectangle(x, y, width, height):
    if isTooSmall(width, height):
        # BASE CASE
        return
    else:
        # RECURSIVE CASE

        oneThirdWidth = width / 3
        oneThirdHeight = height / 3
        twoThirdsWidth = 2 * (width / 3)
        twoThirdsHeight = 2 * (height / 3)

        # Move into position.
        turtle.penup()
        turtle.goto(x + oneThirdWidth, y + oneThirdHeight)

        # Draw the inner rectangle.
        if DRAW_SOLID:
            turtle.fillcolor('white')
            turtle.begin_fill()
        turtle.pendown()
        turtle.goto(x + oneThirdWidth, y + twoThirdsHeight)
        turtle.goto(x + twoThirdsWidth, y + twoThirdsHeight)
        turtle.goto(x + twoThirdsWidth, y + oneThirdHeight)
        turtle.goto(x + oneThirdWidth, y + oneThirdHeight)
        turtle.penup()
        if DRAW_SOLID:
            turtle.end_fill()

        # Draw the inner rectangles across the top.
        drawInnerRectangle(x, y + twoThirdsHeight, oneThirdWidth, oneThirdHeight)
        drawInnerRectangle(x + oneThirdWidth, y + twoThirdsHeight, oneThirdWidth, oneThirdHeight)
        drawInnerRectangle(x + twoThirdsWidth, y + twoThirdsHeight, oneThirdWidth, oneThirdHeight)

        # Draw the inner rectangles across the middle.
        drawInnerRectangle(x, y + oneThirdHeight, oneThirdWidth, oneThirdHeight)
        drawInnerRectangle(x + twoThirdsWidth, y + oneThirdHeight, oneThirdWidth, oneThirdHeight)

        # Draw the inner rectangles across the bottom.
        drawInnerRectangle(x, y, oneThirdWidth, oneThirdHeight)
        drawInnerRectangle(x + oneThirdWidth, y, oneThirdWidth, oneThirdHeight)
        drawInnerRectangle(x + twoThirdsWidth, y, oneThirdWidth, oneThirdHeight)

drawCarpet(50, 50, 600, 600)
turtle.exitonclick()
</textarea>

<p>The output of this program looks like this:</p>

<p><img src="/blogstatic/recursion/sierpinskicarpet.png" /></p>






<h2>Sierpinski Triangle</h2>

<p><a href="/blogstatic/recursion/sierpinskiTriangle.py">Download sierpinskiTriangle.py</a></p>

<p>The sierpinski triangle is an equilateral triangle that contains three sierpinski triangles. It looks like the triforce from Zelda video games.</p>

<textarea cols="80" rows="10">import turtle
turtle.tracer(100, 0) # Increase the first argument to speed up the drawing.
turtle.setworldcoordinates(0, 0, 700, 700)
turtle.hideturtle()

MIN_SIZE = 4 # Try changing this to decrease/increase the amount of recursion.

def midpoint(startx, starty, endx, endy):
    # Return the x, y coordinate in the middle of the four given parameters.
    xDiff = abs(startx - endx)
    yDiff = abs(starty - endy)
    return (min(startx, endx) + (xDiff / 2.0), min(starty, endy) + (yDiff / 2.0))

def isTooSmall(ax, ay, bx, by, cx, cy):
    # Determine if the triangle is too small to draw.
    width = max(ax, bx, cx) - min(ax, bx, cx)
    height = max(ay, by, cy) - min(ay, by, cy)
    return width < MIN_SIZE or height < MIN_SIZE

def drawTriangle(ax, ay, bx, by, cx, cy):
    if isTooSmall(ax, ay, bx, by, cx, cy):
        # BASE CASE
        return
    else:
        # RECURSIVE CASE
        # Draw the triangle.
        turtle.penup()
        turtle.goto(ax, ay)
        turtle.pendown()
        turtle.goto(bx, by)
        turtle.goto(cx, cy)
        turtle.goto(ax, ay)
        turtle.penup()

        # Calculate midpoints between points A, B, and C.
        mid_ab = midpoint(ax, ay, bx, by)
        mid_bc = midpoint(bx, by, cx, cy)
        mid_ca = midpoint(cx, cy, ax, ay)

        # Draw the three inner triangles.
        drawTriangle(ax, ay, mid_ab[0], mid_ab[1], mid_ca[0], mid_ca[1])
        drawTriangle(mid_ab[0], mid_ab[1], bx, by, mid_bc[0], mid_bc[1])
        drawTriangle(mid_ca[0], mid_ca[1], mid_bc[0], mid_bc[1], cx, cy)
        return

# Draw an equilateral Sierpinski triangle.
drawTriangle(50, 50, 350, 650, 650, 50)

# Draw a skewed Sierpinski triangle.
#drawTriangle(30, 250, 680, 600, 500, 80)

turtle.exitonclick()
</textarea>

<p>The output of this program looks like this:</p>

<p><img src="/blogstatic/recursion/sierpinskitriangle.png" /></p>




<h2>Towers of Hanoi</h2>

<p><a href="/blogstatic/recursion/towerOfHanoiSolver.py">Download towerOfHanoiSolver.py</a></p>

<p>The Tower of Hanoi is a puzzle involving a tower of stacked disks. The puzzle begins with the largest disk on the bottom and the disk sizes decrease going up. The disks have a hole in their center so they can be stacked on top of each other through a pole. To solve the puzzle, the player must move the stack of disks from one pole to another while following three rules:</p>

<ol>
<li>The player can move only one disk at a time.</li>
<li>The player can only move disks to and from the top of a tower.</li>
<li>The player can never place a larger disk on top of a smaller disk.</li>
</ol>

<textarea cols="80" rows="10"># Set up towers A, B, and C. The end of the list is the top of the tower.
TOTAL_DISKS = 6

# Populate Tower A:
TOWERS = {'A': list(reversed(range(1, TOTAL_DISKS + 1))),
          'B': [],
          'C': []}

def printDisk(diskNum):
    # Print a single disk of width diskNum.
    emptySpace = ' ' * (TOTAL_DISKS - diskNum)
    if diskNum == 0:
        # Just draw the pole.
        print(emptySpace + '||' + emptySpace, end='')
    else:
        # Draw the disk.
        diskSpace = '@' * diskNum
        diskNumLabel = str(diskNum).rjust(2, '_')
        print(emptySpace + diskSpace + diskNumLabel + diskSpace + emptySpace, end='')

def printTowers():
    # Print all three towers.
    for level in range(TOTAL_DISKS, -1, -1):
        for tower in (TOWERS['A'], TOWERS['B'], TOWERS['C']):
            if level >= len(tower):
                printDisk(0)
            else:
                printDisk(tower[level])
        print()
    # Print the tower labels A, B, and C.
    emptySpace = ' ' * (TOTAL_DISKS)
    print('%s A%s%s B%s%s C\n' % (emptySpace, emptySpace, emptySpace, emptySpace, emptySpace))

def moveOneDisk(startTower, endTower):
    # Move the top disk from startTower to endTower.
    disk = TOWERS[startTower].pop()
    TOWERS[endTower].append(disk)

def solve(numberOfDisks, startTower, endTower, tempTower):
    # Move the top numberOfDisks disks from startTower to endTower.
    if numberOfDisks == 1:
        # BASE CASE
        moveOneDisk(startTower, endTower)
        printTowers()
        return
    else:
        # RECURSIVE CASE
        solve(numberOfDisks - 1, startTower, tempTower, endTower)
        moveOneDisk(startTower, endTower)
        printTowers()
        solve(numberOfDisks - 1, tempTower, endTower, startTower)
        return


# Solve
printTowers()
solve(TOTAL_DISKS, 'A', 'B', 'C')

# Uncomment to enable interactive mode:
#while True:
#    printTowers()
#    print('Enter letter of start tower and the end tower. (A, B, C) Or Q to quit.')
#    move = input().upper()
#    if move == 'Q':
#        sys.exit()
#    elif move[0] in 'ABC' and move[1] in 'ABC' and move[0] != move[1]:
#        moveOneDisk(move[0], move[1])

</textarea>

<p>The output of this program looks like this:</p>

<textarea cols="80" rows="5">      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
   @@@_3@@@         ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@       ||            ||
@@@@@@_6@@@@@@      ||            ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||            ||
   @@@_3@@@         ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@       ||            ||
@@@@@@_6@@@@@@      ||           @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
   @@@_3@@@         ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@       ||            ||
@@@@@@_6@@@@@@    @@_2@@         @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
   @@@_3@@@         ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@      @_1@           ||
@@@@@@_6@@@@@@    @@_2@@          ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@      @_1@           ||
@@@@@@_6@@@@@@    @@_2@@       @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@       ||            ||
@@@@@@_6@@@@@@    @@_2@@       @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
  @@@@_4@@@@        ||            ||
 @@@@@_5@@@@@       ||          @@_2@@
@@@@@@_6@@@@@@      ||         @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
  @@@@_4@@@@        ||           @_1@
 @@@@@_5@@@@@       ||          @@_2@@
@@@@@@_6@@@@@@      ||         @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
 @@@@@_5@@@@@       ||          @@_2@@
@@@@@@_6@@@@@@  @@@@_4@@@@     @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
 @@@@@_5@@@@@      @_1@         @@_2@@
@@@@@@_6@@@@@@  @@@@_4@@@@     @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||            ||
 @@@@@_5@@@@@      @_1@           ||
@@@@@@_6@@@@@@  @@@@_4@@@@     @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
 @@@@@_5@@@@@       ||            ||
@@@@@@_6@@@@@@  @@@@_4@@@@     @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
 @@@@@_5@@@@@    @@@_3@@@         ||
@@@@@@_6@@@@@@  @@@@_4@@@@        ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||            ||
 @@@@@_5@@@@@    @@@_3@@@         ||
@@@@@@_6@@@@@@  @@@@_4@@@@       @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@          ||
 @@@@@_5@@@@@    @@@_3@@@         ||
@@@@@@_6@@@@@@  @@@@_4@@@@       @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
 @@@@@_5@@@@@    @@@_3@@@         ||
@@@@@@_6@@@@@@  @@@@_4@@@@        ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
      ||         @@@_3@@@         ||
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@          ||
     @_1@        @@@_3@@@         ||
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@        @@@_3@@@       @@_2@@
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
      ||         @@@_3@@@       @@_2@@
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
   @@@_3@@@         ||          @@_2@@
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
   @@@_3@@@        @_1@         @@_2@@
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||            ||
   @@@_3@@@        @_1@           ||
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
   @@@_3@@@         ||            ||
@@@@@@_6@@@@@@  @@@@_4@@@@   @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
   @@@_3@@@         ||        @@@@_4@@@@
@@@@@@_6@@@@@@      ||       @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||           @_1@
   @@@_3@@@         ||        @@@@_4@@@@
@@@@@@_6@@@@@@      ||       @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
   @@@_3@@@         ||        @@@@_4@@@@
@@@@@@_6@@@@@@    @@_2@@     @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
   @@@_3@@@        @_1@       @@@@_4@@@@
@@@@@@_6@@@@@@    @@_2@@     @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||         @@@_3@@@
      ||           @_1@       @@@@_4@@@@
@@@@@@_6@@@@@@    @@_2@@     @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||         @@@_3@@@
     @_1@           ||        @@@@_4@@@@
@@@@@@_6@@@@@@    @@_2@@     @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||          @@_2@@
      ||            ||         @@@_3@@@
     @_1@           ||        @@@@_4@@@@
@@@@@@_6@@@@@@      ||       @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
      ||            ||          @@_2@@
      ||            ||         @@@_3@@@
      ||            ||        @@@@_4@@@@
@@@@@@_6@@@@@@      ||       @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
      ||            ||          @@_2@@
      ||            ||         @@@_3@@@
      ||            ||        @@@@_4@@@@
      ||      @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||          @@_2@@
      ||            ||         @@@_3@@@
      ||           @_1@       @@@@_4@@@@
      ||      @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||         @@@_3@@@
      ||           @_1@       @@@@_4@@@@
    @@_2@@    @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||         @@@_3@@@
     @_1@           ||        @@@@_4@@@@
    @@_2@@    @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@        @@@_3@@@     @@@@_4@@@@
    @@_2@@    @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
      ||         @@@_3@@@     @@@@_4@@@@
    @@_2@@    @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@         @_1@
      ||         @@@_3@@@     @@@@_4@@@@
      ||      @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
      ||         @@@_3@@@     @@@@_4@@@@
      ||      @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
      ||         @@@_3@@@         ||
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@          ||
     @_1@        @@@_3@@@         ||
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@        @@@_3@@@       @@_2@@
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
      ||         @@@_3@@@       @@_2@@
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
   @@@_3@@@         ||          @@_2@@
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
   @@@_3@@@        @_1@         @@_2@@
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||            ||
   @@@_3@@@        @_1@           ||
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
   @@@_3@@@         ||            ||
  @@@@_4@@@@  @@@@@@_6@@@@@@ @@@@@_5@@@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@           ||            ||
    @@_2@@          ||            ||
   @@@_3@@@    @@@@@_5@@@@@       ||
  @@@@_4@@@@  @@@@@@_6@@@@@@      ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
    @@_2@@          ||            ||
   @@@_3@@@    @@@@@_5@@@@@       ||
  @@@@_4@@@@  @@@@@@_6@@@@@@     @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@          ||
   @@@_3@@@    @@@@@_5@@@@@       ||
  @@@@_4@@@@  @@@@@@_6@@@@@@     @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
   @@@_3@@@    @@@@@_5@@@@@       ||
  @@@@_4@@@@  @@@@@@_6@@@@@@      ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
      ||       @@@@@_5@@@@@       ||
  @@@@_4@@@@  @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@          ||
     @_1@      @@@@@_5@@@@@       ||
  @@@@_4@@@@  @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
     @_1@      @@@@@_5@@@@@     @@_2@@
  @@@@_4@@@@  @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||           @_1@
      ||       @@@@@_5@@@@@     @@_2@@
  @@@@_4@@@@  @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||        @@@@_4@@@@       @_1@
      ||       @@@@@_5@@@@@     @@_2@@
      ||      @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||        @@@@_4@@@@        ||
      ||       @@@@@_5@@@@@     @@_2@@
      ||      @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||           @_1@           ||
      ||        @@@@_4@@@@        ||
      ||       @@@@@_5@@@@@       ||
    @@_2@@    @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||        @@@@_4@@@@        ||
     @_1@      @@@@@_5@@@@@       ||
    @@_2@@    @@@@@@_6@@@@@@   @@@_3@@@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||         @@@_3@@@         ||
      ||        @@@@_4@@@@        ||
     @_1@      @@@@@_5@@@@@       ||
    @@_2@@    @@@@@@_6@@@@@@      ||
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||            ||            ||
      ||         @@@_3@@@         ||
      ||        @@@@_4@@@@        ||
      ||       @@@@@_5@@@@@       ||
    @@_2@@    @@@@@@_6@@@@@@     @_1@
       A             B             C

      ||            ||            ||
      ||            ||            ||
      ||          @@_2@@          ||
      ||         @@@_3@@@         ||
      ||        @@@@_4@@@@        ||
      ||       @@@@@_5@@@@@       ||
      ||      @@@@@@_6@@@@@@     @_1@
       A             B             C

      ||            ||            ||
      ||           @_1@           ||
      ||          @@_2@@          ||
      ||         @@@_3@@@         ||
      ||        @@@@_4@@@@        ||
      ||       @@@@@_5@@@@@       ||
      ||      @@@@@@_6@@@@@@      ||
       A             B             C
</textarea>




<h2>Tree Fractal</h2>

<p><a href="/blogstatic/recursion/fractalTree.py">Download fractalTree.py</a></p>

<p>Trees can be algorithmically generated as a fractal. These trees are generated by having each branch produce two more similar but smaller branches.</p>

<textarea cols="80" rows="10">import random
import time
import turtle
turtle.tracer(1000, 0) # Increase the first argument to speed up the drawing.
turtle.setworldcoordinates(0, 0, 700, 700)
turtle.hideturtle()

def drawBranch(startPosition, direction, branchLength):
    if branchLength < 5:
        # BASE CASE
        return

    # Go to the starting point & direction.
    turtle.penup()
    turtle.goto(startPosition)
    turtle.setheading(direction)

    # Draw the branch (thickness is 1/7 the length).
    turtle.pendown()
    turtle.pensize(max(branchLength / 7.0, 1))
    turtle.forward(branchLength)

    # Record the position of the branch's end.
    endPosition = turtle.position()
    leftDirection = direction + LEFT_ANGLE
    leftBranchLength = branchLength - LEFT_DECREASE
    rightDirection = direction - RIGHT_ANGLE
    rightBranchLength = branchLength - RIGHT_DECREASE

    # RECURSIVE CASE
    drawBranch(endPosition, leftDirection, leftBranchLength)
    drawBranch(endPosition, rightDirection, rightBranchLength)

seed = 0
while True:
    # Get psuedorandom numbers for the branch properties.
    random.seed(seed)
    LEFT_ANGLE     = random.randint(10,  30)
    LEFT_DECREASE  = random.randint( 8,  15)
    RIGHT_ANGLE    = random.randint(10,  30)
    RIGHT_DECREASE = random.randint( 8,  15)
    START_LENGTH   = random.randint(80, 120)

    # Write out the seed number.
    turtle.clear()
    turtle.penup()
    turtle.goto(10, 10)
    turtle.write('Seed: %s' % (seed))

    # Draw the tree.
    drawBranch((350, 10), 90, START_LENGTH)
    turtle.update()
    time.sleep(2)

    seed = seed + 1

</textarea>

<p>The output of this program looks like this:</p>

<p><img src="/blogstatic/recursion/fractaltree.png" /></p>


<h2>Learn More About Recursion</h2>

<p>To learn how these programs work and learn more about recursion in general, you can check out my book, <a href="https://inventwithpython.com/recursion/">The Recursive Book of Recursion</a>. You can get an ebook copy for free when you <a href="https://nostarch.com/recursive-book-recursion">buy a print book from the publisher, No Starch Press</a>.</p>







</body>
</html>