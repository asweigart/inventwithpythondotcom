<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Another Typewriter";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	page-break-after:avoid;
	border:none;
	padding:0in;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:44.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:55.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:66.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:77.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:88.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";
	color:#4F81BD;
	font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	color:black;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
span.Definition
	{mso-style-name:Definition;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Times New Roman","serif";}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"Times New Roman","serif";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
p.TableListing, li.TableListing, div.TableListing
	{mso-style-name:"Table Listing";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TableHeader, li.TableHeader, div.TableHeader
	{mso-style-name:"Table Header";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
p.ChapterTitle, li.ChapterTitle, div.ChapterTitle
	{mso-style-name:"Chapter Title";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.ChapterTitleCxSpFirst, li.ChapterTitleCxSpFirst, div.ChapterTitleCxSpFirst
	{mso-style-name:"Chapter TitleCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.ChapterTitleCxSpMiddle, li.ChapterTitleCxSpMiddle, div.ChapterTitleCxSpMiddle
	{mso-style-name:"Chapter TitleCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.ChapterTitleCxSpLast, li.ChapterTitleCxSpLast, div.ChapterTitleCxSpLast
	{mso-style-name:"Chapter TitleCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
span.URL
	{mso-style-name:URL;
	color:windowtext;
	text-decoration:underline;}
p.SourceCodeExcerpt, li.SourceCodeExcerpt, div.SourceCodeExcerpt
	{mso-style-name:"Source Code Excerpt";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeExcerptCxSpFirst, li.SourceCodeExcerptCxSpFirst, div.SourceCodeExcerptCxSpFirst
	{mso-style-name:"Source Code ExcerptCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeExcerptCxSpMiddle, li.SourceCodeExcerptCxSpMiddle, div.SourceCodeExcerptCxSpMiddle
	{mso-style-name:"Source Code ExcerptCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeExcerptCxSpLast, li.SourceCodeExcerptCxSpLast, div.SourceCodeExcerptCxSpLast
	{mso-style-name:"Source Code ExcerptCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFeatured, li.SourceCodeFeatured, div.SourceCodeFeatured
	{mso-style-name:"Source Code \(Featured\)";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeFeaturedCxSpFirst, li.SourceCodeFeaturedCxSpFirst, div.SourceCodeFeaturedCxSpFirst
	{mso-style-name:"Source Code \(Featured\)CxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeFeaturedCxSpMiddle, li.SourceCodeFeaturedCxSpMiddle, div.SourceCodeFeaturedCxSpMiddle
	{mso-style-name:"Source Code \(Featured\)CxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeFeaturedCxSpLast, li.SourceCodeFeaturedCxSpLast, div.SourceCodeFeaturedCxSpLast
	{mso-style-name:"Source Code \(Featured\)CxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
span.SourceCode
	{mso-style-name:"Source Code";
	font-family:"Lucida Console";}
p.SampleRun, li.SampleRun, div.SampleRun
	{mso-style-name:"Sample Run";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpFirst, li.SampleRunCxSpFirst, div.SampleRunCxSpFirst
	{mso-style-name:"Sample RunCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpMiddle, li.SampleRunCxSpMiddle, div.SampleRunCxSpMiddle
	{mso-style-name:"Sample RunCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpLast, li.SampleRunCxSpLast, div.SampleRunCxSpLast
	{mso-style-name:"Sample RunCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
span.SampleRunResponse
	{mso-style-name:"Sample Run Response";
	color:black;}
span.SourceLineNumber
	{mso-style-name:"Source Line Number";
	color:gray;}
p.MessageText, li.MessageText, div.MessageText
	{mso-style-name:"Message Text";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Lucida Sans Typewriter";}
p.TopicsCoveredbox, li.TopicsCoveredbox, div.TopicsCoveredbox
	{mso-style-name:"Topics Covered box";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpFirst, li.TopicsCoveredboxCxSpFirst, div.TopicsCoveredboxCxSpFirst
	{mso-style-name:"Topics Covered boxCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpMiddle, li.TopicsCoveredboxCxSpMiddle, div.TopicsCoveredboxCxSpMiddle
	{mso-style-name:"Topics Covered boxCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpLast, li.TopicsCoveredboxCxSpLast, div.TopicsCoveredboxCxSpLast
	{mso-style-name:"Topics Covered boxCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
span.Literal
	{mso-style-name:Literal;
	font-family:Courier;}
span.SourceCodeComment
	{mso-style-name:"Source Code Comment";
	color:#7F7F7F;}
p.FigureCaption, li.FigureCaption, div.FigureCaption
	{mso-style-name:"Figure Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.FigureCaptionCxSpFirst, li.FigureCaptionCxSpFirst, div.FigureCaptionCxSpFirst
	{mso-style-name:"Figure CaptionCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.FigureCaptionCxSpMiddle, li.FigureCaptionCxSpMiddle, div.FigureCaptionCxSpMiddle
	{mso-style-name:"Figure CaptionCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.FigureCaptionCxSpLast, li.FigureCaptionCxSpLast, div.FigureCaptionCxSpLast
	{mso-style-name:"Figure CaptionCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.SourceCodeFilename
	{mso-style-name:"Source Code Filename";
	font-family:"Lucida Sans Typewriter";}
p.TableCaption, li.TableCaption, div.TableCaption
	{mso-style-name:"Table Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	text-align:center;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.Filename
	{mso-style-name:Filename;
	font-style:italic;}
p.CipherInfoBox, li.CipherInfoBox, div.CipherInfoBox
	{mso-style-name:"Cipher Info Box";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	background:#FFFF99;
	border:none;
	padding:0in;
	font-size:14.0pt;
	font-family:"Another Typewriter";
	letter-spacing:1.4pt;}
p.ChapterQuotes, li.ChapterQuotes, div.ChapterQuotes
	{mso-style-name:"Chapter Quotes";
	margin-top:30.0pt;
	margin-right:1.0in;
	margin-bottom:30.0pt;
	margin-left:1.0in;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterQuotesCxSpFirst, li.ChapterQuotesCxSpFirst, div.ChapterQuotesCxSpFirst
	{mso-style-name:"Chapter QuotesCxSpFirst";
	margin-top:30.0pt;
	margin-right:1.0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterQuotesCxSpMiddle, li.ChapterQuotesCxSpMiddle, div.ChapterQuotesCxSpMiddle
	{mso-style-name:"Chapter QuotesCxSpMiddle";
	margin-top:0in;
	margin-right:1.0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterQuotesCxSpLast, li.ChapterQuotesCxSpLast, div.ChapterQuotesCxSpLast
	{mso-style-name:"Chapter QuotesCxSpLast";
	margin-top:0in;
	margin-right:1.0in;
	margin-bottom:30.0pt;
	margin-left:1.0in;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.CodeExample, li.CodeExample, div.CodeExample
	{mso-style-name:"Code Example";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.CodeExampleCxSpFirst, li.CodeExampleCxSpFirst, div.CodeExampleCxSpFirst
	{mso-style-name:"Code ExampleCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.CodeExampleCxSpMiddle, li.CodeExampleCxSpMiddle, div.CodeExampleCxSpMiddle
	{mso-style-name:"Code ExampleCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.CodeExampleCxSpLast, li.CodeExampleCxSpLast, div.CodeExampleCxSpLast
	{mso-style-name:"Code ExampleCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.SmallerText, li.SmallerText, div.SmallerText
	{mso-style-name:"Smaller Text";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";}
p.SourceCodeHeadline, li.SourceCodeHeadline, div.SourceCodeHeadline
	{mso-style-name:"Source Code \(Headline\)";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeHeadlineCxSpFirst, li.SourceCodeHeadlineCxSpFirst, div.SourceCodeHeadlineCxSpFirst
	{mso-style-name:"Source Code \(Headline\)CxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeHeadlineCxSpMiddle, li.SourceCodeHeadlineCxSpMiddle, div.SourceCodeHeadlineCxSpMiddle
	{mso-style-name:"Source Code \(Headline\)CxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeHeadlineCxSpLast, li.SourceCodeHeadlineCxSpLast, div.SourceCodeHeadlineCxSpLast
	{mso-style-name:"Source Code \(Headline\)CxSpLast";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.Style1, li.Style1, div.Style1
	{mso-style-name:Style1;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.Style1CxSpFirst, li.Style1CxSpFirst, div.Style1CxSpFirst
	{mso-style-name:Style1CxSpFirst;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.Style1CxSpMiddle, li.Style1CxSpMiddle, div.Style1CxSpMiddle
	{mso-style-name:Style1CxSpMiddle;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.Style1CxSpLast, li.Style1CxSpLast, div.Style1CxSpLast
	{mso-style-name:Style1CxSpLast;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>
<div style='float: right; height: 310px; font-family: sans-serif;'>Ad: Programming books by Al Sweigart<br />
    <a href='http://www.nostarch.com/automatestuff' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src='/images/cover_automate_thumb.png' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/gp/product/0982106017?ie=UTF8&tag=playwithpyth-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0982106017' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src='/images/cover_inventwithpython_thumb.jpg' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&tag=playwithpyth-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0982106017' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src='/images/cover_makinggames_thumb.png' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/gp/product/1482614375/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1482614375&linkCode=as2&tag=playwithpyth-20' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src='/images/cover_hackingciphers_thumb.png' style="height: 200px; border: solid black 1px;" /></a>
</div>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><img width=327
height=180 id="Picture 32" src="chapter12_files/image001.jpg"></p>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc353630753"><span style='font-variant:normal !important;
text-transform:uppercase'>Detecting English Programmatically</span></a></h1>

</div>

<div style='border:solid windowtext 1.0pt;padding:4.0pt 4.0pt 4.0pt 4.0pt;
background:#DBE5F1'>

<p class=TopicsCoveredboxCxSpFirst style='background:#DBE5F1;border:none;
padding:0in'>Topics Covered In This Chapter:</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Dictionaries</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>split()</span> Method</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>None</span> Value</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>&quot;Divide by Zero&quot; Errors</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>float()</span>, <span class=Literal>int()</span>,
and <span class=Literal>str()</span> Functions and Python 2 Division</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>append()</span> List Method</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Default Arguments</p>

<p class=TopicsCoveredboxCxSpLast style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Calculating Percentage</p>

</div>

<p class=ChapterQuotesCxSpFirst>The gaffer says something longer and more
complicated. After a while, Waterhouse (now wearing his cryptoanalyst hat,
searching for meaning midst apparent randomness, his neural circuits exploiting
the redundancies in the signal) realizes that the man is speaking heavily
accented English.</p>

<p class=ChapterQuotesCxSpLast align=right style='text-align:right'><span
style='font-size:11.0pt;line-height:115%'>“Cryptonomicon” by Neal Stephenson</span></p>

<p class=MsoNormal>A message encrypted with the transposition cipher can have
thousands of possible keys. Your computer can still easily brute-force this
many keys, but you would then have to look through thousands of decryptions to
find the one correct plaintext. This is a big problem for the brute-force
method of cracking the transposition cipher.</p>

<p class=MsoNormal>When the computer decrypts a message with the wrong key, the
resulting plaintext is garbage text. We need to program the computer to be able
to recognize if the plaintext is garbage text or English text. That way, if the
computer decrypts with the wrong key, it knows to go on and try the next
possible key. And when the computer tries a key that decrypts to English text,
it can stop and bring that key to the attention of the cryptanalyst. Now the
cryptanalyst won’t have to look through thousands of incorrect decryptions.</p>

<h2><a name="_Toc353630754">How Can a Computer Understand English?</a></h2>

<p class=MsoNormal>It can’t. At least, not in the way that human beings like
you or I understand English. Computers don’t really understand math, chess, or
lethal military androids either, any more than a clock understands lunchtime.
Computers just execute instructions one after another. But these instructions
can mimic very complicated behaviors that solve math problems, win at chess, or
hunt down the future leaders of the human resistance.</p>

<p class=MsoNormal>Ideally, what we need is a Python function (let’s call it <span
class=Literal>isEnglish()</span>) that has a string passed to it and then returns
<span class=Literal>True</span> if the string is English text and <span
class=Literal>False</span> if it’s random gibberish. Let’s take a look at some
English text and some garbage text and try to see what patterns the two have:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SampleRunCxSpFirst>Robots are your friends. Except for RX-686. She
will try to eat you.</p>

<p class=SampleRunCxSpMiddle>&nbsp;</p>

<p class=SampleRunCxSpLast>ai-pey  e. xrx ne augur iirl6 Rtiyt fhubE6d hrSei
t8..ow eo.telyoosEs  t</p>

</div>

<p class=MsoNormal>One thing we can notice is that the English text is made up
of words that you could find in a dictionary, but the garbage text is made up
of words that you won’t. Splitting up the string into individual words is easy.
There is already a Python string method named <span class=Literal>split()</span>
that will do this for us (this method will be explained later). The <span
class=Literal>split()</span> method just sees when each word begins or ends by
looking for the space characters. Once we have the individual words, we can
test to see if each word is a word in the dictionary with code like this:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerpt style='border:none;padding:0in'>if word ==
'aardvark' or word == 'abacus' or word == 'abandon' or word == 'abandoned' or
word == 'abbreviate' or word == 'abbreviation' or word == 'abdomen' or …</p>

</div>

<p class=MsoNormal>We <i>can</i> write code like that, but we probably
shouldn’t. The computer won’t mind running through all this code, but you
wouldn’t want to type it all out. Besides, somebody else has already typed out
a text file full of nearly all English words. These text files are called <span
class=Definition><span style='font-size:12.0pt;line-height:115%'>dictionary
files</span></span>. So we just need to write a function that checks if the
words in the string exist somewhere in that file.</p>

<p class=MsoNormal>Remember, a <em>dictionary file</em> is a text file that
contains a large list of English words. A <em>dictionary value</em> is a Python
value that has key-value pairs.</p>

<p class=MsoNormal>Not every word will exist in our “dictionary file”. Maybe
the dictionary file is incomplete and doesn’t have the word, say, “aardvark”.
There are also perfectly good decryptions that might have non-English words in
them, such as “RX-686” in our above English sentence. (Or maybe the plaintext
is in a different language besides English. But we’ll just assume it is in
English for now.)</p>

<p class=MsoNormal>And garbage text might just happen to have an English word
or two in it by coincidence. For example, it turns out the word “augur” means a
person who tries to predict the future by studying the way birds are flying.
Seriously.</p>

<p class=MsoNormal>So our function will not be foolproof. But if most of the
words in the string argument are English words, it is a good bet to say that
the string is English text. It is a very low probability that a ciphertext will
decrypt to English if decrypted with the wrong key.</p>

<p class=MsoNormal>The dictionary text file will have one word per line in
uppercase. It will look like this:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SampleRunCxSpFirst>AARHUS</p>

<p class=SampleRunCxSpMiddle>AARON</p>

<p class=SampleRunCxSpMiddle>ABABA</p>

<p class=SampleRunCxSpMiddle>ABACK</p>

<p class=SampleRunCxSpMiddle>ABAFT</p>

<p class=SampleRunCxSpMiddle>ABANDON</p>

<p class=SampleRunCxSpMiddle>ABANDONED</p>

<p class=SampleRunCxSpMiddle>ABANDONING</p>

<p class=SampleRunCxSpMiddle>ABANDONMENT</p>

<p class=SampleRunCxSpLast>ABANDONS</p>

</div>

<p class=MsoNormal>…and so on. You can download this entire file (which has
over 45,000 words) from <span class=URL><u>http://invpy.com/dictionary.txt</u></span>.</p>

<p class=MsoNormal>Our <span class=Literal>isEnglish()</span> function will
have to split up a decrypted string into words, check if each word is in a file
full of thousands of English words, and if a certain amount of the words are English
words, then we will say that the text is in English. And if the text is in
English, then there’s a good bet that we have decrypted the ciphertext with the
correct key.</p>

<p class=MsoNormal>And that is how the computer can understand if a string is
English or if it is gibberish.</p>

<h2><a name="_Toc353630755">Practice Exercises, Chapter 12, Section A</a></h2>

<p class=MsoNormal>Practice exercises can be found at <span class=URL><u>http://invpy.com/hackingpractice12A</u></span>.</p>

<h2><a name="_Toc353630756">The Detect English Module</a></h2>

<p class=MsoNormal>The <span class=Filename>detectEnglish.py</span> program
that we write in this chapter isn’t a program that runs by itself. Instead, it
will be imported by our encryption programs so that they can call the <span
class=Literal>detectEnglish.isEnglish()</span> function. This is why we don’t
give <span class=Filename>detectEnglish.py</span> a <span class=Literal>main()</span>
function. The other functions in the program are all provided for <span
class=Literal>isEnglish()</span> to call.</p>

<h2><a name="_Toc353630757">Source Code for the Detect English Module</a></h2>

<p class=MsoNormal>Open a new file editor window by clicking on <strong>File</strong>
&#9658; <strong>New Window</strong>. Type in the following code into the file
editor, and then save it as <span class=Filename>detectEnglish.py</span>. Press
<strong>F5</strong> to run the program.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeFeaturedCxSpFirst align=right style='text-align:right'><span
class=SourceCodeFilename><span style='font-size:13.0pt;line-height:115%'>Source
code for detectEnglish.py</span></span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 1.</span> <span
class=SourceCodeComment># Detect English module</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 2.</span> <span
class=SourceCodeComment># http://inventwithpython.com/hacking (BSD Licensed)</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 3. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 4.</span> <span
class=SourceCodeComment># To use, type this code:</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 5.</span> <span
class=SourceCodeComment>#   import detectEnglish</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 6.</span> <span
class=SourceCodeComment>#   detectEnglish.isEnglish(someString) # returns True
or False</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 7.</span> <span
class=SourceCodeComment># (There must be a &quot;dictionary.txt&quot; file in
this directory with all English</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 8.</span> <span
class=SourceCodeComment># words in it, one word per line. You can download this
from</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 9.</span> <span
class=SourceCodeComment># http://invpy.com/dictionary.txt)</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>10.</span> UPPERLETTERS
= 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>11.</span>
LETTERS_AND_SPACE = UPPERLETTERS + UPPERLETTERS.lower() + ' \t\n'</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>12. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>13.</span>
def loadDictionary():</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>14.</span>    
dictionaryFile = open('dictionary.txt')</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>15.</span>    
englishWords = {}</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>16.</span>    
for word in dictionaryFile.read().split('\n'):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>17.</span>        
englishWords[word] = None</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>18.</span>    
dictionaryFile.close()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>19.</span>    
return englishWords</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>20. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>21.</span>
ENGLISH_WORDS = loadDictionary()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>22. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>23. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>24.</span>
def getEnglishCount(message):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>25.</span>    
message = message.upper()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>26.</span>    
message = removeNonLetters(message)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>27.</span>    
possibleWords = message.split()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>28. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>29.</span>    
if possibleWords == []:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>30.</span>        
return 0.0 <span class=SourceCodeComment># no words at all, so return 0.0</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>31. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>32.</span>    
matches = 0</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>33.</span>    
for word in possibleWords:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>34.</span>        
if word in ENGLISH_WORDS:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>35.</span>            
matches += 1</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>36.</span>    
return float(matches) / len(possibleWords)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>37. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>38. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>39.</span>
def removeNonLetters(message):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>40.</span>    
lettersOnly = []</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>41.</span>    
for symbol in message:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>42.</span>        
if symbol in LETTERS_AND_SPACE:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>43.</span>            
lettersOnly.append(symbol)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>44.</span>    
return ''.join(lettersOnly)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>45. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>46. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>47.</span>
def isEnglish(message, wordPercentage=20, letterPercentage=85):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>48.</span>    
<span class=SourceCodeComment># By default, 20% of the words must exist in the
dictionary file, and</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>49.</span>    
<span class=SourceCodeComment># 85% of all the characters in the message must
be letters or spaces</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>50.</span>    
<span class=SourceCodeComment># (not punctuation or numbers).</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>51.</span>    
wordsMatch = getEnglishCount(message) * 100 &gt;= wordPercentage</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>52.</span>    
numLetters = len(removeNonLetters(message))</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>53.</span>    
messageLettersPercentage = float(numLetters) / len(message) * 100</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>54.</span>    
lettersMatch = messageLettersPercentage &gt;= letterPercentage</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>55.</span>    
return wordsMatch and lettersMatch</p>

</div>

<h2><a name="_Toc353630758">How the Program Works</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber> 1.</span> <span
class=SourceCodeComment># Detect English module</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 2.</span> <span
class=SourceCodeComment># http://inventwithpython.com/hacking (BSD Licensed)</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 3. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 4.</span> <span
class=SourceCodeComment># To use, type this code:</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 5.</span> <span
class=SourceCodeComment>#   import detectEnglish</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 6.</span> <span
class=SourceCodeComment>#   detectEnglish.isEnglish(someString) # returns True
or False</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 7.</span> <span
class=SourceCodeComment># (There must be a &quot;dictionary.txt&quot; file in
this directory with all English</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber> 8.</span> <span
class=SourceCodeComment># words in it, one word per line. You can download this
from</span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber> 9.</span> <span
class=SourceCodeComment># http://invpy.com/dictionary.txt)</span></p>

</div>

<p class=MsoNormal>These comments at the top of the file give instructions to
programmers on how to use this module. They give the important reminder that if
there is no file named <span class=Filename>dictionary.txt</span> in the same
directory as <span class=Filename>detectEnglish.py</span> then this module will
not work. If the user doesn’t have this file, the comments tell them they can
download it from <span class=URL><u>http://invpy.com/dictionary.txt</u></span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>10.</span> UPPERLETTERS
= 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>11.</span>
LETTERS_AND_SPACE = UPPERLETTERS + UPPERLETTERS.lower() + ' \t\n'</p>

</div>

<p class=MsoNormal>Lines 10 and 11 set up a few variables that are constants,
which is why they have uppercase names. <span class=Literal>UPPERLETTERS</span>
is a variable containing the 26 uppercase letters, and <span class=Literal>LETTERS_AND_SPACE</span>
contain these letters (and the lowercase letters returned from <span
class=Literal>UPPERLETTERS.lower()</span>) but also the space character, the
tab character, and the newline character. The tab and newline characters are
represented with escape characters <span class=Literal>\t</span> and <span
class=Literal>\n</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>13.</span>
def loadDictionary():</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>14.</span>    
dictionaryFile = open('dictionary.txt')</p>

</div>

<p class=MsoNormal>The dictionary file sits on the user’s hard drive, but we
need to load the text in this file as a string value so our Python code can use
it. First, we get a file object by calling <span class=Literal>open()</span>
and passing the string of the filename <span class=Literal>'dictionary.txt'</span>.
Before we continue with the <span class=Literal>loadDictionary()</span> code,
let’s learn about the dictionary data type.</p>

<h2><a name="_Toc353630759">Dictionaries and the Dictionary Data Type</a></h2>

<p class=MsoNormal>The <span class=Definition><span style='font-size:12.0pt;
line-height:115%'>dictionary</span></span> data type has values which can
contain multiple other values, just like lists do. In list values, you use an
integer index value to retrieve items in the list, like <span class=Literal>spam[42]</span>.
For each item in the dictionary value, there is a key used to retrieve it.
(Values stored inside lists and dictionaries are also sometimes called items.)
The key can be an integer or a string value, like <span class=Literal>spam['hello']</span>
or <span class=Literal>spam[42].</span> Dictionaries let us organize our
program’s data with even more flexibility than lists.</p>

<p class=MsoNormal>Instead of typing square brackets like list values,
dictionary values (or simply, dictionaries) use curly braces. Try typing the
following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
emptyList = []</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
emptyDictionary = {}</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>A dictionary’s values are typed out as key-value pairs,
which are separated by colons. Multiple key-value pairs are separated by
commas. To retrieve values from a dictionary, just use square brackets with the
key in between them (just like indexing with lists). Try typing the following
into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = {'key1':'This is a value', 'key2':42}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam['key1']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'This is a
value'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam['key2']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>42</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>It is important to know that, just as with lists, variables
do not store dictionary values themselves, but references to dictionaries. The
example code below has two variables with references to the same dictionary:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = {'hello': 42}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs = spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs['hello'] = 99</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>{'hello':
99}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>{'hello':
99}</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<h2><a name="_Toc353630760">Adding or Changing Items in a Dictionary</a></h2>

<p class=MsoNormal>You can add or change values in a dictionary with indexes as
well. Try typing the following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = {42:'hello'}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
print(spam[42])</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>hello</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam[42] = 'goodbye'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
print(spam[42])</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>goodbye</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>And just like lists can contain other lists, dictionaries
can also contain other dictionaries (or lists). Try typing the following into
the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
foo = {'fizz': {'name': 'Al', 'age': 144}, 'moo':['a', 'brown', 'cow']}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
foo['fizz']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>{'age':
144, 'name': 'Al'}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
foo['fizz']['name']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'Al'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
foo['moo']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['a',
'brown', 'cow']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
foo['moo'][1]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'brown'</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<h2><a name="_Toc353630761">Practice Exercises, Chapter 12, Set B</a></h2>

<p class=MsoNormal>Practice exercises can be found at <span class=URL><u>http://invpy.com/hackingpractice12B</u></span>.</p>

<h2><a name="_Toc353630762">Using the </a><span class=Literal>len()</span>
Function with Dictionaries</h2>

<p class=MsoNormal>The <span class=Literal>len()</span> function can tell you
how many items are in a list or how many characters are in a string, but it can
also tell you how many items are in a dictionary as well. Try typing the
following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = {}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
len(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>0</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam['name'] = 'Al'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam['pet'] = 'Zophie the cat'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam['age'] = 89</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
len(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>3</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<h2><a name="_Toc353630763">Using the </a><span class=Literal>in</span>
Operator with Dictionaries</h2>

<p class=MsoNormal>The <span class=Literal>in</span> operator can also be used
to see if a certain key value exists in a dictionary. It is important to
remember that the <span class=Literal>in</span> operator checks if a key exists
in the dictionary, not a value. Try typing the following into the interactive
shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
eggs = {'foo': 'milk', 'bar': 'bread'}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
'foo' in eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>True</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
'blah blah blah' in eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>False</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
'milk' in eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>False</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
'bar' in eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>True</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
'bread' in eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>False</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>The <span class=Literal>not in</span> operator works with
dictionary values as well.</p>

<h2><a name="_Toc353630764">Using </a><span class=Literal>for</span> Loops with
Dictionaries</h2>

<p class=MsoNormal>You can also iterate over the keys in a dictionary with <span
class=Literal>for</span> loops, just like you can iterate over the items in a
list. Try typing the following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = {'name':'Al', 'age':99}</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
for k in spam:</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...  
print(k)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...  
print(spam[k])</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...  
print('==========')</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>age</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>99</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>==========</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>name</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>Al</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>==========</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<h2><a name="_Toc353630765">Practice Exercises, Chapter 12, Set C</a></h2>

<p class=MsoNormal>Practice exercises can be found at <span class=URL><u>http://invpy.com/hackingpractice12C</u></span>.</p>

<h2><a name="_Toc353630766">The Difference Between Dictionaries and Lists</a></h2>

<p class=MsoNormal>Dictionaries are like lists in many ways, but there are a
few important differences:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Dictionary
items are not in any order. There is no “first” or “last” item in a dictionary
like there is in a list.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
class=Literal><span style='font-family:"Times New Roman","serif"'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Dictionaries
do not have concatenation with the <span class=Literal>+</span> operator. If
you want to add a new item, you can just use indexing with a new key. For
example, <span class=Literal>foo['a new key'] = 'a string'</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Lists
only have integer index values that range from <span class=Literal>0</span> to
the length of the list minus one. But dictionaries can have any key. If you
have a dictionary stored in a variable <span class=Literal>spam</span>, then
you can store a value in <span class=Literal>spam[3]</span> without needing
values for <span class=Literal>spam[0]</span>, <span class=Literal>spam[1]</span>,
or <span class=Literal>spam[2]</span> first.</p>

<h2><a name="_Toc353630767">Finding Items is Faster with Dictionaries Than
Lists</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>15.</span>    
englishWords = {}</p>

</div>

<p class=MsoNormal>In the <span class=Literal>loadDictionary()</span> function,
we will store all the words in the “dictionary file” (as in, a file that has
all the words in an English dictionary book) in a dictionary value (as in, the
Python data type.) The similar names are unfortunate, but they are two
completely different things.</p>

<p class=MsoNormal>We could have also used a list to store the string values of
each word from the dictionary file. The reason we use a dictionary is because
the <span class=Literal>in</span> operator works faster on dictionaries than
lists. Imagine that we had the following list and dictionary values:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
listVal = ['spam', 'eggs', 'bacon']</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;
dictionaryVal = {'spam':0, 'eggs':0, 'bacon':0}</p>

</div>

<p class=MsoNormal>Python can evaluate the expression <span class=Literal>'bacon'
in dictionaryVal</span> a little bit faster than <span class=Literal>'bacon' in
listVal</span>. The reason is technical and you don’t need to know it for the
purposes of this book (but you can read more about it at <span class=URL><u>http://invpy.com/listvsdict</u></span>).
This faster speed doesn’t make that much of a difference for lists and
dictionaries with only a few items in them like in the above example. But our <span
class=Literal>detectEnglish</span> module will have tens of thousands of items,
and the expression <span class=Literal>word in ENGLISH_WORDS</span> will be
evaluated many times when the <span class=Literal>isEnglish()</span> function
is called. The speed difference really adds up for the <span class=Literal>detectEnglish</span>
module.</p>

<h2><a name="_Toc353630768">The </a><span class=Literal>split()</span> Method</h2>

<p class=MsoNormal>The <span class=Literal>split()</span> string method returns
a list of several strings. The “split” between each string occurs wherever a
space is. For an example of how the <span class=Literal>split()</span> string
method works, try typing this into the shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
'My very energetic mother    just served us Nutella.'.split()</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['My',
'very', 'energetic', 'mother', 'just', 'served', 'us', 'Nutella.']</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>The result is a list of eight strings, one string for each
of the words in the original string. The spaces are dropped from the items in
the list (even if there is more than one space). You can pass an optional
argument to the <span class=Literal>split()</span> method to tell it to split
on a different string other than just a space. Try typing the following into
the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
'helloXXXworldXXXhowXXXareXXyou?'.split('XXX')</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['hello',
'world', 'how', 'areXXyou?']</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>16.</span>     for
word in dictionaryFile.read().split('\n'):</p>

</div>

<p class=MsoNormal>Line 16 is a <span class=Literal>for</span> loop that will
set the <span class=Literal>word</span> variable to each value in the list <span
class=Literal>dictionaryFile.read().split('\n')</span>. Let’s break this
expression down. <span class=Literal>dictionaryFile</span> is the variable that
stores the file object of the opened file. The <span class=Literal>dictionaryFile.read()</span>
method call will read the entire file and return it as a very large string
value. On this string, we will call the <span class=Literal>split()</span>
method and split on newline characters. This <span class=Literal>split()</span>
call will return a list value made up of each word in the dictionary file
(because the dictionary file has one word per line.)</p>

<p class=MsoNormal>This is why the expression <span class=Literal>dictionaryFile.read().split('\n')</span>
will evaluate to a list of string values. Since the dictionary text file has
one word on each line, the strings in the list that <span class=Literal>split()</span>
returns will each have one word.</p>

<h2><a name="_Toc353630769">The </a><span class=Literal>None</span> Value</h2>

<p class=MsoNormal><span class=Literal>None</span> is a special value that you
can assign to a variable. The <span class=Definition><span style='font-size:
12.0pt;line-height:115%'>None value</span></span> represents the lack of a
value. <span class=Literal>None</span> is the only value of the data type NoneType.
(Just like how the Boolean data type has only two values, the NoneType data
type has only one value, <span class=Literal>None</span>.) It can be very
useful to use the <span class=Literal>None</span> value when you need a value
that means “does not exist”. The <span class=Literal>None</span> value is
always written without quotes and with a capital “N” and lowercase “one”.</p>

<p class=MsoNormal>For example, say you had a variable named <span
class=Literal>quizAnswer</span> which holds the user's answer to some
True-False pop quiz question. You could set <span class=Literal>quizAnswer</span>
to <span class=Literal>None</span> if the user skipped the question and did not
answer it. Using <span class=Literal>None</span> would be better because if you
set it to <span class=Literal>True</span> or <span class=Literal>False</span>
before assigning the value of the user's answer, it may look like the user gave
an answer for the question even though they didn't.</p>

<p class=MsoNormal>Calls to functions that do not return anything (that is,
they exit by reaching the end of the function and not from a <span
class=Literal>return</span> statement) will evaluate to <span class=Literal>None</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>17.</span>        
englishWords[word] = None</p>

</div>

<p class=MsoNormal>In our program, we only use a dictionary for the <span
class=Literal>englishWords</span> variable so that the <span class=Literal>in</span>
operator can find keys in it. We don’t care what is stored for each key, so we
will just use the <span class=Literal>None</span> value. The <span
class=Literal>for</span> loop that starts on line 16 will iterate over each
word in the dictionary file, and line 17 will use that word as a key in <span
class=Literal>englishWords</span> with <span class=Literal>None</span> stored
for that key.</p>

<h2><a name="_Toc353630770">Back to the Code</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>18.</span>    
dictionaryFile.close()</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>19.</span>    
return englishWords</p>

</div>

<p class=MsoNormal>After the <span class=Literal>for</span> loop finishes, the <span
class=Literal>englishWords</span> dictionary will have tens of thousands of
keys in it. At this point, we close the file object since we are done reading
from it and then return <span class=Literal>englishWords</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>21.</span>
ENGLISH_WORDS = loadDictionary()</p>

</div>

<p class=MsoNormal>Line 21 calls <span class=Literal>loadDictionary()</span>
and stores the dictionary value it returns in a variable named <span
class=Literal>ENGLISH_WORDS</span>. We want to call <span class=Literal>loadDictionary()</span>
before the rest of the code in the <span class=Literal>detectEnglish</span>
module, but Python has to execute the <span class=Literal>def</span> statement
for <span class=Literal>loadDictionary()</span> before we can call the
function. This is why the assignment for <span class=Literal>ENGLISH_WORDS</span>
comes after the <span class=Literal>loadDictionary()</span> function’s code.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>24.</span>
def getEnglishCount(message):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>25.</span>    
message = message.upper()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>26.</span>    
message = removeNonLetters(message)</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>27.</span>    
possibleWords = message.split()</p>

</div>

<p class=MsoNormal>The <span class=Literal>getEnglishCount()</span> function
will take one string argument and return a float value indicating the amount of
recognized English words in it. The value <span class=Literal>0.0</span> will
mean none of the words in <span class=Literal>message</span> are English words
and <span class=Literal>1.0</span> will mean all of the words in <span
class=Literal>message</span> are English words, but most likely <span
class=Literal>getEnglishCount()</span> will return something in between <span
class=Literal>0.0</span> and <span class=Literal>1.0</span>. The <span
class=Literal>isEnglish()</span> function will use this return value as part of
whether it returns <span class=Literal>True</span> or <span class=Literal>False</span>.</p>

<p class=MsoNormal>First we must create a list of individual word strings from
the string in <span class=Literal>message</span>. Line 25 will convert it to
uppercase letters. Then line 26 will remove the non-letter characters from the
string, such as numbers and punctuation, by calling <span class=Literal>removeNonLetters()</span>.
(We will see how this function works later.) Finally, the <span class=Literal>split()</span>
method on line 27 will split up the string into individual words that are
stored in a variable named <span class=Literal>possibleWords</span>.</p>

<p class=MsoNormal>So if the string <span class=Literal>'Hello there. How are
you?'</span> was passed when <span class=Literal>getEnglishCount()</span> was
called, the value stored in <span class=Literal>possibleWords</span> after lines
25 to 27 execute would be <span class=Literal>['HELLO', 'THERE', 'HOW', 'ARE',
'YOU']</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>29.</span>    
if possibleWords == []:</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>30.</span>        
return 0.0 <span class=SourceCodeComment># no words at all, so return 0.0</span></p>

</div>

<p class=MsoNormal>If the string in <span class=Literal>message</span> was
something like <span class=Literal>'12345'</span>, all of these non-letter
characters would have been taken out of the string returned from <span
class=Literal>removeNonLetters()</span>. The call to <span class=Literal>removeNonLetters()</span>
would return the blank string, and when <span class=Literal>split()</span> is
called on the blank string, it will return an empty list.</p>

<p class=MsoNormal>Line 29 does a special check for this case, and returns <span
class=Literal>0.0</span>. This is done to avoid a “divide-by-zero” error (which
is explained later on).</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>32.</span>    
matches = 0</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>33.</span>    
for word in possibleWords:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>34.</span>        
if word in ENGLISH_WORDS:</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>35.</span>            
matches += 1</p>

</div>

<p class=MsoNormal>The float value that is returned from <span class=Literal>getEnglishCount()</span>
ranges between <span class=Literal>0.0</span> and <span class=Literal>1.0</span>.
To produce this number, we will divide the number of the words in <span
class=Literal>possibleWords</span> that are recognized as English by the total
number of words in <span class=Literal>possibleWords</span>.</p>

<p class=MsoNormal>The first part of this is to count the number of recognized
English words in <span class=Literal>possibleWords</span>, which is done on
lines 32 to 35. The <span class=Literal>matches</span> variable starts off as <span
class=Literal>0</span>. The <span class=Literal>for</span> loop on line 33 will
loop over each of the words in <span class=Literal>possibleWords</span>, and checks
if the word exists in the <span class=Literal>ENGLISH_WORDS</span> dictionary.
If it does, the value in <span class=Literal>matches</span> is incremented on
line 35.</p>

<p class=MsoNormal>Once the <span class=Literal>for</span> loop has completed,
the number of English words is stored in the <span class=Literal>matches</span>
variable. Note that technically this is only the number of words that are
recognized as English because they existed in our dictionary text file. As far
as the program is concerned, if the word exists in <span class=Filename>dictionary.txt</span>,
then it is a real English word. And if it doesn’t exist in the dictionary file,
it is not an English word. We are relying on the dictionary file to be accurate
and complete in order for the <span class=Literal>detectEnglish</span> module
to work correctly.</p>

<h2><a name="_Toc353630771">“Divide by Zero” Errors</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>36.</span>     return float(matches)
/ len(possibleWords)</p>

</div>

<p class=MsoNormal>Returning a float value between <span class=Literal>0.0</span>
and <span class=Literal>1.0</span> is a simple matter of dividing the number of
recognized words by the total number of words.</p>

<p class=MsoNormal>However, whenever we divide numbers using the <span
class=Literal>/</span> operator in Python, we should be careful not to cause a
“divide-by-zero” error. In mathematics, dividing by zero has no meaning. If we
try to get Python to do it, it will result in an error. Try typing the
following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
42 / 0</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>Traceback
(most recent call last):</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>  File
&quot;&lt;pyshell#0&gt;&quot;, line 1, in &lt;module&gt;</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>    42 / 0</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>ZeroDivisionError:
int division or modulo by zero</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>But a divide by zero can’t possibly happen on line 36. The
only way it could is if <span class=Literal>len(possibleWords)</span> evaluated
to <span class=Literal>0</span>. And the only way that would be possible is if <span
class=Literal>possibleWords</span> were the empty list. However, our code on
lines 29 and 30 specifically checks for this case and returns <span
class=Literal>0.0</span>. So if <span class=Literal>possibleWords</span> had
been set to the empty list, the program execution would have never gotten past
line 30 and line 36 would not cause a “divide-by-zero” error.</p>

<h2><a name="_Toc353630772">The </a><span class=Literal>float()</span>, <span
class=Literal>int()</span>, and <span class=Literal>str()</span> Functions and
Integer Division</h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>36.</span>     return
float(matches) / len(possibleWords)</p>

</div>

<p class=MsoNormal>The value stored in <span class=Literal>matches</span> is an
integer. However, we pass this integer to the <span class=Literal>float()</span>
function which returns a float version of that number. Try typing the following
into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
float(42)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>42.0</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>The <span class=Literal>int()</span> function returns an
integer version of its argument, and the <span class=Literal>str()</span>
function returns a string. Try typing the following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
float(42)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>42.0</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
int(42.0)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>42</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
int(42.7)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>42</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
int(&quot;42&quot;)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>42</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
str(42)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'42'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
str(42.7)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'42.7'</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>The <span class=Literal>float()</span>, <span class=Literal>int()</span>,
and <span class=Literal>str()</span> functions are helpful if you need a
value’s equivalent in a different data type. But you might be wondering why we
pass <span class=Literal>matches</span> to <span class=Literal>float()</span>
on line 36 in the first place.</p>

<p class=MsoNormal>The reason is to make our <span class=Literal>detectEnglish</span>
module work with Python 2. Python 2 will do integer division when both values
in the division operation are integers. This means that the result will be
rounded down. So using Python 2, <span class=Literal>22 / 7</span> will
evaluate to <span class=Literal>3</span>. However, if one of the values is a
float, Python 2 will do regular division: <span class=Literal>22.0 / 7</span>
will evaluate to <span class=Literal>3.142857142857143</span>. This is why line
36 calls <span class=Literal>float()</span>. This is called making the code <span
class=Definition><span style='font-size:12.0pt;line-height:115%'>backwards
compatible</span></span> with previous versions.</p>

<p class=MsoNormal>Python 3 always does regular division no matter if the
values are floats or ints.</p>

<h2><a name="_Toc353630773">Practice Exercises, Chapter 12, Set D</a></h2>

<p class=MsoNormal>Practice exercises can be found at <span class=URL><u>http://invpy.com/hackingpractice12D</u></span>.</p>

<h2><a name="_Toc353630774">Back to the Code</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>39.</span>
def removeNonLetters(message):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>40.</span>    
lettersOnly = []</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>41.</span>    
for symbol in message:</p>

</div>

<p class=MsoNormal>The previously explained <span class=Literal>getEnglishCount()</span>
function calls the <span class=Literal>removeNonLetters()</span> function to
return a string that is the passed argument, except with all the numbers and
punctuation characters removed.</p>

<p class=MsoNormal>The code in <span class=Literal>removeNonLetters() </span>starts
with a blank list and loops over each character in the <span class=Literal>message</span>
argument. If the character exists in the <span class=Literal>LETTERS_AND_SPACE</span>
string, then it is added to the end of the list. If the character is a number
or punctuation mark, then it won’t exist in the <span class=Literal>LETTERS_AND_SPACE</span>
string and won’t be added to the list.</p>

<span style='font-size:11.0pt;line-height:115%;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b><span style='font-size:16.0pt;line-height:115%;
font-family:"Calibri","sans-serif"'>&nbsp;</span></b></p>

<h2><a name="_Toc353630775">The </a><span class=Literal>append</span><span
class=Literal><span style='font-family:"Calibri","sans-serif"'>()</span></span>
List Method</h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>42.</span>        
if symbol in LETTERS_AND_SPACE:</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>43.</span>            
lettersOnly.append(symbol)</p>

</div>

<p class=MsoNormal>Line 42 checks if <span class=Literal>symbol</span> (which
is set to a single character on each iteration of line 41’s <span
class=Literal>for</span> loop) exists in the <span class=Literal>LETTERS_AND_SPACE</span>
string. If it does, then it is added to the end of the <span class=Literal>lettersOnly</span>
list with the <span class=Literal>append()</span> list method.</p>

<p class=MsoNormal>If you want to add a single value to the end of a list, you
could put the value in its own list and then use list concatenation to add it.
Try typing the following into the interactive shell, where the value <span
class=Literal>42</span> is added to the end of the list stored in <span
class=Literal>spam</span>:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = [2, 3, 5, 7, 9, 11]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[2, 3, 5,
7, 9, 11]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam = spam + [42]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[2, 3, 5,
7, 9, 11, 42]</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>When we add a value to the end of a list, we say we are <span
class=Definition><span style='font-size:12.0pt;line-height:115%'>appending</span></span>
the value to the list. This is done with lists so frequently in Python that
there is an <span class=Literal>append()</span> list method which takes a
single argument to append to the end of the list. Try typing the following into
the shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
eggs = []</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs.append('hovercraft')</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['hovercraft']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs.append('eels')</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['hovercraft',
'eels']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs.append(42)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['hovercraft',
'eels', 42]</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>For technical reasons, using the <span class=Literal>append()</span>
method is faster than putting a value in a list and adding it with the <span
class=Literal>+</span> operator. The <span class=Literal>append()</span> method
modifies the list in-place to include the new value. You should always prefer
the <span class=Literal>append()</span> method for adding values to the end of
a list.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>44.</span>     return
''.join(lettersOnly)</p>

</div>

<p class=MsoNormal>After line 41’s <span class=Literal>for</span> loop is done,
only the letter and space characters are in the <span class=Literal>lettersOnly</span>
list. To make a single string value from this list of strings, we call the <span
class=Literal>join()</span> string method on a blank string. This will join the
strings in <span class=Literal>lettersOnly</span> together with a blank string
(that is, nothing) between them. This string value is then returned as <span
class=Literal>removeNonLetters()</span>’s return value.</p>

<h2><a name="_Toc353630776">Default Arguments</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>47.</span>
def isEnglish(message, wordPercentage=20, letterPercentage=85):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>48.</span>    
<span class=SourceCodeComment># By default, 20% of the words must exist in the
dictionary file, and</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>49.</span>    
<span class=SourceCodeComment># 85% of all the characters in the message must
be letters or spaces</span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>50.</span>    
<span class=SourceCodeComment># (not punctuation or numbers).</span></p>

</div>

<p class=MsoNormal>The <span class=Literal>isEnglish()</span> function will
accept a string argument and return a Boolean value that indicates whether or
not it is English text. But when you look at line 47, you can see it has three
parameters. The second and third parameters (<span class=Literal>wordPercentage</span>
and <span class=Literal>letterPercentage</span>) have equal signs and values
next to them. These are called <span class=Definition><span style='font-size:
12.0pt;line-height:115%'>default arguments</span></span>. Parameters that have
default arguments are optional. If the function call does not pass an argument
for these parameters, the default argument is used by default.</p>

<p class=MsoNormal>If <span class=Literal>isEnglish()</span> is called with
only one argument, the default arguments are used for the <span class=Literal>wordPercentage</span>
(the integer <span class=Literal>20</span>) and <span class=Literal>letterPercentage</span>
(the integer <span class=Literal>85</span>) parameters. Table 12-1 shows
function calls to <span class=Literal>isEnglish()</span>, and what they are
equivalent to:</p>

<p class=TableCaption>Table 12-1. Function calls with and without default
arguments.</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:27.9pt;border-collapse:collapse'>
 <tr>
  <td width=246 valign=top style='width:184.5pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>Function Call</p>
  </td>
  <td width=246 valign=top style='width:184.5pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>Equivalent To</p>
  </td>
 </tr>
 <tr>
  <td width=246 valign=top style='width:184.5pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello')</span></p>
  </td>
  <td width=246 valign=top style='width:184.5pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello', 20, 85)</span></p>
  </td>
 </tr>
 <tr>
  <td width=246 valign=top style='width:184.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello', 50)</span></p>
  </td>
  <td width=246 valign=top style='width:184.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello', 50, 85)</span></p>
  </td>
 </tr>
 <tr>
  <td width=246 valign=top style='width:184.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello', 50, 60)</span></p>
  </td>
  <td width=246 valign=top style='width:184.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello', 50, 60)</span></p>
  </td>
 </tr>
 <tr>
  <td width=246 valign=top style='width:184.5pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello',
  letterPercentage=60)</span></p>
  </td>
  <td width=246 valign=top style='width:184.5pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal>isEnglish('Hello', 20, 60)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When <span class=Literal>isEnglish()</span> is called with
no second and third argument, the function will require that 20% of the words
in <span class=Literal>message</span> are English words that exist in the
dictionary text file and 85% of the characters in <span class=Literal>message</span>
are letters. These percentages work for detecting English in most cases. But
sometimes a program calling <span class=Literal>isEnglish()</span> will want looser
or more restrictive thresholds. If so, a program can just pass arguments for <span
class=Literal>wordPercentage</span> and <span class=Literal>letterPercentage</span>
instead of using the default arguments.</p>

<h2><a name="_Toc353630777">Calculating Percentage</a></h2>

<p class=MsoNormal>A percentage is a number between 0 and 100 that shows how
much of something there is proportional to the total number of those things. In
the string value <span class=Literal>'Hello cat MOOSE fsdkl ewpin'</span> there
are five “words” but only three of them are English words. <strong>To calculate
the percentage of English words, you divide the number of English words by the
total number of words and multiply by 100.</strong> The percentage of English
words in <span class=Literal>'Hello cat MOOSE fsdkl ewpin'</span> is <span
class=Literal>3 / 5 * 100</span>, which is <span class=Literal>60</span>.</p>

<p class=MsoNormal>Table 12-2 shows some percentage calculations:</p>

<p class=TableCaption>Table 12-2. Some percentage calculations.</p>

<div align=center>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr>
  <td width=109 valign=top style='width:81.9pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>Number of English Words</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>Total Number of Words</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>English Words / Total</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>* 100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>Percentage</p>
  </td>
 </tr>
 <tr>
  <td width=109 valign=top style='width:81.9pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>3</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>5</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0.6</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>* 100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>60</p>
  </td>
 </tr>
 <tr>
  <td width=109 valign=top style='width:81.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>6</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>10</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0.6</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>*100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>60</p>
  </td>
 </tr>
 <tr>
  <td width=109 valign=top style='width:81.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>300</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>500</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0.6</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>* 100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>60</p>
  </td>
 </tr>
 <tr>
  <td width=109 valign=top style='width:81.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>32</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>87</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0.3678</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>* 100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>36.78</p>
  </td>
 </tr>
 <tr>
  <td width=109 valign=top style='width:81.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>87</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>87</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>1.0</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>* 100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>100</p>
  </td>
 </tr>
 <tr>
  <td width=109 valign=top style='width:81.9pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0</p>
  </td>
  <td width=111 valign=top style='width:83.15pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>10</p>
  </td>
  <td width=102 valign=top style='width:76.5pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0</p>
  </td>
  <td width=72 valign=top style='width:53.65pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>* 100</p>
  </td>
  <td width=23 valign=top style='width:17.1pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>=</p>
  </td>
  <td width=84 valign=top style='width:62.75pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>0</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The percentage will always be between 0% (meaning none of
the words) and 100% (meaning all of the words). Our <span class=Literal>isEnglish()</span>
function will consider a string to be English if at least 20% of the words are
English words that exist in the dictionary file and 85% of the characters in
the string are letters (or spaces).</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>51.</span>     wordsMatch
= getEnglishCount(message) * 100 &gt;= wordPercentage</p>

</div>

<p class=MsoNormal>Line 51 calculates the percentage of recognized English
words in <span class=Literal>message</span> by passing <span class=Literal>message</span>
to <span class=Literal>getEnglishCount()</span>, which does the division for us
and returns a float between <span class=Literal>0.0</span> and <span
class=Literal>1.0</span>. To get a percentage from this float, we just have to
multiply it by <span class=Literal>100</span>. If this number is greater than
or equal to the <span class=Literal>wordPercentage</span> parameter, then <span
class=Literal>True</span> is stored in <span class=Literal>wordsMatch</span>.
(Remember, the <span class=Literal>&gt;=</span> comparison operator evaluates
expressions to a Boolean value.) Otherwise, <span class=Literal>False</span> is
stored in <span class=Literal>wordsMatch</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>52.</span>    
numLetters = len(removeNonLetters(message))</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceLineNumber>53.</span>    
messageLettersPercentage = float(numLetters) / len(message) * 100</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>54.</span>    
lettersMatch = messageLettersPercentage &gt;= letterPercentage</p>

</div>

<p class=MsoNormal>Lines 52 to 54 calculate the percentage of letter characters
in the <span class=Literal>message</span> string. To determine the percentage
of letter (and space) characters in <span class=Literal>message</span>, our
code must divide the number of letter characters by the total number of
characters in <span class=Literal>message</span>. Line 52 calls <span
class=Literal>removeNonLetters(message)</span>. This call will return a string
that has the number and punctuation characters removed from the string. Passing
this string to <span class=Literal>len()</span> will return the number of
letter and space characters that were in <span class=Literal>message</span>.
This integer is stored in the <span class=Literal>numLetters</span> variable.</p>

<p class=MsoNormal>Line 53 determines the percentage of letters getting a float
version of the integer in <span class=Literal>numLetters</span> and dividing
this by <span class=Literal>len(message)</span>. The return value of <span
class=Literal>len(message)</span> will be the total number of characters in <span
class=Literal>message</span>. (The call to <span class=Literal>float()</span>
was made so that if the programmer who imports our <span class=Literal>detectEnglish</span>
module is running Python 2, the division done on line 53 will always be regular
division instead of integer division.)</p>

<p class=MsoNormal>Line 54 checks if the percentage in <span class=Literal>messageLettersPercentage</span>
is greater than or equal to the <span class=Literal>letterPercentage</span>
parameter. This expression evaluates to a Boolean value that is stored in <span
class=Literal>lettersMatch</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>detectEnglish.py </p>

<p class=SourceCodeFeatured><span class=SourceLineNumber>55.</span>     return wordsMatch
and lettersMatch</p>

</div>

<p class=MsoNormal>We want <span class=Literal>isEnglish()</span> to return <span
class=Literal>True</span> only if both the <span class=Literal>wordsMatch</span>
and <span class=Literal>lettersMatch</span> variables contain <span
class=Literal>True</span>, so we put them in an expression with the <span
class=Literal>and</span> operator. If both the <span class=Literal>wordsMatch</span>
and <span class=Literal>lettersMatch</span> variables are <span class=Literal>True</span>,
then <span class=Literal>isEnglish()</span> will declare that the message
argument is English and return <span class=Literal>True</span>. Otherwise, <span
class=Literal>isEnglish()</span> will return <span class=Literal>False</span>.</p>

<h2><a name="_Toc353630778">Practice Exercises, Chapter 12, Set E</a></h2>

<p class=MsoNormal>Practice exercises can be found at <span class=URL><u>http://invpy.com/hackingpractice12E</u></span>.</p>

<h2><a name="_Toc353630779">Summary</a></h2>

<p class=MsoNormal>The dictionary data type is useful because like a list it
can contain multiple values. However unlike the list, we can index values in it
with string values instead of only integers. Most of the the things we can do
with lists we can also do with dictionaries, such as pass it to <span
class=Literal>len()</span> or use the <span class=Literal>in</span> and <span
class=Literal>not in</span> operators on it. In fact, using the <span
class=Literal>in</span> operator on a very large dictionary value executes much
faster than using <span class=Literal>in</span> on a very large list.</p>

<p class=MsoNormal>The NoneType data type is also a new data type introduced in
this chapter. It only has one value: <span class=Literal>None</span>. This
value is very useful for representing a lack of a value.</p>

<p class=MsoNormal>We can convert values to other data types by using the <span
class=Literal>int()</span>, <span class=Literal>float()</span>, and <span
class=Literal>str()</span> functions. This chapter brings up “divide-by-zero”
errors, which we need to add code to check for and avoid. The <span
class=Literal>split()</span> string method can convert a single string value
into a list value of many strings. The <span class=Literal>split()</span>
string method is sort of the reverse of the <span class=Literal>join()</span>
list method. The <span class=Literal>append()</span> list method adds a value
to the end of the list.</p>

<p class=MsoNormal>When we define functions, we can give some of the parameters
“default arguments”. If no argument is passed for these parameters when the
function is called, the default argument value is used instead. This can be a
useful shortcut in our programs.</p>

<p class=MsoNormal>The transposition cipher is an improvement over the Caesar
cipher because it can have hundreds or thousands of possible keys for messages
instead of just 26 different keys. A computer has no problem decrypting a
message with thousands of different keys, but to hack this cipher, we need to
write code that can determine if a string value is valid English or not.</p>

<p class=MsoNormal>Since this code will probably be useful in our other hacking
programs, we will put it in its own module so it can be imported by any program
that wants to call its <span class=Literal>isEnglish()</span> function. All of
the work we’ve done in this chapter is so that any program can do the
following:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
import detectEnglish</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
detectEnglish.isEnglish('Is this sentence English text?')</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>True</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>Now armed with code that can detect English, let’s move on
to the next chapter and hack the transposition cipher!</p>

</div>

</body>

</html>
