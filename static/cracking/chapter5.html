<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style_cracking.css" rel="stylesheet" type="text/css" /><title>Cracking Codes with Python</title></head><body style="background-color: #fffeee;">


<div><a target="_blank" href="https://www.amazon.com/gp/product/1593278225/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1593278225&linkCode=as2&tag=playwithpyth-20&linkId=bf3b22819f0886d277e88b8a653b81ad">
<img src="images/cover_crackingcodes_thumb.png" /><br />Buy the print or ebook online.</a></div>
<div><a href="chapter4.html">Previous Chapter - The Reverse Cipher</a> | <a href="chapter6.html">Next Chapter - Hacking the Caesar Cipher with Brute-Force</a></div>
<div id="calibre_link-332" class="calibre">
<h2 class="h2a1" id="calibre_link-2"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-908" class="calibre1"></span><span class="big">5</span><br class="calibre15" />THE CAESAR CIPHER</h2>
<p class="epigraph">“<em class="calibre7">BIG BROTHER IS WATCHING YOU.”<br class="calibre9" />&mdash;George Orwell</em>, Nineteen Eighty-Four</p>
<div class="image"><img src="images/00078.jpeg" alt="Images" class="calibre4" /></div>
<p class="noindent">In <a href="#calibre_link-56" class="calibre8">Chapter 1</a>, we used a cipher wheel and a chart of letters and numbers to implement the Caesar cipher. In this chapter, we’ll implement the Caesar cipher in a computer program.</p>
<p class="indent">The reverse cipher we made in <a href="#calibre_link-57" class="calibre8">Chapter 4</a> always encrypts the same way. But the Caesar cipher uses keys, which encrypt the message differently depending on which key is used. The keys for the Caesar cipher are the integers from <span class="literal">0</span> to <span class="literal">25</span>. Even if a cryptanalyst knows the Caesar cipher was used, that alone doesn’t give them enough information to break the cipher. They must also know the key.</p>
<div class="sidebar">
<p class="sidebart"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-150"></span><strong class="calibre5">TOPICS COVERED IN THIS CHAPTER</strong></p>
<ul class="calibre10">
<li class="calibre11"><p class="noindent">The <span class="literal">import</span> statement</p></li>
<li class="calibre11"><p class="noindent">Constants</p></li>
<li class="calibre11"><p class="noindent"><span class="literal">for</span> loops</p></li>
<li class="calibre11"><p class="noindent"><span class="literal">if, else</span>, and <span class="literal">elif</span> statements</p></li>
<li class="calibre11"><p class="noindent">The <span class="literal">in</span> and <span class="literal">not in</span> operators</p></li>
<li class="calibre11"><p class="noindent">The <span class="literal">find()</span> string method</p></li>
</ul>
</div>
<h3 class="h1" id="calibre_link-499"><strong class="calibre3">Source Code for the Caesar Cipher Program</strong></h3>
<p class="noindent">Enter the following code into the file editor and save it as <em class="calibre7">caesarCipher.py</em>. Then download the <em class="calibre7">pyperclip.py</em> module from <a href="https://www.nostarch.com/crackingcodes/" class="calibre8"><em class="calibre7">https://www.nostarch.com/crackingcodes/</em></a> and place it in the same directory (that is, the same folder) as the file <em class="calibre7">caesarCipher.py</em>. This module will be imported by <em class="calibre7">caesarCipher.py</em>; we’ll discuss this in more detail in “<a href="#calibre_link-333" class="calibre8">Importing Modules and Setting Up Variables</a>” on <a href="#calibre_link-333" class="calibre8">page 56</a>.</p>
<p class="indent">When you’re finished setting up the files, press F5 to run the program. If you run into any errors or problems with your code, you can compare it to the code in the book using the online diff tool at <a href="https://www.nostarch.com/crackingcodes/" class="calibre8"><em class="calibre7">https://www.nostarch.com/crackingcodes/</em></a>.</p>
<p class="noindentz"><em class="calibre7">caesarCipher.py</em></p>
<p class="programs1">&nbsp;1. # Caesar Cipher<br class="calibre9" />&nbsp;2. # https://www.nostarch.com/crackingcodes/ (BSD Licensed)<br class="calibre9" />&nbsp;3.<br class="calibre9" />&nbsp;4. import pyperclip<br class="calibre9" />&nbsp;5.<br class="calibre9" />&nbsp;6. # The string to be encrypted/decrypted:<br class="calibre9" />&nbsp;7. message = 'This is my secret message.'<br class="calibre9" />&nbsp;8.<br class="calibre9" />&nbsp;9. # The encryption/decryption key:<br class="calibre9" />10. key = 13<br class="calibre9" />11.<br class="calibre9" />12. # Whether the program encrypts or decrypts:<br class="calibre9" />13. mode = 'encrypt' # Set to either 'encrypt' or 'decrypt'.<br class="calibre9" />14.<br class="calibre9" />15. # Every possible symbol that can be encrypted:<br class="calibre9" />16. SYMBOLS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz12345<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67890 !?.'<br class="calibre9" />17.<br class="calibre9" />18. # Store the encrypted/decrypted form of the message:<br class="calibre9" />19. translated = ''<br class="calibre9" />20.<br class="calibre9" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-151"></span>21. for symbol in message:<br class="calibre9" />22.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Note: Only symbols in the SYMBOLS string can be<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encrypted/decrypted.<br class="calibre9" />23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if symbol in SYMBOLS:<br class="calibre9" />24.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbolIndex = SYMBOLS.find(symbol)<br class="calibre9" />25.<br class="calibre9" />26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Perform encryption/decryption:<br class="calibre9" />27.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if mode == 'encrypt':<br class="calibre9" />28.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = symbolIndex + key<br class="calibre9" />29.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif mode == 'decrypt':<br class="calibre9" />30.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = symbolIndex - key<br class="calibre9" />31.<br class="calibre9" />32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle wraparound, if needed:<br class="calibre9" />33.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if translatedIndex &gt;= len(SYMBOLS):<br class="calibre9" />34.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = translatedIndex - len(SYMBOLS)<br class="calibre9" />35.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif translatedIndex &lt; 0:<br class="calibre9" />36.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = translatedIndex + len(SYMBOLS)<br class="calibre9" />37.<br class="calibre9" />38.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translated = translated + SYMBOLS[translatedIndex]<br class="calibre9" />39.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre9" />40.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Append the symbol without encrypting/decrypting:<br class="calibre9" />41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translated = translated + symbol<br class="calibre9" />42.<br class="calibre9" />43. # Output the translated string:<br class="calibre9" />44. print(translated)<br class="calibre9" />45. pyperclip.copy(translated)</p>
<h3 class="h1" id="calibre_link-500"><strong class="calibre3">Sample Run of the Caesar Cipher Program</strong></h3>
<p class="noindent">When you run the <em class="calibre7">caesarCipher.py</em> program, the output looks like this:</p>
<p class="programs1">guv6Jv6Jz!J6rp5r7Jzr66ntrM</p>
<p class="indent">The output is the string <span class="literal">'This is my secret message.'</span> encrypted with the Caesar cipher using a key of <span class="literal">13</span>. The Caesar cipher program you just ran automatically copies this encrypted string to the clipboard so you can paste it in an email or text file. As a result, you can easily send the encrypted output from the program to another person.</p>
<p class="indent">You might see the following error message when you run the program:</p>
<p class="programs1">Traceback (most recent call last):<br class="calibre9" />&nbsp;&nbsp;File "C:\caesarCipher.py", line 4, in &lt;module&gt;<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;import pyperclip<br class="calibre9" />ImportError: No module named pyperclip</p>
<p class="indent">If so, you probably haven’t downloaded the <em class="calibre7">pyperclip.py</em> module into the right folder. If you confirm that <em class="calibre7">pyperclip.py</em> is in the folder with <em class="calibre7">caesarCipher.py</em> but still can’t get the module to work, just comment out the code on lines 4 and 45 (which have the text <span class="literal">pyperclip</span> in them) from the <em class="calibre7">caesarCipher.py</em> program by placing a <span class="literal">#</span> in front of them. This makes Python ignore the code <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-147"></span>that depends on the <em class="calibre7">pyperclip.py</em> module and should allow the program to run successfully. Note that if you comment out that code, the encrypted or decrypted text won’t be copied to the clipboard at the end of the program. You can also comment out the <span class="literal">pyperclip</span> code from the programs in future chapters, which will remove the copy-to-clipboard functionality from those programs, too.</p>
<p class="indent">To decrypt the message, just paste the output text as the new value stored in the <span class="literal">message</span> variable on line 7. Then change the assignment statement on line 13 to store the string <span class="literal">'decrypt'</span> in the variable <span class="literal">mode</span>:</p>
<p class="programs1">&nbsp;6. # The string to be encrypted/decrypted:<br class="calibre9" />&nbsp;7. message = <span class="codestrong">'guv6Jv6Jz!J6rp5r7Jzr66ntrM'</span><br class="calibre9" />&nbsp;8.<br class="calibre9" />&nbsp;9. # The encryption/decryption key:<br class="calibre9" />10. key = 13<br class="calibre9" />11.<br class="calibre9" />12. # Whether the program encrypts or decrypts:<br class="calibre9" />13. mode = <span class="codestrong">'decrypt'</span> # Set to either 'encrypt' or 'decrypt'.</p>
<p class="indent">When you run the program now, the output looks like this:</p>
<p class="programs1">This is my secret message.</p>
<h3 class="h1" id="calibre_link-333"><strong class="calibre3">Importing Modules and Setting Up Variables</strong></h3>
<p class="noindent">Although Python includes many built-in functions, some functions exist in separate programs called modules. <em class="calibre7">Modules</em> are Python programs that contain additional functions that your program can use. We import modules with the appropriately named <span class="literal">import</span> statement, which consists of the <span class="literal">import</span> keyword followed by the module name.</p>
<p class="indent">Line 4 contains an <span class="literal">import</span> statement:</p>
<p class="programs1">&nbsp;1. # Caesar Cipher<br class="calibre9" />&nbsp;2. # https://www.nostarch.com/crackingcodes/ (BSD Licensed)<br class="calibre9" />&nbsp;3.<br class="calibre9" />&nbsp;4. import pyperclip</p>
<p class="indent">In this case, we’re importing a module named <span class="literal">pyperclip</span> so we can call the <span class="literal">pyperclip.copy()</span> function later in this program. The <span class="literal">pyperclip.copy()</span> function will automatically copy strings to your computer’s clipboard so you can conveniently paste them into other programs.</p>
<p class="indent">The next few lines in <em class="calibre7">caesarCipher.py</em> set three variables:</p>
<p class="programs1">&nbsp;6. # The string to be encrypted/decrypted:<br class="calibre9" />&nbsp;7. message = 'This is my secret message.'<br class="calibre9" />&nbsp;8.<br class="calibre9" />&nbsp;9. # The encryption/decryption key:<br class="calibre9" />10. key = 13<br class="calibre9" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-176"></span>11.<br class="calibre9" />12. # Whether the program encrypts or decrypts:<br class="calibre9" />13. mode = 'encrypt' # Set to either 'encrypt' or 'decrypt'.</p>
<p class="indent">The <span class="literal">message</span> variable stores the string to be encrypted or decrypted, and the <span class="literal">key</span> variable stores the integer of the encryption key. The <span class="literal">mode</span> variable stores either the string <span class="literal">'encrypt'</span>, which makes code later in the program encrypt the string in <span class="literal">message</span>, or <span class="literal">'decrypt'</span>, which makes the program decrypt rather than encrypt.</p>
<h3 class="h1" id="calibre_link-501"><strong class="calibre3">Constants and Variables</strong></h3>
<p class="noindent"><em class="calibre7">Constants</em> are variables whose values shouldn’t be changed when the program runs. For example, the Caesar cipher program needs a string that contains every possible character that can be encrypted with this Caesar cipher. Because that string shouldn’t change, we store it in the constant variable named <span class="literal">SYMBOLS</span> in line 16:</p>
<p class="programs1">15. # Every possible symbol that can be encrypted:<br class="calibre9" />16. SYMBOLS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz12345<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67890 !?.'</p>
<p class="indent"><em class="calibre7">Symbol</em> is a common term used in cryptography for a single character that a cipher can encrypt or decrypt. A <em class="calibre7">symbol set</em> is every possible symbol a cipher is set up to encrypt or decrypt. Because we’ll use the symbol set many times in this program, and because we don’t want to type the full string value each time it appears in the program (we might make typos, which would cause errors), we use a constant variable to store the symbol set. We enter the code for the string value once and place it in the <span class="literal">SYMBOLS</span> constant.</p>
<p class="indent">Note that <span class="literal">SYMBOLS</span> is in all uppercase letters, which is the naming convention for constants. Although we <em class="calibre7">could</em> change <span class="literal">SYMBOLS</span> just like any other variable, the all uppercase name reminds the programmer not to write code that does so.</p>
<p class="indent">As with all conventions, we don’t <em class="calibre7">have</em> to follow this one. But doing so makes it easier for other programmers to understand how these variables are used. (It can even help you when you’re looking at your own code later.)</p>
<p class="indent">On line 19, the program stores a blank string in a variable named <span class="literal">translated</span> that will later store the encrypted or decrypted message:</p>
<p class="programs1">18. # Store the encrypted/decrypted form of the message:<br class="calibre9" />19. translated = ''</p>
<p class="indent">Just as in the reverse cipher in <a href="#calibre_link-2" class="calibre8">Chapter 5</a>, by the end of the program, the <span class="literal">translated</span> variable will contain the completely encrypted (or decrypted) message. But for now it starts as a blank string.</p>
<h3 class="h1" id="calibre_link-502"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-239" class="calibre1"></span><strong class="calibre3">The for Loop Statement</strong></h3>
<p class="noindent">At line 21, we use a type of loop called a <span class="literal">for</span> loop:</p>
<p class="programs1">21. for symbol in message:</p>
<p class="indent">Recall that a <span class="literal">while</span> loop will loop as long as a certain condition is <span class="literal">True</span>. The <span class="literal">for</span> loop has a slightly different purpose and doesn’t have a condition like the <span class="literal">while</span> loop. Instead, it loops over a string or a group of values. <a href="#calibre_link-334" class="calibre8">Figure 5-1</a> shows the six parts of a <span class="literal">for</span> loop.</p>
<div class="image"><img src="images/00064.jpeg" alt="Images" class="calibre4" /></div>
<p class="figcap"><a id="calibre_link-334" class="calibre8"></a><em class="calibre7">Figure 5-1: The six parts of a <span class="literalcaption">for</span> loop statement</em></p>
<p class="indent">Each time the program execution goes through the loop (that is, on each iteration through the loop) the variable in the <span class="literal">for</span> statement (which in line 21 is <span class="literal">symbol</span>) takes on the value of the next character in the variable containing a string (which in this case is <span class="literal">message</span>). The <span class="literal">for</span> statement is similar to an assignment statement because the variable is created and assigned a value except the <span class="literal">for</span> statement cycles through different values to assign the variable.</p>
<h4 class="h2" id="calibre_link-503"><strong class="calibre3"><em class="calibre12">An Example for Loop</em></strong></h4>
<p class="noindent">For example, type the following into the interactive shell. Note that after you type the first line, the <span class="literal">&gt;&gt;&gt;</span> prompt will disappear (represented in our code as <span class="literal">...</span>) because the shell is expecting a block of code after the <span class="literal">for</span> statement’s colon. In the interactive shell, the block will end when you enter a blank line:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">for letter in 'Howdy':</span><br class="calibre9" />...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">print('The letter is ' + letter)</span><br class="calibre9" />...<br class="calibre9" />The letter is H<br class="calibre9" />The letter is o<br class="calibre9" />The letter is w<br class="calibre9" />The letter is d<br class="calibre9" />The letter is y</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-240"></span>This code loops over each character in the string <span class="literal">'Howdy'</span>. When it does, the variable <span class="literal">letter</span> takes on the value of each character in <span class="literal">'Howdy'</span> one at a time in order. To see this in action, we’ve written code in the loop that prints the value of <span class="literal">letter</span> for each iteration.</p>
<h4 class="h2" id="calibre_link-504"><strong class="calibre3"><em class="calibre12">A while Loop Equivalent of a for Loop</em></strong></h4>
<p class="noindent">The <span class="literal">for</span> loop is very similar to the <span class="literal">while</span> loop, but when you only need to iterate over characters in a string, using a <span class="literal">for</span> loop is more efficient. You could make a <span class="literal">while</span> loop act like a <span class="literal">for</span> loop by writing a bit more code:</p>
<p class="programs1"><span class="ent">➊</span> &gt;&gt;&gt; <span class="codestrong">i = 0</span><br class="calibre9" /><span class="ent">➋</span> &gt;&gt;&gt; <span class="codestrong">while i &lt; len('Howdy'):</span><br class="calibre9" /><span class="ent">➌</span> ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">letter = 'Howdy'[i]</span><br class="calibre9" /><span class="ent">➍</span> ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">print('The letter is ' + letter)</span><br class="calibre9" /><span class="ent">➎</span> ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">i = i + 1</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;...<br class="calibre9" />&nbsp;&nbsp;&nbsp;The letter is H<br class="calibre9" />&nbsp;&nbsp;&nbsp;The letter is o<br class="calibre9" />&nbsp;&nbsp;&nbsp;The letter is w<br class="calibre9" />&nbsp;&nbsp;&nbsp;The letter is d<br class="calibre9" />&nbsp;&nbsp;&nbsp;The letter is y</p>
<p class="indent">Notice that this <span class="literal">while</span> loop works the same as the <span class="literal">for</span> loop but is not as short and simple as the <span class="literal">for</span> loop. First, we set a new variable <span class="literal">i</span> to <span class="literal">0</span> before the <span class="literal">while</span> statement <span class="ent">➊</span>. This statement has a condition that will evaluate to <span class="literal">True</span> as long as the variable <span class="literal">i</span> is less than the length of the string <span class="literal">'Howdy'</span> <span class="ent">➋</span>. Because <span class="literal">i</span> is an integer and only keeps track of the current position in the string, we need to declare a separate <span class="literal">letter</span> variable to hold the character in the string at the <span class="literal">i</span> position <span class="ent">➌</span>. Then we can print the current value of <span class="literal">letter</span> to get the same output as the <span class="literal">for</span> loop <span class="ent">➍</span>. When the code is finished executing, we need to increment <span class="literal">i</span> by adding <span class="literal">1</span> to it to move to the next position <span class="ent">➎</span>.</p>
<p class="indent">To understand lines 23 and 24 in <em class="calibre7">caesarCipher.py</em>, you need to learn about the <span class="literal">if</span>, <span class="literal">elif</span>, and <span class="literal">else</span> statements, the <span class="literal">in</span> and <span class="literal">not in</span> operators, and the <span class="literal">find()</span> string method. We’ll look at these in the following sections.</p>
<h3 class="h1" id="calibre_link-505">The if Statement</h3>
<p class="noindent">Line 23 in the Caesar cipher has another kind of Python instruction&mdash;the <span class="literal">if</span> statement:</p>
<p class="programs1">23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if symbol in SYMBOLS:</p>
<p class="indent">You can read an <span class="literal">if</span> statement as, “If this condition is <span class="literal">True</span>, execute the code in the following block. Otherwise, if it is <span class="literal">False</span>, skip the block.” An <span class="literal">if</span> statement is formatted using the keyword <span class="literal">if</span> followed by a condition, followed by a colon (<span class="literal">:</span>). The code to execute is indented in a block just as with loops.</p>
<h4 class="h2" id="calibre_link-506"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-210" class="calibre1"></span><strong class="calibre3"><em class="calibre12">An Example if Statement</em></strong></h4>
<p class="noindent">Let’s try an example of an <span class="literal">if</span> statement. Open a new file editor window, enter the following code, and save it as <em class="calibre7">checkPw.py</em>:</p>
<p class="noindentz"><em class="calibre7">checkPw.py</em></p>
<p class="programs1">&nbsp;&nbsp;&nbsp;print('Enter your password.')<br class="calibre9" /><span class="ent">➊</span> typedPassword = input()<br class="calibre9" /><span class="ent">➋</span> if typedPassword == 'swordfish':<br class="calibre9" /><span class="ent">➌</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Access Granted')<br class="calibre9" /><span class="ent">➍</span> print('Done')</p>
<p class="indent">When you run this program, it displays the text <span class="literal">Enter your</span> <span class="literal">password.</span> and lets the user type in a password. The password is then stored in the variable <span class="literal">typedPassword</span> <span class="ent">➊</span>. Next, the <span class="literal">if</span> statement checks whether the password is equal to the string <span class="literal">'swordfish'</span> <span class="ent">➋</span>. If it is, the execution moves inside the block following the <span class="literal">if</span> statement to display the text <span class="literal">Access Granted</span> to the user <span class="ent">➌</span>; otherwise, if <span class="literal">typedPassword</span> isn’t equal to <span class="literal">'swordfish'</span>, the execution skips the <span class="literal">if</span> statement’s block. Either way, the execution continues on to the code after the <span class="literal">if</span> block to display <span class="literal">Done</span> <span class="ent">➍</span>.</p>
<h4 class="h2" id="calibre_link-507"><strong class="calibre3"><em class="calibre12">The else Statement</em></strong></h4>
<p class="noindent">Often, we want to test a condition and execute one block of code if the condition is <span class="literal">True</span> and another block of code if it’s <span class="literal">False</span>. We can use an <span class="literal">else</span> statement after an <span class="literal">if</span> statement’s block, and the <span class="literal">else</span> statement’s block of code will be executed if the <span class="literal">if</span> statement’s condition is <span class="literal">False</span>. For an <span class="literal">else</span> statement, you just write the keyword <span class="literal">else</span> and a colon (<span class="literal">:</span>). It doesn’t need a condition because it will be run if the <span class="literal">if</span> statement’s condition isn’t true. You can read the code as, “If this condition is <span class="literal">True</span>, execute this block, or else, if it is <span class="literal">False</span>, execute this other block.”</p>
<p class="indent">Modify the <em class="calibre7">checkPw.py</em> program to look like the following (the new lines are in bold):</p>
<p class="noindentz"><em class="calibre7">checkPw.py</em></p>
<p class="programs1">&nbsp;&nbsp;&nbsp;print('Enter your password.')<br class="calibre9" />&nbsp;&nbsp;&nbsp;typedPassword = input()<br class="calibre9" /><span class="ent">➊</span> if typedPassword == 'swordfish':<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Access Granted')<br class="calibre9" />&nbsp;&nbsp;&nbsp;<span class="codestrong">else:</span><br class="calibre9" /><span class="ent">➋</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">print('Access Denied')</span><br class="calibre9" /><span class="ent">➌</span> print('Done')</p>
<p class="indent">This version of the program works almost the same as the previous version. The text <span class="literal">Access Granted</span> will still display if the <span class="literal">if</span> statement’s condition is <span class="literal">True</span> <span class="ent">➊</span>. But now if the user types something other than <span class="literal">swordfish</span>, the <span class="literal">if</span> statement’s condition will be <span class="literal">False</span>, causing the execution to enter the <span class="literal">else</span> statement’s block and display <span class="literal">Access Denied</span> <span class="ent">➋</span>. Either way, the execution will still continue and display <span class="literal">Done</span> <span class="ent">➌</span>.</p>
<h4 class="h2" id="calibre_link-508"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-209" class="calibre1"></span><strong class="calibre3"><em class="calibre12">The elif Statement</em></strong></h4>
<p class="noindent">Another statement, called the <span class="literal">elif</span> statement, can also be paired with <span class="literal">if</span>. Like an <span class="literal">if</span> statement, it has a condition. Like an <span class="literal">else</span> statement, it follows an <span class="literal">if</span> (or another <span class="literal">elif</span>) statement and executes if the previous <span class="literal">if</span> (or <span class="literal">elif</span>) statement’s condition is <span class="literal">False</span>. You can read <span class="literal">if</span>, <span class="literal">elif</span>, and <span class="literal">else</span> statements as, “If this condition is <span class="literal">True</span>, run this block. Or else, check if this next condition is <span class="literal">True</span>. Or else, just run this last block.” Any number of <span class="literal">elif</span> statements can follow an <span class="literal">if</span> statement. Modify the <em class="calibre7">checkPw.py</em> program again to make it look like the following:</p>
<p class="noindentz"><em class="calibre7">checkPw.py</em></p>
<p class="programs1">&nbsp;&nbsp;&nbsp;print('Enter your password.')<br class="calibre9" />&nbsp;&nbsp;&nbsp;typedPassword = input()<br class="calibre9" /><span class="ent">➊</span> if typedPassword == 'swordfish':<br class="calibre9" /><span class="ent">➋</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Access Granted')<br class="calibre9" /><span class="ent">➌</span> elif typedPassword == 'mary':<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Hint: the password is a fish.')<br class="calibre9" /><span class="ent">➍</span> elif typedPassword == '12345':<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('That is a really obvious password.')<br class="calibre9" />&nbsp;&nbsp;&nbsp;else:<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Access Denied')<br class="calibre9" />&nbsp;&nbsp;&nbsp;print('Done')</p>
<p class="indent">This code contains four blocks for the <span class="literal">if</span>, <span class="literal">elif</span>, and <span class="literal">else</span> statements. If the user enters <span class="literal">12345</span>, then <span class="literal">typedPassword == 'swordfish'</span> evaluates to <span class="literal">False</span> <span class="ent">➊</span>, so the first block with <span class="literal">print('Access Granted')</span> <span class="ent">➋</span> is skipped. The execution next checks the <span class="literal">typedPassword == 'mary'</span> condition, which also evaluates to <span class="literal">False</span> <span class="ent">➌</span>, so the second block is also skipped. The <span class="literal">typedPassword == '12345'</span> condition is <span class="literal">True</span> <span class="ent">➍</span>, so the execution enters the block following this <span class="literal">elif</span> statement to run the code <span class="literal">print('That is a really obvious password.')</span> and skips any remaining <span class="literal">elif</span> and <span class="literal">else</span> statements. <em class="calibre7">Notice that one and only one of these blocks will be executed.</em></p>
<p class="indent">You can have zero or more <span class="literal">elif</span> statements following an <span class="literal">if</span> statement. You can have zero or one but not multiple <span class="literal">else</span> statements, and the <span class="literal">else</span> statement always comes last because it only executes if none of the conditions evaluate to <span class="literal">True</span>. The first statement with a <span class="literal">True</span> condition has its block executed. The rest of the conditions (even if they’re also <span class="literal">True</span>) aren’t checked.</p>
<h3 class="h1" id="calibre_link-509">The in and not in Operators</h3>
<p class="noindent">Line 23 in <em class="calibre7">caesarCipher.py</em> also uses the <span class="literal">in</span> operator:</p>
<p class="programs1">23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if symbol in SYMBOLS:</p>
<p class="indent">An <span class="literal">in</span> operator can connect two strings, and it will evaluate to <span class="literal">True</span> if the first string is inside the second string or evaluate to <span class="literal">False</span> if not. The <span class="literal">in</span> <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-236"></span>operator can also be paired with <span class="literal">not</span>, which will do the opposite. Enter the following into the interactive shell:</p>
<p class="programs1">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">'hello' in 'hello world!'</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;True<br class="calibre9" />&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">'hello' not in 'hello world!'</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;False<br class="calibre9" />&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">'ello' in 'hello world!'</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;True<br class="calibre9" /><span class="ent">➊</span> &gt;&gt;&gt; <span class="codestrong">'HELLO' in 'hello world!'</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;False<br class="calibre9" /><span class="ent">➋</span> &gt;&gt;&gt; <span class="codestrong">'' in 'Hello'</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;True</p>
<p class="indent">Notice that the <span class="literal">in</span> and <span class="literal">not in</span> operators are case sensitive <span class="ent">➊</span>. Also, a blank string is always considered to be in any other string <span class="ent">➋</span>.</p>
<p class="indent">Expressions using the <span class="literal">in</span> and <span class="literal">not</span> <span class="literal">in</span> operators are handy to use as conditions of <span class="literal">if</span> statements to execute some code if a string exists inside another string.</p>
<p class="indent">Returning to <em class="calibre7">caesarCipher.py</em>, line 23 checks whether the string in <span class="literal">symbol</span> (which the <span class="literal">for</span> loop on line 21 set to a single character from the <span class="literal">message</span> string) is in the <span class="literal">SYMBOLS</span> string (the symbol set of all characters that can be encrypted or decrypted by this cipher program). If <span class="literal">symbol</span> is in <span class="literal">SYMBOLS</span>, the execution enters the block that follows starting on line 24. If it isn’t, the execution skips this block and instead enters the block following line 39’s <span class="literal">else</span> statement. The cipher program needs to run different code depending on whether the symbol is in the symbol set.</p>
<h3 class="h1" id="calibre_link-510">The find() String Method</h3>
<p class="noindent">Line 24 finds the index in the <span class="literal">SYMBOLS</span> string where <span class="literal">symbol</span> is:</p>
<p class="programs1">24.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbolIndex = SYMBOLS.find(symbol)</p>
<p class="indent">This code includes a method call. <em class="calibre7">Methods</em> are just like functions except they’re attached to a value with a period (or in line 24, a variable containing a value). The name of this method is <span class="literal">find()</span>, and it’s being called on the string value stored in <span class="literal">SYMBOLS</span>.</p>
<p class="indent">Most data types (such as strings) have methods. The <span class="literal">find()</span> method takes one string argument and returns the integer index of where the argument appears in the method’s string. Enter the following into the interactive shell:</p>
<p class="programs1">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">'hello'.find('e')</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;1<br class="calibre9" />&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">'hello'.find('o')</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;4<br class="calibre9" />&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">spam = 'hello'</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">spam.find('h')</span><br class="calibre9" /><span class="ent">➊</span> 0</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-237"></span>You can use the <span class="literal">find()</span> method on either a string or a variable containing a string value. Remember that indexing in Python starts with <span class="literal">0</span>, so when the index returned by <span class="literal">find()</span> is for the first character in the string, a <span class="literal">0</span> is returned <span class="ent">➊</span>.</p>
<p class="indent">If the string argument can’t be found, the <span class="literal">find()</span> method returns the integer <span class="literal">-1</span>. Enter the following into the interactive shell:</p>
<p class="programs1">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt; <span class="codestrong">'hello'.find('x')</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;-1<br class="calibre9" /><span class="ent">➊</span> &gt;&gt;&gt; <span class="codestrong">'hello'.find('H')</span><br class="calibre9" />&nbsp;&nbsp;&nbsp;-1</p>
<p class="indent">Notice that the <span class="literal">find()</span> method is also case sensitive <span class="ent">➊</span>.</p>
<p class="indent">The string you pass as an argument to <span class="literal">find()</span> can be more than one character. The integer that <span class="literal">find()</span> returns will be the index of the first character where the argument is found. Enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">'hello'.find('ello')</span><br class="calibre9" />1<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">'hello'.find('lo')</span><br class="calibre9" />3<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">'hello hello'.find('e')</span><br class="calibre9" />1</p>
<p class="indent">The <span class="literal">find()</span> string method is like a more specific version of using the <span class="literal">in</span> operator. It not only tells you whether a string exists in another string but also tells you where.</p>
<h3 class="h1" id="calibre_link-511">Encrypting and Decrypting Symbols</h3>
<p class="noindent">Now that you understand <span class="literal">if</span>, <span class="literal">elif</span>, and <span class="literal">else</span> statements; the <span class="literal">in</span> operator; and the <span class="literal">find()</span> string method, it will be easier to understand how the rest of the Caesar cipher program works.</p>
<p class="indent">The cipher program can only encrypt or decrypt symbols that are in the symbol set:</p>
<p class="programs1">23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if symbol in SYMBOLS:<br class="calibre9" />24.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbolIndex = SYMBOLS.find(symbol)</p>
<p class="indent">So before running the code on line 24, the program must figure out whether <span class="literal">symbol</span> is in the symbol set. Then it can find the index in <span class="literal">SYMBOLS</span> where <span class="literal">symbol</span> is located. The index returned by the <span class="literal">find()</span> call is stored in <span class="literal">symbolIndex</span>.</p>
<p class="indent">Now that we have the current symbol’s index stored in <span class="literal">symbolIndex</span>, we can do the encryption or decryption math on it. The Caesar cipher adds the key number to the symbol’s index to encrypt it or subtracts the key number <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-317"></span>from the symbol’s index to decrypt it. This value is stored in <span class="literal">translatedIndex</span> because it will be the index in <span class="literal">SYMBOLS</span> of the translated symbol.</p>
<p class="noindentz"><em class="calibre7">caesarCipher.py</em></p>
<p class="programs1">26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Perform encryption/decryption:<br class="calibre9" />27.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if mode == 'encrypt':<br class="calibre9" />28.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = symbolIndex + key<br class="calibre9" />29.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif mode == 'decrypt':<br class="calibre9" />30.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = symbolIndex - key</p>
<p class="indent">The <span class="literal">mode</span> variable contains a string that tells the program whether it should be encrypting or decrypting. If this string is <span class="literal">'encrypt'</span>, then the condition for line 27’s <span class="literal">if</span> statement will be <span class="literal">True</span>, and line 28 will be executed to add the <span class="literal">key</span> to <span class="literal">symbolIndex</span> (and the block after the <span class="literal">elif</span> statement will be skipped). Otherwise, if <span class="literal">mode</span> is <span class="literal">'decrypt'</span>, then line 30 is executed to subtract the <span class="literal">key</span>.</p>
<h4 class="h2" id="calibre_link-512"><strong class="calibre3"><em class="calibre12">Handling Wraparound</em></strong></h4>
<p class="noindent">When we were implementing the Caesar cipher with paper and pencil in <a href="#calibre_link-56" class="calibre8">Chapter 1</a>, sometimes adding or subtracting the key would result in a number greater than or equal to the size of the symbol set or less than zero. In those cases, we have to add or subtract the length of the symbol set so that it will “wrap around,” or return to the beginning or end of the symbol set. We can use the code <span class="literal">len(SYMBOLS)</span> to do this, which returns <span class="literal">66</span>, the length of the <span class="literal">SYMBOLS</span> string. Lines 33 to 36 handle this wraparound in the cipher program.</p>
<p class="programs1">32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle wraparound, if needed:<br class="calibre9" />33.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if translatedIndex &gt;= len(SYMBOLS):<br class="calibre9" />34.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = translatedIndex - len(SYMBOLS)<br class="calibre9" />35.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif translatedIndex &lt; 0:<br class="calibre9" />36.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatedIndex = translatedIndex + len(SYMBOLS)</p>
<p class="indent">If <span class="literal">translatedIndex</span> is greater than or equal to <span class="literal">66</span>, the condition on line 33 is <span class="literal">True</span> and line 34 is executed (and the <span class="literal">elif</span> statement on line 35 is skipped). Subtracting the length of <span class="literal">SYMBOLS</span> from <span class="literal">translatedIndex</span> points the index of the variable back to the beginning of the <span class="literal">SYMBOLS</span> string. Otherwise, Python will check whether <span class="literal">translatedIndex</span> is less than <span class="literal">0</span>. If that condition is <span class="literal">True</span>, line 36 is executed, and <span class="literal">translatedIndex</span> wraps around to the end of the <span class="literal">SYMBOLS</span> string.</p>
<p class="indent">You might be wondering why we didn’t just use the integer value <span class="literal">66</span> directly instead of <span class="literal">len(SYMBOLS)</span>. By using <span class="literal">len(SYMBOLS)</span> instead of <span class="literal">66</span>, we can add to or remove symbols from <span class="literal">SYMBOLS</span> and the rest of the code will still work.</p>
<p class="indent">Now that you have the index of the translated symbol in <span class="literal">translatedIndex</span>, <span class="literal">SYMBOLS[translatedIndex]</span> will evaluate to the translated symbol. Line 38 adds this encrypted/decrypted symbol to the end of the <span class="literal">translated</span> string using string concatenation:</p>
<p class="programs1">38.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translated = translated + SYMBOLS[translatedIndex]</p>
<p class="indent">Eventually, the <span class="literal">translated</span> string will be the whole encoded or decoded message.</p>
<h4 class="h2" id="calibre_link-513"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-179" class="calibre1"></span><strong class="calibre3"><em class="calibre12">Handling Symbols Outside of the Symbol Set</em></strong></h4>
<p class="noindent">The <span class="literal">message</span> string might contain characters that are not in the <span class="literal">SYMBOLS</span> string. These characters are outside of the cipher program’s symbol set and can’t be encrypted or decrypted. Instead, they will just be appended to the <span class="literal">translated</span> string as is, which happens in lines 39 to 41:</p>
<p class="programs1">39.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre9" />40.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Append the symbol without encrypting/decrypting:<br class="calibre9" />41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translated = translated + symbol</p>
<p class="indent">The <span class="literal">else</span> statement on line 39 has four spaces of indentation. If you look at the indentation of the lines above, you’ll see that it’s paired with the <span class="literal">if</span> statement on line 23. Although there’s a lot of code in between this <span class="literal">if</span> and <span class="literal">else</span> statement, it all belongs in the same block of code.</p>
<p class="indent">If line 23’s <span class="literal">if</span> statement’s condition were <span class="literal">False</span>, the block would be skipped, and the program execution would enter the <span class="literal">else</span> statement’s block starting at line 41. This <span class="literal">else</span> block has just one line in it. It adds the unchanged <span class="literal">symbol</span> string to the end of <span class="literal">translated</span>. As a result, symbols outside of the symbol set, such as <span class="literal">'%'</span> or <span class="literal">'('</span>, are added to the translated string without being encrypted or decrypted.</p>
<h3 class="h1" id="calibre_link-514">Displaying and Copying the Translated String</h3>
<p class="noindent">Line 43 has no indentation, which means it’s the first line after the block that started on line 21 (the <span class="literal">for</span> loop’s block). By the time the program execution reaches line 44, it has looped through each character in the <span class="literal">message</span> string, encrypted (or decrypted) the characters, and added them to <span class="literal">translated</span>:</p>
<p class="programs1">43. # Output the translated string:<br class="calibre9" />44. print(translated)<br class="calibre9" />45. pyperclip.copy(translated)</p>
<p class="indent">Line 44 calls the <span class="literal">print()</span> function to display the <span class="literal">translated</span> string on the screen. Notice that this is the only <span class="literal">print()</span> call in the entire program. The computer does a lot of work encrypting every letter in <span class="literal">message</span>, handling wraparound, and handling non-letter characters. But the user doesn’t need to see this. The user just needs to see the final string in <span class="literal">translated</span>.</p>
<p class="indent">Line 45 calls <span class="literal">copy()</span>, which takes one string argument and copies it to the clipboard. Because <span class="literal">copy()</span> is a function in the <span class="literal">pyperclip</span> module, we must tell Python this by putting <span class="literal">pyperclip.</span> in front of the function name. If we type <span class="literal">copy(translated)</span> instead of <span class="literal">pyperclip.copy(translated)</span>, Python will give us an error message because it won’t be able to find the function.</p>
<p class="indent">Python will also give an error message if you forget the <span class="literal">import</span> <span class="literal">pyperclip</span> line (line 4) before trying to call <span class="literal">pyperclip.copy()</span>.</p>
<p class="indent">That’s the entire Caesar cipher program. When you run it, notice how your computer can execute the entire program and encrypt the string in less than a second. Even if you enter a very long string to store in the <span class="literal">message</span> <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-909"></span>variable, your computer can encrypt or decrypt the message within a second or two. Compare this to the several minutes it would take to do this with a cipher wheel. The program even automatically copies the encrypted text to the clipboard so the user can simply paste it into an email to send to someone.</p>
<h3 class="h1" id="calibre_link-515">Encrypting Other Symbols</h3>
<p class="noindent">One problem with the Caesar cipher that we’ve implemented is that it can’t encrypt characters outside its symbol set. For example, if you encrypt the string <span class="literal">'Be sure to bring the $$$.'</span> with the key <span class="literal">20</span>, the message will encrypt to <span class="literal">'VyQ?A!yQ.9Qv!381Q.2yQ$$$T'</span>. This encrypted message doesn’t hide that you are referring to $$$. However, we can modify the program to encrypt other symbols.</p>
<p class="indent">By changing the string that is stored in <span class="literal">SYMBOLS</span> to include more characters, the program will encrypt them as well, because on line 23, the condition <span class="literal">symbol in SYMBOLS</span> will be <span class="literal">True</span>. The value of <span class="literal">symbolIndex</span> will be the index of <span class="literal">symbol</span> in this new, larger <span class="literal">SYMBOLS</span> constant variable. The “wraparound” will need to add or subtract the number of characters in this new string, but that’s already handled because we use <span class="literal">len(SYMBOLS)</span> instead of typing <span class="literal">66</span> directly into the code (which is why we programmed it this way).</p>
<p class="indent">For example, you could expand line 16 to be:</p>
<p class="programs1">SYMBOLS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz12345<br class="calibre9" />&nbsp;&nbsp;67890 !?.`~@#$%^&amp;*()_+-=[]{}|;:&lt;&gt;,/'</p>
<p class="indent">Keep in mind that a message must be encrypted and decrypted with the same symbol set to work.</p>
<h3 class="h1" id="calibre_link-516">Summary</h3>
<p class="noindent">You’ve learned several programming concepts and read through quite a few chapters to get to this point, but now you have a program that implements a secret cipher. And more important, you understand how this code works.</p>
<p class="indent">Modules are Python programs that contain useful functions. To use these functions, you must first import them using an <span class="literal">import</span> statement. To call functions in an imported module, put the module name and a period before the function name, like so: <span class="codeitalic">module</span><span class="literal">.</span><span class="codeitalic">function</span><span class="literal">()</span>.</p>
<p class="indent">Constant variables are written in uppercase letters by convention. These variables are not meant to have their values changed (although nothing prevents the programmer from writing code that does so). Constants are helpful because they give a “name” to specific values in your program.</p>
<p class="indent">Methods are functions that are attached to a value of a certain data type. The <span class="literal">find()</span> string method returns an integer of the position of the string argument passed to it inside the string it is called on.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-910"></span>You learned about several new ways to manipulate which lines of code run and how many times each line runs. A <span class="literal">for</span> loop iterates over all the characters in a string value, setting a variable to each character on each iteration. The <span class="literal">if</span>, <span class="literal">elif</span>, and <span class="literal">else</span> statements execute blocks of code based on whether a condition is <span class="literal">True</span> or <span class="literal">False</span>.</p>
<p class="indent">The <span class="literal">in</span> and <span class="literal">not in</span> operators check whether one string is or isn’t in another string and evaluate to <span class="literal">True</span> or <span class="literal">False</span> accordingly.</p>
<p class="indent">Knowing how to program gives you the ability to write down a process like encrypting or decrypting with the Caesar cipher in a language that a computer can understand. And once the computer understands how to execute the process, it can do it much faster than any human can and with no mistakes (unless mistakes are in your programming). Although this is an incredibly useful skill, it turns out the Caesar cipher can easily be broken by someone who knows how to program. In <a href="#calibre_link-20" class="calibre8">Chapter 6</a>, you’ll use the skills you’ve learned to write a Caesar cipher hacker so you can read ciphertext that other people have encrypted. Let’s move on and learn how to hack encryption.</p>
<div class="sidebar">
<p class="sidebart" id="calibre_link-517"><strong class="calibre5">PRACTICE QUESTIONS</strong></p>
<p class="noindent">Answers to the practice questions can be found on the book’s website at <em class="calibre7"><a href="https://www.nostarch.com/crackingcodes/" class="calibre8">https://www.nostarch.com/crackingcodes/</a></em>.</p>
<ol class="calibre13">
<li value="1" class="calibre11"><p class="noindent">Using <em class="calibre7">caesarCipher.py</em>, encrypt the following sentences with the given keys:</p>
<ol class="lower-alpha">
<li value="1" class="calibre11"><p class="noindent"><span class="literal">'"You can show black is white by argument," said Filby, "but you will never convince me."'</span> with key <span class="literal">8</span></p></li>
<li value="2" class="calibre11"><p class="noindent"><span class="literal">'1234567890'</span> with key <span class="literal">21</span></p></li></ol>
</li>
<li value="2" class="calibre11"><p class="noindent">Using <em class="calibre7">caesarCipher.py</em>, decrypt the following ciphertexts with the given keys:</p>
<ol class="lower-alpha">
<li value="1" class="calibre11"><p class="noindent"><span class="literal">'Kv?uqwpfu?rncwukdng?gpqwijB'</span> with key <span class="literal">2</span></p></li>
<li value="2" class="calibre11"><p class="noindent"><span class="literal">'XCBSw88S18A1S 2SB41SE .8zSEwAS50D5A5x81V'</span> with key <span class="literal">22</span></p></li></ol>
</li>
<li value="3" class="calibre11"><p class="noindent">Which Python instruction would import a module named <em class="calibre7">watermelon.py</em>?</p></li>
<li value="4" class="calibre11"><p class="noindent">What do the following pieces of code display on the screen?</p>
<ol class="lower-alpha">
<li value="1" class="calibre11"><p class="programs1">spam = 'foo'<br class="calibre9" />for i in spam:<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;spam = spam + i<br class="calibre9" />print(spam)</p></li>
<li value="2" class="calibre11"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-911"></span><p class="programs1">if 10 &lt; 5:<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;print('Hello')<br class="calibre9" />elif False:<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;print('Alice')<br class="calibre9" />elif 5 != 5:<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;print('Bob')<br class="calibre9" />else:<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;print('Goodbye')</p>
</li>
<li value="3" class="calibre11"><p class="programs1">print('f' not in 'foo')</p>
</li>
<li value="4" class="calibre11"><p class="programs1">print('foo' in 'f')</p>
</li>
<li value="5" class="calibre11"><p class="programs1">print('hello'.find('oo'))</p>
</li>
</ol></li>
</ol>
</div>
</div>
<div><a href="chapter4.html">Previous Chapter - The Reverse Cipher</a> | <a href="chapter6.html">Next Chapter - Hacking the Caesar Cipher with Brute-Force</a></div>
<div><a target="_blank" href="https://www.amazon.com/gp/product/1593278225/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1593278225&linkCode=as2&tag=playwithpyth-20&linkId=bf3b22819f0886d277e88b8a653b81ad">
<img src="images/cover_crackingcodes_thumb.png" /><br />Buy the print or ebook online.</a></div>