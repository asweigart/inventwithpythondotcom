<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><title>Debugging Python Code</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.png" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="chapter24.html">Prev: Chapter 24 - Programming the Public Key Cipher</a>


<div id="calibre_link-348" class="calibre">
<h2 class="h2a2" id="calibre_link-829"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-190" class="calibre1"></span>DEBUGGING PYTHON CODE</h2>
<div class="image"><img src="images/00078.jpeg" alt="Images" class="calibre4" /></div>
<p class="noindent">IDLE includes a built-in debugger that allows you to execute your program one line at a time, making the debugger a valuable tool for finding bugs in your program. By running your program in debug mode, you can take as much time as you want to examine the values in the variables at any given point while the program is running.</p>
<p class="indent">In this appendix, you’ll learn about how the debugger works, then practice debugging a program from the book, and finally learn how to set breakpoints in your code for easier debugging.</p>
<h3 class="h1" id="calibre_link-830"><strong class="calibre3">How the Debugger Works</strong></h3>
<p class="noindent">To enable IDLE’s debugger, click <strong class="calibre5">Debug</strong><span class="ent">▸</span><strong class="calibre5">Debugger</strong> in the interactive shell window. The Debug Control window should appear, as shown in <a href="#calibre_link-349" class="calibre8">Figure A-1</a>.</p>
<div class="image"><img src="images/00063.jpeg" alt="Images" class="calibre4" /></div>
<p class="figcap"><a id="calibre_link-349" class="calibre8"></a><em class="calibre7">Figure A-1: The Debug Control window</em></p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-1011"></span>In the Debug Control window, select the <strong class="calibre5">Stack</strong>, <strong class="calibre5">Locals</strong>, <strong class="calibre5">Source</strong>, and <strong class="calibre5">Globals</strong> checkboxes to display the full set of debugging information. When the Debug Control window is visible, anytime you run a program from the file editor, the debugger pauses execution before the first instruction and displays the following:</p>
<ul class="calibre10">
<li class="calibre11"><p class="noindent">The line of code that is about to be executed</p></li>
<li class="calibre11"><p class="noindent">A list of all local variables and their values</p></li>
<li class="calibre11"><p class="noindent">A list of all global variables and their values</p></li></ul>
<p class="indent">When you run a program in debug mode, you’ll notice that within the list of global variables are several variables you haven’t defined in your program, such as <span class="literal">__builtins__</span>, <span class="literal">__doc__</span>, <span class="literal">__file__</span>, and so on. The meaning of these variables is beyond the scope of this book, so just ignore them.</p>
<p class="indent">The program will remain paused until you click one of the five buttons in the Debug Control window: Go, Step, Over, Out, or Quit. Let’s explore each button in turn.</p>
<p class="noindentt"><strong class="calibre5">The Go button</strong></p>
<p class="listbody">The Go button executes the program normally until it terminates or reaches a breakpoint. A <em class="calibre7">breakpoint</em> is a specific line of code you designate to force the debugger to pause whenever the program execution reaches that line. We’ll look at breakpoints in more detail in “<a href="#calibre_link-350" class="calibre8">Setting Breakpoints</a>” on <a href="#calibre_link-350" class="calibre8">page 379</a>. When you want the program to continue execution after a pausing at a breakpoint, click the Go button again.</p>
<p class="noindentt"><strong class="calibre5">The Step button</strong></p>
<p class="listbody">Clicking the Step button executes just the next line of code. After that line executes, the program pauses again. The Debug Control window’s list of global and local variables will update at this point if their values <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-1012"></span>have changed. If the next line of code is a function call, the debugger will step into that function and jump to that function’s first line of code. It will do this even if the function is contained in a separate module or is one of Python’s built-in functions.</p>
<p class="noindentt"><strong class="calibre5">The Over button</strong></p>
<p class="listbody">Similar to the Step button, the Over button also executes the next line of code; however, when the next line of code is a function call, clicking the Over button steps over the code inside the function. The code inside the function will execute at full speed, and the debugger will pause as soon as the function call returns. For example, if the next line of code is a <span class="literal">print()</span> call, you don’t need to review code inside the built-in <span class="literal">print()</span> function: you just want the string you pass it printed to the screen. For this reason, you’ll use the Over button more often than the Step button.</p>
<p class="noindentt"><strong class="calibre5">The Out button</strong></p>
<p class="listbody">Clicking the Out button causes the debugger to execute lines of code at full speed until it returns from the current function. If you’ve stepped into a function call using the Step button and then want to continue executing instructions until you get back out, you can click the Out button to step out of the current function call.</p>
<p class="noindentt"><strong class="calibre5">The Quit button</strong></p>
<p class="listbody">To stop debugging entirely and exit the program right away, click the Quit button. The Quit button immediately terminates the program. To run your program normally again, click <strong class="calibre5">Debug</strong><span class="ent">▸</span><strong class="calibre5">Debugger</strong> to disable the debugger.</p>
<h3 class="h1" id="calibre_link-831">Debugging the Reverse Cipher Program</h3>
<p class="noindent">Let’s try to debug one of the programs in the book. Open the <em class="calibre7">reverseCipher.py</em> program from <a href="#calibre_link-57" class="calibre8">Chapter 4</a>. If you haven’t read <a href="#calibre_link-57" class="calibre8">Chapter 4</a> yet, enter the following source code into a file editor window and save it as <em class="calibre7">reverseCipher.py</em>. You can also download this file from <em class="calibre7"><a href="https://www.nostarch.com/crackingcodes/" class="calibre8">https://www.nostarch.com/crackingcodes/</a></em>.</p>
<p class="noindentz"><em class="calibre7">reverseCipher.py</em></p>
<p class="programs1">&nbsp;1. # Reverse Cipher<br class="calibre9" />&nbsp;2. # https://www.nostarch.com/crackingcodes/ (BSD Licensed)<br class="calibre9" />&nbsp;3. <br class="calibre9" />&nbsp;4. message = 'Three can keep a secret, if two of them are dead.'<br class="calibre9" />&nbsp;5. translated = ''<br class="calibre9" />&nbsp;6. <br class="calibre9" />&nbsp;7. i = len(message) - 1<br class="calibre9" />&nbsp;8. while i &gt;= 0:<br class="calibre9" />&nbsp;9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translated = translated + message[i]<br class="calibre9" />10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i = i - 1<br class="calibre9" />11. <br class="calibre9" />12. print(translated)</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-1013"></span>Click <strong class="calibre5">Debug</strong><span class="ent">▸</span><strong class="calibre5">Debugger</strong> in the interactive shell window. When you press F5 or click <strong class="calibre5">Run</strong><span class="ent">▸</span><strong class="calibre5">Run Module</strong> to run the program, it should start in a paused state on line 4. Lines 1 to 3 in this program are comments and blank lines, so the debugger automatically skips them. The debugger always pauses on the line of code it is about to execute. <a href="#calibre_link-351" class="calibre8">Figure A-2</a> shows what the Debug Control window should look like.</p>
<div class="image"><img src="images/00049.jpeg" alt="Images" class="calibre4" /></div>
<p class="figcap"><a id="calibre_link-351" class="calibre8"></a><em class="calibre7">Figure A-2: The Debug Control window when the program first starts in the debugger</em></p>
<p class="indent">Click the <strong class="calibre5">Over</strong> button once to execute line 4, which assigns <span class="literal">'Three can keep a secret, if two of them are dead.'</span> to the <span class="literal">message</span> variable. In the Debug Control window’s Globals section, <span class="literal">message</span> should now be listed along with the value it contains.</p>
<p class="indent">The Debug Control window then updates to line 5, and line 5 in the file editor window is highlighted, as shown in <a href="#calibre_link-352" class="calibre8">Figure A-3</a>.</p>
<div class="image"><img src="images/00056.jpeg" alt="Images" class="calibre4" /></div>
<p class="figcap"><a id="calibre_link-352" class="calibre8"></a><em class="calibre7">Figure A-3: The</em> reverseCipher.py <em class="calibre7">window with the debugger paused on line 5</em></p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-142"></span>The highlight indicates where the program execution is currently. You can continue to execute lines of code one instruction at a time by clicking the Over button. If you want to resume the program at normal speed, click the Go button.</p>
<p class="indent">Whenever the debugger pauses, you can look at the values in the program’s variables to see how they have changed with each instruction. When your program has bugs or isn’t doing what you expect, this detailed view of your program as it runs can help you figure out what is going on.</p>
<h3 class="h1" id="calibre_link-350">Setting Breakpoints</h3>
<p class="noindent">You can set a breakpoint on a specific line of code to force the debugger to pause whenever the program execution reaches that line. Setting a breakpoint allows you to quickly place the debugger near the code you want to debug. To set a breakpoint, right-click the line in the file editor and then click <strong class="calibre5">Set Breakpoint</strong>. In the <em class="calibre7">reverseCipher.py</em> program, set a breakpoint on line 9, as shown in <a href="#calibre_link-353" class="calibre8">Figure A-4</a>.</p>
<div class="image"><img src="images/00065.jpeg" alt="Images" class="calibre4" /></div>
<p class="figcap"><a id="calibre_link-353" class="calibre8"></a><em class="calibre7">Figure A-4: Setting a breakpoint on line 9 of</em> reverseCipher.py</p>
<p class="indent">The line on which you set the breakpoint should now be highlighted in yellow in the file editor. You can set as many breakpoints as you want. When you run the program in the debugger, it will start in a paused state at the first line, as usual. But when you click Go, the program will run at full speed until it pauses on the line with the breakpoint, as shown in <a href="#calibre_link-354" class="calibre8">Figure A-5</a>.</p>
<p class="indent">You can then click Go, Over, Step, or Out to continue program execution. Each time you click Go, the execution continues until it encounters the next breakpoint or the end of the program. In this case, the Globals section will show the <span class="literal">translated</span> variable getting longer every time you click Go as new letters are encrypted.</p>
<div class="image"><img src="images/00072.jpeg" alt="Images" class="calibre4" /></div>
<p class="figcap"><a id="calibre_link-354" class="calibre8"></a><em class="calibre7">Figure A-5: The debugger pauses the program at the breakpoint on line 9.</em></p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-143"></span>To remove a breakpoint, right-click the line in the file editor and then click <strong class="calibre5">Clear Breakpoint</strong>. The yellow highlight is deleted, and the debugger will not break on that line in the future.</p>
<h3 class="h1" id="calibre_link-832"><strong class="calibre3">Summary</strong></h3>
<p class="noindent">The debugger is a useful tool that lets you step through your program one line at a time. You can use the debugger to run your program at normal speed and pause execution whenever it reaches a line on which you’ve set a breakpoint. The debugger also allows you to see the state of any variable’s value at any point during the program’s execution.</p>
<p class="indent">Accidentally introducing bugs into your code is a fact of life, no matter how many years of coding experience you have. Use the debugger to help you understand exactly what is going on in your program so you can fix those bugs.</p>
</div>




<a href="chapter24.html">Prev: Chapter 24 - Programming the Public Key Cipher</a>
</body></html>