<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style_cracking.css" rel="stylesheet" type="text/css" /><title>Chapter 11 - Detecting English Programmatically</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.png" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="chapter10.html">Prev: Chapter 10 - Encrypting and Decrypting Files</a> | <a href="chapter12.html">Next: Chapter 12 - Hacking the Transposition Cipher</a>





<div><a target="_blank" href="https://www.amazon.com/gp/product/1593278225/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1593278225&linkCode=as2&tag=playwithpyth-20&linkId=bf3b22819f0886d277e88b8a653b81ad">
<img src="images/cover_crackingcodes_thumb.png" /><br />Buy the print or ebook online.</a></div>
<div><a href="chapter10.html">Previous Chapter - Encrypting and Decrypting Files</a> | <a href="chapter12.html">Next Chapter - Hacking the Transposition Cipher</a></div>
<div id="calibre_link-67" class="calibre">
<h2 class="h2a1" id="calibre_link-28"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-216" class="calibre1"></span><span class="big">11</span><br class="calibre15" />DETECTING ENGLISH PROGRAMMATICALLY</h2>
<p class="epigraph"><em class="calibre7">The gaffer says something longer and more complicated. <br class="calibre9" />After a while, Waterhouse (now wearing his cryptoanalyst hat, searching for meaning midst apparent randomness, his neural circuits exploiting the redundancies in the signal) realizes that the man is speaking heavily accented English.<br class="calibre9" />&mdash;Neal Stephenson,</em> Cryptonomicon</p>
<div class="image"><img src="images/00078.jpeg" alt="Images" class="calibre4" /></div>
<p class="noindent">Previously, we used the transposition file cipher to encrypt and decrypt entire files, but we haven’t tried writing a brute-force program to hack the cipher yet. Messages encrypted with the transposition file cipher can have thousands of possible keys, which your computer can still easily brute-force, but you’d then have to look through thousands of decryptions to find the one correct plaintext. As you can imagine, this can be a big problem, but there is a work-around.</p>
<p class="indent">When the computer decrypts a message using the wrong key, the resulting string is garbage text instead of English text. We can program the computer to recognize when a decrypted message is English. That way, if the computer decrypts using the wrong key, it knows to go on and try the next possible key. Eventually, when the computer tries a key that decrypts to English text, it can stop and bring that key to your attention, sparing you from having to look through thousands of incorrect decryptions.</p>
<div class="sidebar">
<p class="sidebart"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-930"></span><strong class="calibre5">TOPICS COVERED IN THIS CHAPTER</strong></p>
<ul class="calibre10">
<li class="calibre11"><p class="noindent">The dictionary data type</p></li>
<li class="calibre11"><p class="noindent">The <span class="literal">split()</span> method</p></li>
<li class="calibre11"><p class="noindent">The <span class="literal">None</span> value</p></li>
<li class="calibre11"><p class="noindent">Divide-by-zero errors</p></li>
<li class="calibre11"><p class="noindent">The <span class="literal">float()</span>, <span class="literal">int()</span>, and <span class="literal">str()</span> functions and integer division</p></li>
<li class="calibre11"><p class="noindent">The <span class="literal">append()</span> list method</p></li>
<li class="calibre11"><p class="noindent">Default arguments</p></li>
<li class="calibre11"><p class="noindent">Calculating percentages</p></li>
</ul>
</div>
<h3 class="h1" id="calibre_link-601"><strong class="calibre3">How Can a Computer Understand English?</strong></h3>
<p class="noindent">A computer can’t understand English, at least, not in the way that human beings understand English. Computers don’t understand math, chess, or human rebellions either, any more than a clock understands lunchtime. Computers just execute instructions one after another. But these instructions can mimic complex behaviors to solve math problems, win at chess, or hunt down the future leaders of the human resistance.</p>
<p class="indent">Ideally, what we need to create is a Python function (let’s call it the <span class="literal">isEnglish()</span> function) that we can pass a string to and get a return value of <span class="literal">True</span> if the string is English text or <span class="literal">False</span> if it’s random gibberish. Let’s look at some English text and some garbage text to see what patterns they might have:</p>
<p class="programs1">Robots are your friends. Except for RX-686. She will try to eat you.<br class="calibre9" />ai-pey&nbsp;&nbsp;e. xrx ne augur iirl6 Rtiyt fhubE6d hrSei t8..ow eo.telyoosEs&nbsp;&nbsp;t</p>
<p class="indent">Notice that the English text is made up of words that you would find in a dictionary, but the garbage text isn’t. Because words are usually separated by spaces, one way of checking whether a message string is English is to split the message into smaller strings at each space and to check whether each substring is a dictionary word. To split the message strings into substrings, we can use the Python string method named <span class="literal">split()</span>, which checks where each word begins and ends by looking for spaces between characters. (“<a href="#calibre_link-68" class="calibre8">The <span class="literal">split()</span> Method</a>” on <a href="#calibre_link-68" class="calibre8">page 150</a> covers this in more detail.) We can then compare each substring to each word in the dictionary using an <span class="literal">if</span> statement, as in the following code:</p>
<p class="programs1">if word == 'aardvark' or word == 'abacus' or word == 'abandon' or word ==<br class="calibre9" />'abandoned' or word == 'abbreviate' or word == 'abbreviation' or word ==<br class="calibre9" />'abdomen' or ...</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-198"></span>We <em class="calibre7">could</em> write code like that, but we probably wouldn’t because it would be tedious to type it all out. Fortunately, we can use <em class="calibre7">English dictionary files</em>, which are text files that contain nearly every word in English. I’ll provide you with a dictionary file to use, so we just need to write the <span class="literal">isEnglish()</span> function that checks whether the substrings in the message are in the dictionary file.</p>
<p class="indent">Not every word exists in our dictionary file. The dictionary file might be incomplete; for example, it might not have the word <em class="calibre7">aardvark</em>. There are also perfectly good decryptions that might have non-English words in them, such as <em class="calibre7">RX-686</em> in our example English sentence. The plaintext could also be in a different language, but we’ll assume it’s in English for now.</p>
<p class="indent">So the <span class="literal">isEnglish()</span> function won’t be foolproof, but if <em class="calibre7">most</em> of the words in the string argument are English words, it’s a good bet the string is English text. There’s a very low probability that a ciphertext decrypted using the wrong key will decrypt to English.</p>
<p class="indent">You can download the dictionary file we’ll use for this book (which has more than 45,000 words) from <a href="https://www.nostarch.com/crackingcodes/" class="calibre8"><em class="calibre7">https://www.nostarch.com/crackingcodes/</em></a>. The dictionary text file lists one word per line in uppercase. Open it, and you’ll see something like this:</p>
<p class="programs1">AARHUS<br class="calibre9" />AARON<br class="calibre9" />ABABA<br class="calibre9" />ABACK<br class="calibre9" />ABAFT<br class="calibre9" />ABANDON<br class="calibre9" />ABANDONED<br class="calibre9" />ABANDONING<br class="calibre9" />ABANDONMENT<br class="calibre9" />ABANDONS<br class="calibre9" />--<span class="codeitalic">snip</span>--</p>
<p class="indent">Our <span class="literal">isEnglish()</span> function will split a decrypted string into individual substrings and check whether each substring exists as a word in the dictionary file. If a certain number of the substrings are English words, we’ll identify that text as English. And if the text is in English, there’s a good chance that we’ll have successfully decrypted the ciphertext with the correct key.</p>
<h3 class="h1" id="calibre_link-602"><strong class="calibre3">Source Code for the Detect English Module</strong></h3>
<p class="noindent">Open a new file editor window by selecting <strong class="calibre5">File</strong><span class="ent">▸</span><strong class="calibre5">New File</strong>. Enter the following code into the file editor and then save it as <em class="calibre7">detectEnglish.py</em>. Make sure <em class="calibre7">dictionary.txt</em> is in the same directory as <em class="calibre7">detectEnglish.py</em> or this code won’t work. Press F5 to run the program.</p>
<p class="noindentz"><em class="calibre7">detectEnglish.py</em></p>
<p class="programs1">&nbsp;1. # Detect English module<br class="calibre9" />&nbsp;2. # https://www.nostarch.com/crackingcodes/ (BSD Licensed)<br class="calibre9" />&nbsp;3.<br class="calibre9" />&nbsp;4. # To use, type this code:<br class="calibre9" />&nbsp;5. #&nbsp;&nbsp;&nbsp;import detectEnglish<br class="calibre9" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-199"></span>&nbsp;6. #&nbsp;&nbsp;&nbsp;detectEnglish.isEnglish(someString) # Returns True or False<br class="calibre9" />&nbsp;7. # (There must be a "dictionary.txt" file in this directory with all<br class="calibre9" />&nbsp;8. # English words in it, one word per line. You can download this from<br class="calibre9" />&nbsp;9. # https://www.nostarch.com/crackingcodes/.)<br class="calibre9" />10. UPPERLETTERS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'<br class="calibre9" />11. LETTERS_AND_SPACE = UPPERLETTERS + UPPERLETTERS.lower() + ' \t\n'<br class="calibre9" />12.<br class="calibre9" />13. def loadDictionary():<br class="calibre9" />14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionaryFile = open('dictionary.txt')<br class="calibre9" />15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;englishWords = {}<br class="calibre9" />16.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for word in dictionaryFile.read().split('\n'):<br class="calibre9" />17.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;englishWords[word] = None<br class="calibre9" />18.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionaryFile.close()<br class="calibre9" />19.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return englishWords<br class="calibre9" />20.<br class="calibre9" />21. ENGLISH_WORDS = loadDictionary()<br class="calibre9" />22.<br class="calibre9" />23.<br class="calibre9" />24. def getEnglishCount(message):<br class="calibre9" />25.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message = message.upper()<br class="calibre9" />26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message = removeNonLetters(message)<br class="calibre9" />27.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibleWords = message.split()<br class="calibre9" />28.<br class="calibre9" />29.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if possibleWords == []:<br class="calibre9" />30.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0.0 # No words at all, so return 0.0<br class="calibre9" />31.<br class="calibre9" />32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches = 0<br class="calibre9" />33.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for word in possibleWords:<br class="calibre9" />34.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if word in ENGLISH_WORDS:<br class="calibre9" />35.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches += 1<br class="calibre9" />36.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return float(matches) / len(possibleWords)<br class="calibre9" />37.<br class="calibre9" />38.<br class="calibre9" />39. def removeNonLetters(message):<br class="calibre9" />40.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lettersOnly = []<br class="calibre9" />41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for symbol in message:<br class="calibre9" />42.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if symbol in LETTERS_AND_SPACE:<br class="calibre9" />43.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lettersOnly.append(symbol)<br class="calibre9" />44.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ''.join(lettersOnly)<br class="calibre9" />45.<br class="calibre9" />46.<br class="calibre9" />47. def isEnglish(message, wordPercentage=20, letterPercentage=85):<br class="calibre9" />48.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# By default, 20% of the words must exist in the dictionary file, and<br class="calibre9" />49.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 85% of all the characters in the message must be letters or spaces<br class="calibre9" />50.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# (not punctuation or numbers).<br class="calibre9" />51.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wordsMatch = getEnglishCount(message) * 100 &gt;= wordPercentage<br class="calibre9" />52.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numLetters = len(removeNonLetters(message))<br class="calibre9" />53.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messageLettersPercentage = float(numLetters) / len(message) * 100<br class="calibre9" />54.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lettersMatch = messageLettersPercentage &gt;= letterPercentage<br class="calibre9" />55.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return wordsMatch and lettersMatch</p>
<h3 class="h1" id="calibre_link-603"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-931" class="calibre1"></span><strong class="calibre3">Sample Run of the Detect English Module</strong></h3>
<p class="noindent">The <em class="calibre7">detectEnglish.py</em> program we’ll write in this chapter won’t run by itself. Instead, other encryption programs will import <em class="calibre7">detectEnglish.py</em> so they can call the <span class="literal">detectEnglish.isEnglish()</span> function, which returns <span class="literal">True</span> when the string is determined to be English. This is why we don’t give <em class="calibre7">detectEnglish.py</em> a <span class="literal">main()</span> function. The other functions in <em class="calibre7">detectEnglish.py</em> are helper functions that the <span class="literal">isEnglish()</span> function will call. All the work we’ll do in this chapter will allow any program to import the <span class="literal">detectEnglish</span> module with an <span class="literal">import</span> statement and use the functions in it.</p>
<p class="indent">You’ll also be able to use this module in the interactive shell to check whether an individual string is in English, as shown here:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">import detectEnglish</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">detectEnglish.isEnglish('Is this sentence English text?')</span><br class="calibre9" />True</p>
<p class="indent">In this example, the function determined that the string <span class="literal">'Is this</span> <span class="literal">sentence</span> <span class="literal">English text?'</span> is indeed in English, so it returns <span class="literal">True</span>.</p>
<h3 class="h1" id="calibre_link-604"><strong class="calibre3">Instructions and Setting Up Constants</strong></h3>
<p class="noindent">Let’s look at the first portion of the <em class="calibre7">detectEnglish.py</em> program. The first nine lines of code are comments that give instructions on how to use this module.</p>
<p class="programs1">&nbsp;1. # Detect English module<br class="calibre9" />&nbsp;2. # https://www.nostarch.com/crackingcodes/ (BSD Licensed)<br class="calibre9" />&nbsp;3.<br class="calibre9" />&nbsp;4. # To use, type this code:<br class="calibre9" />&nbsp;5. #&nbsp;&nbsp;&nbsp;import detectEnglish<br class="calibre9" />&nbsp;6. #&nbsp;&nbsp;&nbsp;detectEnglish.isEnglish(someString) # Returns True or False<br class="calibre9" />&nbsp;7. # (There must be a "dictionary.txt" file in this directory with all<br class="calibre9" />&nbsp;8. # English words in it, one word per line. You can download this from<br class="calibre9" />&nbsp;9. # https://www.nostarch.com/crackingcodes/.)<br class="calibre9" />10. UPPERLETTERS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'<br class="calibre9" />11. LETTERS_AND_SPACE = UPPERLETTERS + UPPERLETTERS.lower() + ' \t\n'</p>
<p class="indent">The first nine lines of code are comments that give instructions on how to use this module. They remind users that this module won’t work unless a file named <em class="calibre7">dictionary.txt</em> is in the same directory as <em class="calibre7">detectEnglish.py</em>.</p>
<p class="indent">Lines 10 and 11 set up a few variables as constants, which are in uppercase. As you learned in <a href="#calibre_link-2" class="calibre8">Chapter 5</a>, constants are variables whose values should never be changed after they’re set. <span class="literal">UPPERLETTERS</span> is a constant containing the 26 uppercase letters that we set up for convenience and to save time typing. We use the <span class="literal">UPPERLETTERS</span> constant to set up <span class="literal">LETTERS_AND_SPACE</span>, which contains all the uppercase and lowercase letters of the alphabet as well as the space character, the tab character, and the newline character. Instead of typing out all the uppercase and lowercase letters, we just concatenate <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-186"></span><span class="literal">UPPERLETTERS</span> with the lowercase letters returned by <span class="literal">UPPERLETTERS.lower()</span> and the additional non-letter characters. The tab and newline characters are represented with the escape characters <span class="literal">\t</span> and <span class="literal">\n</span>.</p>
<h3 class="h1" id="calibre_link-605"><strong class="calibre3">The Dictionary Data Type</strong></h3>
<p class="noindent">Before we continue with the rest of the <em class="calibre7">detectEnglish.py</em> code, you need to learn more about the dictionary data type to understand how to convert the text in the file into a string value. The <em class="calibre7">dictionary</em> data type (not to be confused with the dictionary file) stores values, which can contain multiple other values just as lists do. In lists, we use an integer index to retrieve items in the list, such as <span class="literal">spam[42]</span>. But for each item in the dictionary value, we instead use a key to retrieve a value. Although we can use only integers to retrieve items from a list, the key in a dictionary value can be an integer or a string, such as <span class="literal">spam['hello']</span> or <span class="literal">spam[42]</span>. Dictionaries let us organize our program’s data with more flexibility than lists and don’t store items in any particular order. Instead of using square brackets as lists do, dictionaries use braces. For example, an empty dictionary looks like this <span class="literal">{}</span>.</p>
<div class="note">
<p class="notet"><strong class="calibre3"><span class="notes">NOTE</span></strong></p>
<p class="notep"><em class="calibre7">Keep in mind that dictionary files and dictionary values are completely different concepts that just happen to have similar names. A Python dictionary value can contain multiple other values. A dictionary file is a text file containing English words.</em></p>
</div>
<p class="indent">A dictionary’s items are typed as <em class="calibre7">key-value pairs</em>, in which the keys and values are separated by colons. Multiple key-value pairs are separated by commas. To retrieve values from a dictionary, use square brackets with the key between them, similar to when indexing with lists. To try retrieving values from a dictionary using keys, enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">spam = {'key1': 'This is a value', 'key2': 42}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">spam['key1']</span><br class="calibre9" />'This is a value'</p>
<p class="indent">First, we set up a dictionary called <span class="literal">spam</span> with two key-value pairs. We then access the value associated with the <span class="literal">'key1'</span> string key, which is another string. As with lists, you can store all kinds of data types in your dictionaries.</p>
<p class="indent">Note that, as with lists, variables don’t store dictionary values; instead, they store references to dictionaries. The following example code shows two variables with references to the same dictionary:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">spam = {'hello': 42}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs = spam</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs['hello'] = 99</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs</span><br class="calibre9" />{'hello': 99}<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">spam</span><br class="calibre9" />{'hello': 99}</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-200"></span>The first line of code sets up another dictionary called <span class="literal">spam</span>, this time with only one key-value pair. You can see that it stores an integer value <span class="literal">42</span> associated with the <span class="literal">'hello'</span> string key. The second line assigns that dictionary key-value pair to another variable called <span class="literal">eggs</span>. You can then use <span class="literal">eggs</span> to change the original dictionary value associated with the <span class="literal">'hello'</span> string key to <span class="literal">99</span>. Now both variables, <span class="literal">eggs</span> and <span class="literal">spam</span>, should return the same dictionary key-value pair with the updated value.</p>
<h4 class="h2" id="calibre_link-606"><strong class="calibre3"><em class="calibre12">The Difference Between Dictionaries and Lists</em></strong></h4>
<p class="noindent">Dictionaries are like lists in many ways, but there are a few important differences:</p>
<ul class="calibre10">
<li class="calibre11"><p class="noindent">Dictionary items are not in any order. There is no first or last item in a dictionary as there is in a list.</p></li>
<li class="calibre11"><p class="noindent">You can’t concatenate dictionaries with the <span class="literal">+</span> operator. If you want to add a new item, use indexing with a new key. For example, <span class="literal">foo['a new key'] = 'a string'</span>.</p></li>
<li class="calibre11"><p class="noindent">Lists only have integer index values that range from <span class="literal">0</span> to the length of the list minus one, but dictionaries can use any key. If you have a dictionary stored in a variable <span class="literal">spam</span>, you can store a value in <span class="literal">spam[3]</span> without needing values for <span class="literal">spam[0]</span>, <span class="literal">spam[1]</span>, or <span class="literal">spam[2]</span>.</p></li>
</ul>
<h4 class="h2" id="calibre_link-607"><strong class="calibre3"><em class="calibre12">Adding or Changing Items in a Dictionary</em></strong></h4>
<p class="noindent">You can also add or change values in a dictionary by using the dictionary keys as indexes. Enter the following into the interactive shell to see how this works:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">spam = {42: 'hello'}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">print(spam[42])</span><br class="calibre9" />hello<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">spam[42] = 'goodbye'</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">print(spam[42])</span><br class="calibre9" />goodbye</p>
<p class="indent">This dictionary has an existing dictionary string value <span class="literal">'hello'</span> associated with the key <span class="literal">42</span>. We can reassign a new string value <span class="literal">'goodbye'</span> to that key using <span class="literal">spam[42] = 'goodbye'</span>. Assigning a new value to an existing dictionary key overwrites the original value associated with that key. For example, when we try to access the dictionary with the key <span class="literal">42</span>, we get the new value associated with it.</p>
<p class="indent">And just as lists can contain other lists, dictionaries can also contain other dictionaries (or lists). To see an example, enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">foo = {'fizz': {'name': 'Al', 'age': 144}, 'moo':['a', 'brown', 'cow']}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">foo['fizz']</span><br class="calibre9" />{'age': 144, 'name': 'Al'}<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">foo['fizz']['name']</span><br class="calibre9" />'Al'<br class="calibre9" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-201"></span>&gt;&gt;&gt; <span class="codestrong">foo['moo']</span><br class="calibre9" />['a', 'brown', 'cow']<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">foo['moo'][1]</span><br class="calibre9" />'brown'</p>
<p class="indent">This example code shows a dictionary (named <span class="literal">foo</span>) that contains two keys <span class="literal">'fizz'</span> and <span class="literal">'moo'</span>, each corresponding to a different value and data type. The <span class="literal">'fizz'</span> key holds another dictionary, and the <span class="literal">'</span><span class="literal">moo'</span> key holds a list. (Remember that dictionary values don’t keep their items in order. This is why <span class="literal">foo['fizz']</span> shows the key-value pairs in a different order from what you typed.) To retrieve a value from a dictionary nested within another dictionary, you first specify the key of the larger data set you want to access using square brackets, which is <span class="literal">'fizz'</span> in this example. Then you use square brackets again and enter the key <span class="literal">'name'</span> corresponding to the nested string value <span class="literal">'Al'</span> that you want to retrieve.</p>
<h4 class="h2" id="calibre_link-608"><strong class="calibre3"><em class="calibre12">Using the len() Function with Dictionaries</em></strong></h4>
<p class="noindent">The <span class="literal">len()</span> function shows you the number of items in a list or the number of characters in a string. It can also show you the number of items in a dictionary. Enter the following code into the interactive shell to see how to use the <span class="literal">len()</span> function to count items in a dictionary:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">spam = {}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">len(spam)</span><br class="calibre9" />0<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">spam['name'] = 'Al'</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">spam['pet'] = 'Zophie the cat'</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">spam['age'] = 89</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">len(spam)</span><br class="calibre9" />3</p>
<p class="indent">The first line of this example shows an empty dictionary called <span class="literal">spam</span>. The <span class="literal">len()</span> function correctly shows the length of this empty dictionary is <span class="literal">0</span>. However, after you introduce the following three values, <span class="literal">'Al'</span>, <span class="literal">'Zophie the cat'</span>, and <span class="literal">89</span>, into the dictionary, the <span class="literal">len()</span> function now returns <span class="literal">3</span> for the three key-value pairs you’ve just assigned to the variable.</p>
<h4 class="h2" id="calibre_link-609"><strong class="calibre3"><em class="calibre12">Using the in Operator with Dictionaries</em></strong></h4>
<p class="noindent">You can use the <span class="literal">in</span> operator to see whether a certain key exists in a dictionary. It’s important to remember that the <span class="literal">in</span> operator checks keys, not values. To see this operator in action, enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">eggs = {'foo': 'milk', 'bar': 'bread'}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">'foo' in eggs</span><br class="calibre9" />True<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">'milk' in eggs</span><br class="calibre9" />False<br class="calibre9" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-269"></span>&gt;&gt;&gt; <span class="codestrong">'blah blah blah' in eggs</span><br class="calibre9" />False<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">'blah blah blah' not in eggs</span><br class="calibre9" />True</p>
<p class="indent">We set up a dictionary called <span class="literal">eggs</span> with some key-value pairs and then check which keys exist in the dictionary using the <span class="literal">in</span> operator. The key <span class="literal">'foo'</span> is a key in <span class="literal">eggs</span>, so <span class="literal">True</span> is returned. Whereas <span class="literal">'milk'</span> returns <span class="literal">False</span> because it is a value, not a key, <span class="literal">'blah blah blah'</span> evaluates to <span class="literal">False</span> because no such item exists in this dictionary. The <span class="literal">not in</span> operator works with dictionary values as well, which you can see in the last command.</p>
<h4 class="h2" id="calibre_link-610"><strong class="calibre3"><em class="calibre12">Finding Items Is Faster with Dictionaries than with Lists</em></strong></h4>
<p class="noindent">Imagine the following list and dictionary values in the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">listVal = ['spa</span><span class="codestrong">m</span><span class="codestrong">', 'eggs', 'bacon']</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">dictionaryVal = {'spam':0, 'eggs':0, 'bacon':0}</span></p>
<p class="indent">Python can evaluate the expression <span class="literal">'bacon'</span> in <span class="literal">dictionaryVal</span> a bit faster than <span class="literal">'bacon'</span> in <span class="literal">listVal</span>. This is because for a list, Python must start at the beginning of the list and then move through each item in order until it finds the search item. If the list is very large, Python must search through numerous items, a process that can take a lot of time.</p>
<p class="indent">But a dictionary, also called a <em class="calibre7">hash table</em>, directly translates where in the computer’s memory the value for the key-value pair is stored, which is why a dictionary’s items don’t have an order. No matter how large the dictionary is, finding any item always takes the same amount of time.</p>
<p class="indent">This difference in speed is hardly noticeable when searching short lists and dictionaries. But our <span class="literal">detectEnglish</span> module will have tens of thousands of items, and the expression <span class="literal">word in ENGLISH_WORDS</span>, which we’ll use in our code, will be evaluated many times when the <span class="literal">isEnglish()</span> function is called. Using dictionary values speeds up this process when handling a large number of items.</p>
<h4 class="h2" id="calibre_link-611"><strong class="calibre3"><em class="calibre12">Using for Loops with Dictionaries</em></strong></h4>
<p class="noindent">You can also iterate over the keys in a dictionary using <span class="literal">for</span> loops, just as you can iterate over the items in a list. Enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">spam = {'name': 'Al', 'age': 99}</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">for k in spam:</span><br class="calibre9" />...&nbsp;&nbsp;&nbsp;<span class="codestrong">print(k, spam[k])</span><br class="calibre9" />...<br class="calibre9" />Age 99<br class="calibre9" />name Al</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-187"></span>To use a <span class="literal">for</span> statement to iterate over the keys in a dictionary, start with the <span class="literal">for</span> keyword. Set the variable <span class="literal">k</span>, use the <span class="literal">in</span> keyword to specify that you want to loop over <span class="literal">spam</span> and end the statement with a colon. As you can see, entering <span class="literal">print(k, spam[k])</span> returns each key in the dictionary along with its corresponding value.</p>
<h3 class="h1" id="calibre_link-612"><strong class="calibre3">Implementing the Dictionary File</strong></h3>
<p class="noindent">Now let’s return to <em class="calibre7">detectEnglish.py</em> and set up the dictionary file. The dictionary file sits on the user’s hard drive, but unless we load the text in this file as a string value, our Python code can’t use it. We’ll create a <span class="literal">loadDictionary()</span> helper function to do this:</p>
<p class="programs1">13. def loadDictionary():<br class="calibre9" />14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionaryFile = open('dictionary.txt')<br class="calibre9" />15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;englishWords = {}</p>
<p class="indent">First, we get the dictionary’s file object by calling <span class="literal">open()</span> and passing the string of the filename <span class="literal">'dictionary.txt'</span>. Then we name the dictionary variable <span class="literal">englishWords</span> and set it to an empty dictionary.</p>
<p class="indent">We’ll store all the words in the dictionary file (the file that stores the English words) in a dictionary value (the Python data type). The similar names are unfortunate, but the two are completely different. Even though we could have used a list to store the string values of each word in the dictionary file, we’re using a dictionary instead because the <span class="literal">in</span> operator works faster on dictionaries than lists.</p>
<p class="indent">Next, you’ll learn about the <span class="literal">split()</span> string method, which we’ll use to split our dictionary file into substrings.</p>
<h4 class="h2" id="calibre_link-68"><strong class="calibre3"><em class="calibre12">The split() Method</em></strong></h4>
<p class="noindent">The <span class="literal">split()</span> string method takes one string and returns a list of several strings by splitting the passed string at each space. To see an example of how this works, enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">'My very energetic mother&nbsp;&nbsp;&nbsp;&nbsp;just served us Nutella.'.split()</span><br class="calibre9" />['My', 'very', 'energetic', 'mother', 'just', 'served', 'us', 'Nutella.']</p>
<p class="indent">The result is a list of eight strings, one string for each of the words in the original string. Spaces are dropped from the items in the list, even if there is more than one space. You can pass an optional argument to the <span class="literal">split()</span> method to tell it to split on a different string other than a space. Enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">'helloXXXworldXXXhowXXXareXXyou?'.split('XXX')</span><br class="calibre9" />['hello', 'world', 'how', 'areXXyou?']</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-316"></span>Notice that the string doesn’t have any spaces. Using <span class="literal">split('XXX')</span> splits the original string wherever <span class="literal">'XXX'</span> occurs, resulting in a list of four strings. The last part of the string, <span class="literal">'areXXyou?'</span>, isn’t split because <span class="literal">'XX'</span> isn’t the same as <span class="literal">'XXX'</span>.</p>
<h4 class="h2" id="calibre_link-613"><strong class="calibre3"><em class="calibre12">Splitting the Dictionary File into Individual Words</em></strong></h4>
<p class="noindent">Let’s return to our source code in <em class="calibre7">detectEnglish.py</em> to see how we split the string in the dictionary file and store each word in a key.</p>
<p class="programs1">16.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for word in dictionaryFile.read().split('\n'):<br class="calibre9" />17.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;englishWords[word] = None</p>
<p class="indent">Let’s break down line 16. The <span class="literal">dictionaryFile</span> variable stores the file object of the opened file. The <span class="literal">dictionaryFile.read()</span> method call reads the entire file and returns it as one large string value. We then call the <span class="literal">split()</span> method on this long string and split on newline characters. Because the dictionary file has one word per line, splitting on newline characters returns a list value made up of each word in the dictionary file.</p>
<p class="indent">The <span class="literal">for</span> loop at the beginning of the line iterates over each word to store each one in a key. But we don’t need values associated with the keys since we’re using the dictionary data type, so we’ll just store the <span class="literal">None</span> value for each key.</p>
<p class="indent"><span class="literal">None</span> is a type of value that you can assign to a variable to represent the lack of a value. Whereas the Boolean data type has only two values, the NoneType has only one value, <span class="literal">None</span>. It’s always written without quotes and with a capital <em class="calibre7">N</em>.</p>
<p class="indent">For example, say you had a variable named <span class="literal">quizAnswer</span>, which holds a user’s answer to a true-false pop quiz question. If the user skips a question and doesn’t answer it, it makes the most sense to assign <span class="literal">quizAnswer</span> to <span class="literal">None</span> as a default value rather than to <span class="literal">True</span> or <span class="literal">False</span>. Otherwise, it might look like the user answered the question when they didn’t. Likewise, function calls that exit by reaching the end of the function and not from a <span class="literal">return</span> statement evaluate to <span class="literal">None</span> because they don’t return anything.</p>
<p class="indent">Line 17 uses the word that is being iterated over as a key in <span class="literal">englishWords</span> and stores <span class="literal">None</span> as a value for that key.</p>
<h4 class="h2" id="calibre_link-614"><strong class="calibre3"><em class="calibre12">Returning the Dictionary Data</em></strong></h4>
<p class="noindent">After the <span class="literal">for</span> loop finishes, the <span class="literal">englishWords</span> dictionary should have tens of thousands of keys in it. At this point, we close the file object because we’re done reading from it, and then return <span class="literal">englishWords</span>:</p>
<p class="programs1">18.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionaryFile.close()<br class="calibre9" />19.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return englishWords</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-932"></span>Then we call <span class="literal">loadDictionary()</span> and store the dictionary value it returns in a variable named <span class="literal">ENGLISH_WORDS</span>:</p>
<p class="programs1">21. ENGLISH_WORDS = loadDictionary()</p>
<p class="indent">We want to call <span class="literal">loadDictionary()</span> before the rest of the code in the <span class="literal">detectEnglish</span> module, but Python must execute the <span class="literal">def</span> statement for <span class="literal">loadDictionary()</span> before we can call the function. This is the reason the assignment for <span class="literal">ENGLISH_WORDS</span> comes after the <span class="literal">loadDictionary()</span> function’s code.</p>
<h3 class="h1" id="calibre_link-615"><strong class="calibre3">Counting the Number of English Words in message</strong></h3>
<p class="noindent">Lines 24 through 27 of the program’s code define the <span class="literal">getEnglishCount()</span> function, which takes a string argument and returns a float value indicating the ratio of recognized English words to total words. We’ll represent the ratio as a value between <span class="literal">0.0</span> and <span class="literal">1.0</span>. A value of <span class="literal">0.0</span> means none of the words in <span class="literal">message</span> are English words, and <span class="literal">1.0</span> means all of the words in <span class="literal">message</span> are English words. Most likely, <span class="literal">getEnglishCount()</span> will return a float value between <span class="literal">0.0</span> and <span class="literal">1.0</span>. The <span class="literal">isEnglish()</span> function uses this return value to determine whether to evaluate as <span class="literal">True</span> or <span class="literal">False</span>.</p>
<p class="programs1">24. def getEnglishCount(message):<br class="calibre9" />25.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message = message.upper()<br class="calibre9" />26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message = removeNonLetters(message)<br class="calibre9" />27.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibleWords = message.split()</p>
<p class="indent">To code this function, first we create a list of individual word strings from the string in <span class="literal">message</span>. Line 25 converts the string to uppercase letters. Then line 26 removes the non-letter characters from the string, such as numbers and punctuation, by calling <span class="literal">removeNonLetters()</span>. (You’ll see how this function works later.) Finally, the <span class="literal">split()</span> method on line 27 splits the string into individual words and stores them in a variable named <span class="literal">possibleWords</span>.</p>
<p class="indent">For example, if the string <span class="literal">'</span><span class="literal">Hello there. How are you?'</span> is passed after calling <span class="literal">getEnglishCount()</span>, the value stored in <span class="literal">possibleWords</span> after lines 25 to 27 execute would be <span class="literal">['HELLO', 'THERE', 'HOW', 'ARE', 'YOU']</span>.</p>
<p class="indent">If the string in <span class="literal">message</span> is made up of integers, such as <span class="literal">'12345'</span>, the call to <span class="literal">removeNonLetters()</span> would return a blank string, which <span class="literal">split()</span> would be called on to return an empty list. In the program, an empty list is the equivalent of zero words being English, which could cause a divide-by-zero error.</p>
<h4 class="h2" id="calibre_link-616"><strong class="calibre3"><em class="calibre12">Divide-by-Zero Errors</em></strong></h4>
<p class="noindent">To return a float value between <span class="literal">0.0</span> and <span class="literal">1.0</span>, we divide the number of words in <span class="literal">possibleWords</span> recognized as English by the total number of words in <span class="literal">possibleWords</span>. Although this is mostly straightforward, we need to make sure <span class="literal">possibleWords</span> is not an empty list. If <span class="literal">possibleWords</span> is empty, it means the total number of words in <span class="literal">possibleWords</span> is <span class="literal">0</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-933"></span>Because in mathematics dividing by zero has no meaning, dividing by zero in Python results in a divide-by-zero error. To see an example of this error, enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">42 / 0</span><br class="calibre9" />Traceback (most recent call last):<br class="calibre9" />&nbsp;&nbsp;File "&lt;pyshell#0&gt;", line 1, in &lt;module&gt;<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;42 / 0<br class="calibre9" />ZeroDivisionError: division by zero</p>
<p class="indent">You can see that <span class="literal">42</span> divided by <span class="literal">0</span> results in a <span class="literal">ZeroDivisionError</span> and a message explaining what went wrong. To avoid a divide-by-zero error, we’ll need to make sure the <span class="literal">possibleWords</span> list is never empty.</p>
<p class="indent">Line 29 checks whether <span class="literal">possibleWords</span> is an empty list, and line 30 returns <span class="literal">0.0</span> if no words are in the list.</p>
<p class="programs1">29.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if possibleWords == []:<br class="calibre9" />30.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0.0 # No words at all, so return 0.0</p>
<p class="indent">This check is necessary to avoid a divide-by-zero error.</p>
<h4 class="h2" id="calibre_link-617"><strong class="calibre3"><em class="calibre12">Counting the English Word Matches</em></strong></h4>
<p class="noindent">To produce the ratio of English words to total words, we’ll divide the number of words in <span class="literal">possibleWords</span> that are recognized as English by the total number of words in <span class="literal">possibleWords</span>. To do this, we need to count the number of recognized English words in <span class="literal">possibleWords</span>. Line 32 sets the variable <span class="literal">matches</span> to <span class="literal">0</span>. Line 33 uses the <span class="literal">for</span> loop to iterate over each word in <span class="literal">possibleWords</span> and check whether the word exists in the <span class="literal">ENGLISH_WORDS</span> dictionary. If the word exists in the dictionary, the value in <span class="literal">matches</span> is incremented on line 35.</p>
<p class="programs1">32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches = 0<br class="calibre9" />33.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for word in possibleWords:<br class="calibre9" />34.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if word in ENGLISH_WORDS:<br class="calibre9" />35.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches += 1</p>
<p class="indent">After the <span class="literal">for</span> loop is complete, the number of English words in the string is stored in the <span class="literal">matches</span> variable. Remember that we’re relying on the dictionary file to be accurate and complete for the <span class="literal">detectEnglish</span> module to work correctly. If a word isn’t in the dictionary text file, it won’t be counted as English, even if it’s a real word. Conversely, if a word is misspelled in the dictionary, words that aren’t English might accidentally be counted as real words.</p>
<p class="indent">Right now, the number of the words in <span class="literal">possibleWords</span> that are recognized as English and the total number of words in <span class="literal">possibleWords</span> are represented by integers. To return a float value between <span class="literal">0.0</span> and <span class="literal">1.0</span> by dividing these two integers, we’ll need to change one or the other into a float.</p>
<h4 class="h2" id="calibre_link-618"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-238" class="calibre1"></span><strong class="calibre3"><em class="calibre12">The float(), int(), and str() Functions and Integer Division</em></strong></h4>
<p class="noindent">Let’s look at how to change an integer into a float because the two values we’ll need to divide to find the ratio are both integers. Python 3 always does regular division regardless of the value type, whereas Python 2 performs integer division when both values in the division operation are integers. Because users might use Python 2 to import <em class="calibre7">detectEnglish.py</em>, we’ll need to pass at least one integer variable to <span class="literal">float()</span> to make sure a float is returned when doing division. Doing so ensures that regular division will be performed no matter which version of Python is used. This is an example of making the code <em class="calibre7">backward compatible</em> with previous versions.</p>
<p class="indent">Although we won’t use them in this program, let’s review some other functions that convert values into other data types. The <span class="literal">int()</span> function returns an integer version of its argument, and the <span class="literal">str()</span> function returns a string. To see how these functions work, enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">float(42)</span><br class="calibre9" />42.0<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">int(42.0)</span><br class="calibre9" />42<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">int(42.7)</span><br class="calibre9" />42<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">int('42')</span><br class="calibre9" />42<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">str(42)</span><br class="calibre9" />'42'<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">str(42.7)</span><br class="calibre9" />'42.7'</p>
<p class="indent">You can see that the <span class="literal">float()</span> function changes the integer <span class="literal">42</span> into a float value. The <span class="literal">int()</span> function can turn the floats <span class="literal">42.0</span> and <span class="literal">42.7</span> into integers by truncating their decimal values, or it can turn a string value <span class="literal">'42'</span> into an integer. The <span class="literal">str()</span> function changes numerical values into string values. These functions are helpful if you need a value’s equivalent to be a different data type.</p>
<h4 class="h2" id="calibre_link-619"><strong class="calibre3"><em class="calibre12">Finding the Ratio of English Words in the Message</em></strong></h4>
<p class="noindent">To find the ratio of English words to total words, we divide the number of <span class="literal">matches</span> we found by the total number of <span class="literal">possibleWords</span>. Line 36 uses the <span class="literal">/</span> operator to divide these two numbers:</p>
<p class="programs1">36.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return float(matches) / len(possibleWords)</p>
<p class="indent">After we pass the integer <span class="literal">matches</span> to the <span class="literal">float()</span> function, it returns a float version of that number, which we divide by the length of the <span class="literal">possibleWords</span> list.</p>
<p class="indent">The only way <span class="literal">return float(matches) / len(possibleWords)</span> would lead to a divide-by-zero error is if <span class="literal">len(possibleWords)</span> evaluated to <span class="literal">0</span>. The only way that <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-118"></span>would be possible is if <span class="literal">possibleWords</span> were an empty list. However, lines 29 and 30 specifically check for this case and return <span class="literal">0.0</span> if the list is empty. If <span class="literal">possibleWords</span> were set to the empty list, the program execution would never get past line 30, so we can be confident that line 36 won’t cause a <span class="literal">ZeroDivisionError</span>.</p>
<h3 class="h1" id="calibre_link-620"><strong class="calibre3">Removing Non-Letter Characters</strong></h3>
<p class="noindent">Certain characters, such as numbers or punctuation marks, will cause our word detection to fail because words won’t look exactly as they’re spelled in our dictionary file. For example, if the last word in <span class="literal">message</span> is <span class="literal">'you.'</span> and we didn’t remove the period at the end of the string, it wouldn’t be counted as an English word because <span class="literal">'you'</span> wouldn’t be spelled with a period in the dictionary file. To avoid such misinterpretation, numbers and punctuation marks need to be removed.</p>
<p class="indent">The previously explained <span class="literal">getEnglishCount()</span> function calls the function <span class="literal">removeNonLetters()</span> on a string to remove any numbers and punctuation characters from it.</p>
<p class="programs1">39. def removeNonLetters(message):<br class="calibre9" />40.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lettersOnly = []<br class="calibre9" />41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for symbol in message:<br class="calibre9" />42.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if symbol in LETTERS_AND_SPACE:<br class="calibre9" />43.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lettersOnly.append(symbol)</p>
<p class="indent">Line 40 creates a blank list called <span class="literal">lettersOnly</span>, and line 41 uses a <span class="literal">for</span> loop to loop over each character in the <span class="literal">message</span> argument. Next, the <span class="literal">for</span> loop checks whether the character exists in the string <span class="literal">LETTERS_AND_SPACE</span>. If the character is a number or punctuation mark, it won’t exist in the <span class="literal">LETTERS_AND_SPACE</span> string and won’t be added to the list. If the character does exist in the string, it’s added to the end of the list using the <span class="literal">append()</span> method, which we’ll look at next.</p>
<h4 class="h2" id="calibre_link-621"><strong class="calibre3"><em class="calibre12">The append() List Method</em></strong></h4>
<p class="noindent">When we add a value to the end of a list, we say we’re <em class="calibre7">appending</em> the value to the list. This is done with lists so frequently in Python that there is an <span class="literal">append()</span> list method that takes a single argument to append to the end of the list. Enter the following into the interactive shell:</p>
<p class="programs1">&gt;&gt;&gt; <span class="codestrong">eggs = []</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs.append('hovercraft')</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs</span><br class="calibre9" />['hovercraft']<br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs.append('eels')</span><br class="calibre9" />&gt;&gt;&gt; <span class="codestrong">eggs</span><br class="calibre9" />['hovercraft', 'eels']</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-119"></span>After creating an empty list named <span class="literal">eggs</span>, we can enter <span class="literal">eggs.append ('hovercraft')</span> to add the string value <span class="literal">'hovercraft'</span> to this list. Then when we enter <span class="literal">eggs</span>, it returns the only value stored in this list, which is <span class="literal">'</span><span class="literal">hovercraft</span><span class="literal">'</span>. If you use <span class="literal">append()</span> again to add <span class="literal">'eels'</span> to the end of the list, <span class="literal">eggs</span> now returns <span class="literal">'hovercraft'</span> followed by <span class="literal">'eels'</span>. Similarly, we can use the <span class="literal">append()</span> list method to add items to the <span class="literal">lettersOnly</span> list we created in our code earlier. This is what <span class="literal">lettersOnly.append(symbol)</span> on line 43 does in the <span class="literal">for</span> loop.</p>
<h4 class="h2" id="calibre_link-622"><strong class="calibre3"><em class="calibre12">Creating a String of Letters</em></strong></h4>
<p class="noindent">After finishing the <span class="literal">for</span> loop, <span class="literal">lettersOnly</span> should be a list of each letter and space character from the original <span class="literal">message</span> string. Because a list of one-character strings isn’t useful for finding English words, line 44 joins the character strings in the <span class="literal">lettersOnly</span> list into one string and returns it:</p>
<p class="programs1">44.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ''.join(lettersOnly)</p>
<p class="indent">To concatenate the list elements in <span class="literal">lettersOnly</span> into one large string, we call the <span class="literal">join()</span> string method on a blank string <span class="literal">''</span>. This joins the strings in <span class="literal">lettersOnly</span> with a blank string between them. This string value is then returned as the <span class="literal">removeNonLetters()</span> function’s return value.</p>
<h3 class="h1" id="calibre_link-623"><strong class="calibre3">Detecting English Words</strong></h3>
<p class="noindent">When a message is decrypted with the wrong key, it will often produce far more non-letter and non-space characters than are found in a typical English message. Also, the words it produces will often be random and not found in a dictionary of English words. The <span class="literal">isEnglish()</span> function can check for both of these issues in a given string.</p>
<p class="programs1">47. def isEnglish(message, wordPercentage=20, letterPercentage=85):<br class="calibre9" />48.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# By default, 20% of the words must exist in the dictionary file, and<br class="calibre9" />49.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 85% of all the characters in the message must be letters or spaces<br class="calibre9" />50.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# (not punctuation or numbers).</p>
<p class="indent">Line 47 sets up the <span class="literal">isEnglish()</span> function to accept a string argument and return a Boolean value of <span class="literal">True</span> when the string is English text and <span class="literal">False</span> when it’s not. This function has three parameters: <span class="literal">message</span>, <span class="literal">wordPercentage=20</span>, and <span class="literal">letterPercentage=85</span>. The first parameter contains the string to be checked, and the second and third parameters set default percentages for words and letters, which the string must contain in order to be confirmed as English. (A <em class="calibre7">percentage</em> is a number between 0 and 100 that shows how much of something is proportional to the total number of those things.) We’ll explore how to use default arguments and calculate percentages in the following sections.</p>
<h4 class="h2" id="calibre_link-624"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-122" class="calibre1"></span><strong class="calibre3"><em class="calibre12">Using Default Arguments</em></strong></h4>
<p class="noindent">Sometimes a function will almost always have the same values passed to it when called. Instead of including these for every function call, you can specify a default argument in the function’s <span class="literal">def</span> statement.</p>
<p class="indent">Line 47’s <span class="literal">def</span> statement has three parameters, with default arguments of 20 and 85 provided for <span class="literal">wordPercentage</span> and <span class="literal">letterPercentage</span>, respectively. The <span class="literal">isEnglish()</span> function can be called with one to three arguments. If no arguments are passed for <span class="literal">wordPercentage</span> or <span class="literal">letterPercentage</span>, then the values assigned to these parameters will be their default arguments.</p>
<p class="indent">The default arguments define what percent of the <span class="literal">message</span> string needs to be made up of real English words for <span class="literal">isEnglish()</span> to determine that <span class="literal">message</span> is an English string and what percent of the <span class="literal">message</span> needs to be made up of letters or spaces instead of numbers or punctuation marks. For example, if <span class="literal">isEnglish()</span> is called with only one argument, the default arguments are used for the <span class="literal">wordPercentage</span> (the integer <span class="literal">20</span>) and <span class="literal">letterPercentage</span> (the integer <span class="literal">85</span>) parameters, which means 20 percent of the string needs to be made up of English words and 85 percent of the string needs to be made up of letters. These percentages work for detecting English in most cases, but you might want to try other argument combinations in specific cases when <span class="literal">isEnglish()</span> needs looser or more restrictive thresholds. In those situations, a program can just pass arguments for <span class="literal">wordPercentage</span> and <span class="literal">letterPercentage</span> instead of using the default arguments. <a href="#calibre_link-69" class="calibre8">Table 11-1</a> shows function calls to <span class="literal">isEnglish()</span> and what they’re equivalent to.</p>
<p class="tabcap"><a id="calibre_link-69" class="calibre8"></a><strong class="calibre5">Table 11-1:</strong> Function Calls with and without Default Arguments</p>
<table class="topbot">
<tbody class="calibre17">
<tr class="table_w">
<td class="table_th"><p class="table"><strong class="calibre5">Function call</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Equivalent to</strong></p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello')</span></p></td>
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', 20, 85)</span></p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', 50)</span></p></td>
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', 50, 85)</span></p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', 50, 60)</span></p></td>
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', 50, 60)</span></p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', letterPercentage=60)</span></p></td>
<td class="calibre18"><p class="table"><span class="literal">isEnglish('Hello', 20, 60)</span></p></td>
</tr></tbody></table>
<p class="indent">For instance, the third example in <a href="#calibre_link-69" class="calibre8">Table 11-1</a> shows that when the function is called with the second and third parameters specified, the program will use those arguments, not the default arguments.</p>
<h4 class="h2" id="calibre_link-625"><strong class="calibre3"><em class="calibre12">Calculating Percentages</em></strong></h4>
<p class="noindent">Once we know the percentages our program will use, we’ll need to calculate the percentages for the <span class="literal">message</span> string. For example, the string value <span class="literal">'Hello cat MOOSE fsdkl ewpin'</span> has five “words,” but only three are English. To calculate the percentage of English words in this string, you divide the number of English words by the total number of words and multiply the result by 100. The percentage of English words in <span class="literal">'Hello cat MOOSE fsdkl ewpin'</span> is <span class="literal">3 / 5 * 100</span>, which is 60 percent. <a href="#calibre_link-70" class="calibre8">Table 11-2</a> shows a few examples of calculated percentages.</p>
<p class="tabcap"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-934"></span><a id="calibre_link-70" class="calibre8"></a><strong class="calibre5">Table 11-2:</strong> Calculating Percentages of English Words</p>
<table class="topbot">
<tbody class="calibre17">
<tr class="table_w">
<td class="table_th"><p class="table"><strong class="calibre5">Number of <br class="calibre9" />English words</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Total number <br class="calibre9" />of words</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Ratio of <br class="calibre9" />English words</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">× 100</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">=</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Percentage</strong></p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table">3</p></td>
<td class="calibre18"><p class="table">5</p></td>
<td class="calibre18"><p class="table">0.6</p></td>
<td class="calibre18"><p class="table">× 100</p></td>
<td class="calibre18"><p class="table">=</p></td>
<td class="calibre18"><p class="table">&nbsp;&nbsp;60</p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table">6</p></td>
<td class="calibre18"><p class="table">10</p></td>
<td class="calibre18"><p class="table">0.6</p></td>
<td class="calibre18"><p class="table">× 100</p></td>
<td class="calibre18"><p class="table">=</p></td>
<td class="calibre18"><p class="table">&nbsp;&nbsp;60</p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table">300</p></td>
<td class="calibre18"><p class="table">500</p></td>
<td class="calibre18"><p class="table">0.6</p></td>
<td class="calibre18"><p class="table">× 100</p></td>
<td class="calibre18"><p class="table">=</p></td>
<td class="calibre18"><p class="table">&nbsp;&nbsp;60</p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table">32</p></td>
<td class="calibre18"><p class="table">87</p></td>
<td class="calibre18"><p class="table">0.3678</p></td>
<td class="calibre18"><p class="table">× 100</p></td>
<td class="calibre18"><p class="table">=</p></td>
<td class="calibre18"><p class="table">&nbsp;&nbsp;36.78</p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table">87</p></td>
<td class="calibre18"><p class="table">87</p></td>
<td class="calibre18"><p class="table">1.0</p></td>
<td class="calibre18"><p class="table">× 100</p></td>
<td class="calibre18"><p class="table">=</p></td>
<td class="calibre18"><p class="table">100</p></td>
</tr>
<tr class="table_w">
<td class="calibre18"><p class="table">0</p></td>
<td class="calibre18"><p class="table">10</p></td>
<td class="calibre18"><p class="table">0</p></td>
<td class="calibre18"><p class="table">× 100</p></td>
<td class="calibre18"><p class="table">=</p></td>
<td class="calibre18"><p class="table">&nbsp;&nbsp;&nbsp;&nbsp;0</p></td>
</tr></tbody></table>
<p class="indent">The percentage will always be between 0 percent (meaning no words are English) and 100 percent (meaning all of the words are English). Our <span class="literal">isEnglish()</span> function will consider a string English if at least 20 percent of the words exist in the dictionary file and 85 percent of the characters in the string are letters or spaces. This means the message will still be detected as English even if the dictionary file isn’t perfect or if some words in the message are something other than what we define as English words.</p>
<p class="indent">Line 51 calculates the percentage of recognized English words in <span class="literal">message</span> by passing <span class="literal">message</span> to <span class="literal">getEnglishCount()</span>, which does the division and returns a float between <span class="literal">0.0</span> and <span class="literal">1.0</span>:</p>
<p class="programs1">51.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wordsMatch = getEnglishCount(message) * 100 &gt;= wordPercentage</p>
<p class="indent">To get a percentage from this float, multiply it by <span class="literal">100</span>. If the resulting number is greater than or equal to the <span class="literal">wordPercentage</span> parameter, <span class="literal">True</span> is stored in <span class="literal">wordsMatch</span>. (Recall that the <span class="literal">&gt;=</span> comparison operator evaluates expressions to a Boolean value.) Otherwise, <span class="literal">False</span> is stored in <span class="literal">wordsMatch</span>.</p>
<p class="indent">Lines 52 to 54 calculate the percentage of letter characters in the <span class="literal">message</span> string by dividing the number of letter characters by the total number of characters in <span class="literal">message</span>.</p>
<p class="programs1">52.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numLetters = len(removeNonLetters(message))<br class="calibre9" />53.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messageLettersPercentage = float(numLetters) / len(message) * 100<br class="calibre9" />54.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lettersMatch = messageLettersPercentage &gt;= letterPercentage</p>
<p class="indent">Earlier in the code, we wrote the <span class="literal">removeNonLetters()</span> function to find all the letter and space characters in a string, so we can just reuse it. Line 52 calls <span class="literal">removeNonLetters(message)</span> to get a string of just the letter and space characters in <span class="literal">message</span>. Passing this string to <span class="literal">len()</span> should return the total number of letter and space characters in <span class="literal">message</span>, which we store as an integer in the <span class="literal">numLetters</span> variable.</p>
<p class="indent">Line 53 determines the percentage of letters by getting a float version of the integer in <span class="literal">numLetters</span> and dividing it by <span class="literal">len(message)</span>. The return value of <span class="literal">len(message)</span> will be the total number of characters in <span class="literal">message</span>. As discussed <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-217"></span>previously, the call to <span class="literal">float()</span> is made to make sure that line 53 performs regular division instead of integer division just in case the programmer who imports the <span class="literal">detectEnglish</span> module is running Python 2.</p>
<p class="indent">Line 54 checks whether the percentage in <span class="literal">messageLettersPercentage</span> is greater than or equal to the <span class="literal">letterPercentage</span> parameter. This expression evaluates to a Boolean value that is stored in <span class="literal">lettersMatch</span>.</p>
<p class="indent">We want <span class="literal">isEnglish()</span> to return <span class="literal">True</span> only if both the <span class="literal">wordsMatch</span> and <span class="literal">lettersMatch</span> variables contain <span class="literal">True</span>. Line 55 combines these values into an expression using the <span class="literal">and</span> operator:</p>
<p class="programs1">55.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return wordsMatch and lettersMatch</p>
<p class="indent">If both the <span class="literal">wordsMatch</span> and <span class="literal">lettersMatch</span> variables are <span class="literal">True</span>, <span class="literal">isEnglish()</span> will declare the <span class="literal">message</span> is English and return <span class="literal">True</span>. Otherwise, <span class="literal">isEnglish()</span> will return <span class="literal">False</span>.</p>
<h3 class="h1" id="calibre_link-626"><strong class="calibre3">Summary</strong></h3>
<p class="noindent">The transposition file cipher is an improvement over the Caesar cipher because it can have hundreds or thousands of possible keys for messages instead of just 26 different keys. Even though a computer has no problem decrypting a message with thousands of potential keys, we need to write code that can determine whether a decrypted string is valid English and therefore the original message.</p>
<p class="indent">In this chapter, we created an English-detecting program using a dictionary text file to create a dictionary data type. The dictionary data type is useful because it can contain multiple values just as a list does. However, unlike with a list, you can index values in a dictionary using string values as keys instead of only integers. Most of the tasks you can do with a list you can also do with a dictionary, such as passing it to <span class="literal">len()</span> or using the <span class="literal">in</span> and <span class="literal">not in</span> operators on it. However, the <span class="literal">in</span> operator executes on a very large dictionary value much faster than on a very large list. This proved particularly useful for us because our dictionary data contained thousands of values that we needed to sift through quickly.</p>
<p class="indent">This chapter also introduced the <span class="literal">split()</span> method, which can split strings into a list of strings, and the NoneType data type, which has only one value: <span class="literal">None</span>. This value is useful for representing a lack of a value.</p>
<p class="indent">You learned how to avoid divide-by-zero errors when using the <span class="literal">/</span> operator; convert values into other data types using the <span class="literal">int()</span>, <span class="literal">float()</span>, and <span class="literal">str()</span> functions; and use the <span class="literal">append()</span> list method to add a value to the end of a list.</p>
<p class="indent">When you define functions, you can give some of the parameters default arguments. If no argument is passed for these parameters when the function is called, the program uses the default argument value, which can be a useful shortcut in your programs. In <a href="#calibre_link-37" class="calibre8">Chapter 12</a>, you’ll learn to hack the transposition cipher using the English detection code!</p>
<div class="sidebar">
<p class="sidebart" id="calibre_link-627"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-935"></span><strong class="calibre5">PRACTICE QUESTIONS</strong></p>
<p class="noindent">Answers to the practice questions can be found on the book’s website at <em class="calibre7"><a href="https://www.nostarch.com/crackingcodes/" class="calibre8">https://www.nostarch.com/crackingcodes/</a></em>.</p>
<ol class="calibre13">
<li value="1" class="calibre11"><p class="noindent">What does the following code print?</p>
<p class="programs1">spam = {'name': 'Al'}<br class="calibre9" />print(spam['name'])</p>
</li>
<li value="2" class="calibre11"><p class="noindent">What does this code print?</p>
<p class="programs1">spam = {'eggs': 'bacon'}<br class="calibre9" />print('bacon' in spam)</p>
</li>
<li value="3" class="calibre11"><p class="noindent">What <span class="literal">for</span> loop code would print the values in the following <span class="literal">spam</span> dictionary?</p>
<p class="programs1">spam = {'name': 'Zophie', 'species':'cat', 'age':8}</p>
</li>
<li value="4" class="calibre11"><p class="noindent">What does the following line print?</p>
<p class="programs1">print('Hello, world!'.split())</p>
</li>
<li value="5" class="calibre11"><p class="noindent">What will the following code print?</p>
<p class="programs1">def spam(eggs=42):<br class="calibre9" />&nbsp;&nbsp;&nbsp;&nbsp;print(eggs)<br class="calibre9" />spam()<br class="calibre9" />spam('Hello')</p>
</li>
<li value="6" class="calibre11"><p class="noindent">What percentage of words in this sentence are valid English words?</p>
<p class="programs1">"Whether it's flobulllar in the mind to quarfalog the slings and<br class="calibre9" />arrows of outrageous guuuuuuuuur."</p>
</li>
</ol>
</div>
</div>



<a href="chapter10.html">Prev: Chapter 10 - Encrypting and Decrypting Files</a> | <a href="chapter12.html">Next: Chapter 12 - Hacking the Transposition Cipher</a>
</body></html>