<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:24.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	color:#1F497D;
	font-weight:bold;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:#1F497D;
	font-weight:bold;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:44.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:55.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:66.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:77.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:88.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:48.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-link:"No Spacing Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:24.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman","serif";
	color:#1F497D;
	font-weight:bold;}
span.Definition
	{mso-style-name:Definition;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
span.URL
	{mso-style-name:URL;
	text-decoration:underline;}
span.Literal
	{mso-style-name:Literal;
	font-family:"Lucida Sans Typewriter";}
p.TopicsCoveredbox, li.TopicsCoveredbox, div.TopicsCoveredbox
	{mso-style-name:"Topics Covered box";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpFirst, li.TopicsCoveredboxCxSpFirst, div.TopicsCoveredboxCxSpFirst
	{mso-style-name:"Topics Covered boxCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpMiddle, li.TopicsCoveredboxCxSpMiddle, div.TopicsCoveredboxCxSpMiddle
	{mso-style-name:"Topics Covered boxCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpLast, li.TopicsCoveredboxCxSpLast, div.TopicsCoveredboxCxSpLast
	{mso-style-name:"Topics Covered boxCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.CodeExample, li.CodeExample, div.CodeExample
	{mso-style-name:"Code Example";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.CodeExampleCxSpFirst, li.CodeExampleCxSpFirst, div.CodeExampleCxSpFirst
	{mso-style-name:"Code ExampleCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.CodeExampleCxSpMiddle, li.CodeExampleCxSpMiddle, div.CodeExampleCxSpMiddle
	{mso-style-name:"Code ExampleCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.CodeExampleCxSpLast, li.CodeExampleCxSpLast, div.CodeExampleCxSpLast
	{mso-style-name:"Code ExampleCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCode, li.SourceCode, div.SourceCode
	{mso-style-name:"Source Code";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeCxSpFirst, li.SourceCodeCxSpFirst, div.SourceCodeCxSpFirst
	{mso-style-name:"Source CodeCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeCxSpMiddle, li.SourceCodeCxSpMiddle, div.SourceCodeCxSpMiddle
	{mso-style-name:"Source CodeCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeCxSpLast, li.SourceCodeCxSpLast, div.SourceCodeCxSpLast
	{mso-style-name:"Source CodeCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
span.SourceLineNumber
	{mso-style-name:"Source Line Number";
	color:#7F7F7F;}
p.ImportantNote, li.ImportantNote, div.ImportantNote
	{mso-style-name:"Important Note";
	margin-top:0in;
	margin-right:.5in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterNumber, li.ChapterNumber, div.ChapterNumber
	{mso-style-name:"Chapter Number";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:26.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";}
p.Body, li.Body, div.Body
	{mso-style-name:Body;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
span.Keycap
	{mso-style-name:Keycap;
	font-variant:small-caps;
	color:blue;}
p.Non-TOCHeading3, li.Non-TOCHeading3, div.Non-TOCHeading3
	{mso-style-name:"Non-TOC Heading 3";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:#1F497D;
	font-weight:bold;
	font-style:italic;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
p.TableHeading, li.TableHeading, div.TableHeading
	{mso-style-name:"Table Heading";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
p.TableListing, li.TableListing, div.TableListing
	{mso-style-name:"Table Listing";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.SampleRun, li.SampleRun, div.SampleRun
	{mso-style-name:"Sample Run";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpFirst, li.SampleRunCxSpFirst, div.SampleRunCxSpFirst
	{mso-style-name:"Sample RunCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpMiddle, li.SampleRunCxSpMiddle, div.SampleRunCxSpMiddle
	{mso-style-name:"Sample RunCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpLast, li.SampleRunCxSpLast, div.SampleRunCxSpLast
	{mso-style-name:"Sample RunCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
span.SampleRunResponse
	{mso-style-name:"Sample Run Response";
	color:#1F497D;
	font-weight:bold;}
span.SourceCodeComment
	{mso-style-name:"Source Code Comment";
	color:#7F7F7F;}
span.FigureImageBorder
	{mso-style-name:"Figure Image Border";
	border:solid windowtext 1.0pt;
	padding:0in;}
p.SourceCodeFilename, li.SourceCodeFilename, div.SourceCodeFilename
	{mso-style-name:"Source Code Filename";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFilenameCxSpFirst, li.SourceCodeFilenameCxSpFirst, div.SourceCodeFilenameCxSpFirst
	{mso-style-name:"Source Code FilenameCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFilenameCxSpMiddle, li.SourceCodeFilenameCxSpMiddle, div.SourceCodeFilenameCxSpMiddle
	{mso-style-name:"Source Code FilenameCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFilenameCxSpLast, li.SourceCodeFilenameCxSpLast, div.SourceCodeFilenameCxSpLast
	{mso-style-name:"Source Code FilenameCxSpLast";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Times New Roman","serif";
	color:#1F497D;
	font-weight:bold;
	font-style:italic;}
span.NoSpacingChar
	{mso-style-name:"No Spacing Char";
	mso-style-link:"No Spacing";
	font-family:"Times New Roman","serif";}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Times New Roman","serif";}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"Times New Roman","serif";}
span.StrongBoxed
	{mso-style-name:"Strong & Boxed";
	border:solid windowtext 1.0pt;
	padding:0in;
	font-weight:bold;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.BodyFirst, li.BodyFirst, div.BodyFirst
	{mso-style-name:"Body First";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.0in 10.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>


<div style='float: right; height: 310px; font-family: sans-serif;'>Ad: Programming books by Al Sweigart<br />
    <a href='http://www.nostarch.com/automatestuff' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src='/images/cover_automate_thumb.webp' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/gp/product/1503212300?ie=UTF8&tag=playwithpyth-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1503212300' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src='/images/cover_inventwithpython_thumb.webp' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&tag=playwithpyth-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1469901730' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src='/images/cover_makinggames_thumb.webp' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/gp/product/1482614375/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1482614375&linkCode=as2&tag=playwithpyth-20' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src='/images/cover_hackingciphers_thumb.webp' style="height: 200px; border: solid black 1px;" /></a>
</div>


<div class=WordSection1>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=101 rowspan=2 valign=top style='width:60.85pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=ChapterNumber><img width=84 height=96 id="Picture 158"
  src="chapter17_files/image001.webp"></p>
  </td>
  <td width=637 valign=top style='width:381.95pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=ChapterNumber>Chapter 17</p>
  </td>
 </tr>
 <tr>
  <td width=637 valign=top style='width:381.95pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <h1 style='line-height:normal'><a name="_Toc405145166"><span
  style='font-variant:normal !important;text-transform:uppercase'>Graphics and
  Animation</span></a></h1>
  </td>
 </tr>
</table>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#DBE5F1'>

<p class=TopicsCoveredboxCxSpFirst style='background:#DBE5F1;border:none;
padding:0in'>Topics Covered In This Chapter:</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Installing Pygame</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colors and Fonts in Pygame</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Aliased and Anti-Aliased Graphics</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Attributes</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal><span style='font-size:9.0pt'>pygame.font.Font</span></span>,
<span class=Literal><span style='font-size:9.0pt'>pygame.Surface</span></span>,
<span class=Literal><span style='font-size:9.0pt'>pygame.Rect</span></span>,
and <span class=Literal><span style='font-size:9.0pt'>pygame.PixelArray</span></span>
Data Types</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Constructor Functions</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Pygame’s Drawing Functions</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal><span style='font-size:9.0pt'>blit()</span></span>
Method for Surface Objects</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Events</p>

<p class=TopicsCoveredboxCxSpLast style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Animation</p>

</div>

<p class=Body>So far, all of our games have only used text. Text is displayed
on the screen as output, and the player types in text from the keyboard as
input. Just using text makes programming easy to learn. But in this chapter,
we’ll make some more exciting games with advanced graphics and sound using the
Pygame module.</p>

<p class=Body>Chapters 17, 18, and 19 teach you how to use Pygame to make
games with graphics, animation, mouse input, and sound. In these chapters we’ll
write source code for simple programs that are not games but demonstrate the
Pygame concepts we’ve learned. The game in Chapter 20 will use all these
concepts together to create a game.</p>

<h2><a name="_Toc405145167">Installing Pygame</a></h2>

<p class=Body>Pygame doesn’t come with Python. Like Python, Pygame is free to
download. In a web browser, go to the URL <span class=URL><u>http://invpy.com/downloadpygame</u></span>
and download the Pygame installer file for your operating system and version of
Python.</p>

<p class=Body>Open the installer file after downloading it, and follow the
instructions until Pygame has finished installing. To check that Pygame
installed correctly, type the following into the interactive shell:</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=CodeExample style='border:none;padding:0in'>&gt;&gt;&gt; import pygame</p>

</div>

<p class=Body>If nothing appears after you hit the <span class=Keycap><span
style='font-variant:normal !important;text-transform:uppercase'>enter</span></span>
key, then you know Pygame was successfully installed. If the error <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>ImportError: No
module named pygame</span></span> appears, try to install Pygame again (and
make sure you typed <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>import pygame</span></span> correctly).</p>

<p class=MsoNormal align=center style='text-align:center'><img width=432
height=266 id="Picture 32" src="chapter17_files/image002.webp"></p>

<p class=MsoCaption>Figure 17-1: The pygame.org website.</p>

<p class=Body>The Pygame website at <span class=URL><u>http://pygame.org</u></span>
has information on how to use Pygame, as well as several other game programs
made with Pygame. Figure 17-1 shows the Pygame website.</p>

<h2><a name="_Toc405145168">Hello World in Pygame</a></h2>

<p class=Body>The first Pygame program is a new “Hello World!” program like you
created at the beginning of the book. This time, you’ll use Pygame to make
“Hello world!” appear in a graphical window instead of as text.</p>

<p class=Body>Pygame doesn’t work well with the interactive shell. Because of
this, you can only write Pygame programs and cannot send instructions to Pygame
one at a time through the interactive shell.</p>

<p class=Body>Pygame programs also do not use the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>input()</span></span> function. There
is no text input and output. Instead, the program displays output in a window
by drawing graphics and text to the window. Pygame program’s input comes from
the keyboard and the mouse through things called events. Events are explained
in the next chapter.</p>

<h2><a name="_Toc405145169">Source Code of Hello World</a></h2>

<p class=Body>Type in the following code into the file editor, and save it as <em>pygameHelloWorld.py</em>.
If you get errors after typing this code in, compare the code you typed to the
book’s code with the online diff tool at <span class=URL><u>http://invpy.com/diff/pygameHelloWorld</u></span>.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeFilename>pygameHelloWorld.py</p>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber> 1.</span> import
pygame, sys</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 2.</span> from
pygame.locals import *</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 3. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 4.</span> <span
class=SourceCodeComment># set up pygame</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 5.</span>
pygame.init()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 6. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 7.</span> <span
class=SourceCodeComment># set up the window</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 8.</span>
windowSurface = pygame.display.set_mode((500, 400), 0, 32)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 9.</span>
pygame.display.set_caption('Hello world!')</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>10. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>11.</span> <span
class=SourceCodeComment># set up the colors</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>12.</span> BLACK =
(0, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>13.</span> WHITE =
(255, 255, 255)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>14.</span> RED =
(255, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>15.</span> GREEN =
(0, 255, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>16.</span> BLUE =
(0, 0, 255)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>17. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>18.</span> <span
class=SourceCodeComment># set up fonts</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>19.</span> basicFont
= pygame.font.SysFont(None, 48)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>20. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>21.</span> <span
class=SourceCodeComment># set up the text</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>22.</span> text =
basicFont.render('Hello world!', True, WHITE, BLUE)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>23.</span> textRect
= text.get_rect()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>24.</span>
textRect.centerx = windowSurface.get_rect().centerx</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>25.</span> textRect.centery
= windowSurface.get_rect().centery</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>26. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>27.</span> <span
class=SourceCodeComment># draw the white background onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>28.</span>
windowSurface.fill(WHITE)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>29. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>30.</span> <span
class=SourceCodeComment># draw a green polygon onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>31.</span>
pygame.draw.polygon(windowSurface, GREEN, ((146, 0), (291, 106), (236, 277),
(56, 277), (0, 106)))</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>32. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>33.</span> <span
class=SourceCodeComment># draw some blue lines onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>34.</span>
pygame.draw.line(windowSurface, BLUE, (60, 60), (120, 60), 4)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>35.</span>
pygame.draw.line(windowSurface, BLUE, (120, 60), (60, 120))</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>36.</span>
pygame.draw.line(windowSurface, BLUE, (60, 120), (120, 120), 4)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>37. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>38.</span> <span
class=SourceCodeComment># draw a blue circle onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>39.</span>
pygame.draw.circle(windowSurface, BLUE, (300, 50), 20, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>40. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>41.</span> <span
class=SourceCodeComment># draw a red ellipse onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>42.</span>
pygame.draw.ellipse(windowSurface, RED, (300, 250, 40, 80), 1)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>43. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>44.</span> <span
class=SourceCodeComment># draw the text's background rectangle onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>45.</span>
pygame.draw.rect(windowSurface, RED, (textRect.left - 20, textRect.top - 20,
textRect.width + 40, textRect.height + 40))</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>46. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>47.</span> <span
class=SourceCodeComment># get a pixel array of the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>48.</span> pixArray
= pygame.PixelArray(windowSurface)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>49.</span>
pixArray[480][380] = BLACK</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>50.</span> del
pixArray</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>51. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>52.</span> <span
class=SourceCodeComment># draw the text onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>53.</span>
windowSurface.blit(text, textRect)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>54. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>55.</span> <span
class=SourceCodeComment># draw the window onto the screen</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>56.</span>
pygame.display.update()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>57. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>58.</span> <span
class=SourceCodeComment># run the game loop</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>59.</span> while
True:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>60.</span>     for
event in pygame.event.get():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>61.</span>        
if event.type == QUIT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>62.</span>            
pygame.quit()</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>63.</span>            
sys.exit()</p>

</div>

<h2><a name="_Toc405145170">Running the Hello World Program</a></h2>

<p class=Body>When you run this program, you should see a new window appear
which looks like Figure 17-2.</p>

<p class=Body>What is nice about using a window instead of a console is that
the text can appear anywhere in the window, not just after the previous text
you have printed. The text can be any color and size. The window is like a
blank painting canvas, and you can draw whatever you like on it.</p>

<p class=Non-TOCHeading3>Importing the Pygame Module</p>

<p class=Body>Let’s go over each of these lines of code and find out what they
do.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber> 1.</span> import
pygame, sys</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 2.</span> from
pygame.locals import *</p>

</div>

<p class=Body>&nbsp;</p>

<p class=MsoNormal align=center style='text-align:center'><img width=283
height=243 id="Picture 34" src="chapter17_files/image003.webp"></p>

<p class=MsoCaption>Figure 17-2: The “Hello World” program.</p>

<p class=Body>First you need to import the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame</span></span> module so you can
call Pygame’s functions. You can import several modules on the same line by
delimiting the module names with commas. Line 1 imports both the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame</span></span>
and <span class=Literal><span style='font-size:9.0pt;line-height:115%'>sys</span></span>
modules.</p>

<p class=Body>The second line imports the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.locals</span></span> module.
This module contains many constant variables that you’ll use with Pygame such
as <span class=Literal><span style='font-size:9.0pt;line-height:115%'>QUIT</span></span>
or <span class=Literal><span style='font-size:9.0pt;line-height:115%'>K_ESCAPE</span></span>
(explained later). However, using the form <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>from moduleName import *</span></span>
you can import the <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.locals</span></span> module but not have to type <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.locals</span></span>
in front of the module’s constants.</p>

<p class=Body>If you have <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>from sys import *</span></span> instead of <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>import sys</span></span>
in your program, you could call <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>exit()</span></span> instead of <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>sys.exit()</span></span> in your code.
But most of the time it is better to use the full function name so you know
which module the function is in.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.init()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber> 4.</span> <span
class=SourceCodeComment># set up pygame</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 5.</span>
pygame.init()</p>

</div>

<p class=Body>All Pygame programs must call the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.init()</span></span> after
importing the <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame</span></span> module but before calling any other Pygame
functions. This perform’s Pygame’s necessary initialization steps.</p>

<h2><a name="_Toc405145171">Tuples</a></h2>

<p class=Body>Tuple values are similar to lists, except they use parentheses
instead of square brackets. Also, like strings, tuples cannot be modified. For
example, try entering the following into the interactive shell:</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=CodeExampleCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt; spam
= ('Life', 'Universe', 'Everything', 42)</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam[0]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>'Life'</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam[3]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>42</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam[1:3]</p>

<p class=CodeExampleCxSpLast style='border:none;padding:0in'>('Universe',
'Everything')</p>

</div>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.display.set_mode()</span></span> and <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display.set_caption()</span></span>
Functions</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber> 7.</span> <span
class=SourceCodeComment># set up the window</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 8.</span>
windowSurface = pygame.display.set_mode((500, 400), 0, 32)</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 9.</span>
pygame.display.set_caption('Hello world!')</p>

</div>

<p class=Body>Line 8 creates a GUI window by calling the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>set_mode()</span></span> method in the
<span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display</span></span>
module. (The <span class=Literal><span style='font-size:9.0pt;line-height:115%'>display</span></span>
module is a module inside the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame</span></span> module. Even the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame</span></span> module has its
own modules!)</p>

<p class=Body>A pixel is the tiniest dot on your computer screen. A single
pixel on your screen can light up into any color. All the pixels on your screen
work together to display all the pictures you see. To create a window 500
pixels wide and 400 pixels high, use the tuple <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>(500, 400)</span></span> for the first
parameter to <span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display.set_mode()</span></span>.</p>

<p class=Body>There are three parameters to the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>set_mode()</span></span> method. The
first is a tuple of two integers for the width and height of the window, in
pixels. The second and third options are advanced options that are beyond the
scope of this book. Just pass <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>0</span></span> and <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>32</span></span> for them,
respectively.</p>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>set_mode()</span></span> function returns a <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.Surface</span></span> object
(which we will call <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>Surface</span></span> objects for short). <span
class=Definition>Objects</span> is just another name for a value of a data type
that has methods. For example, strings are objects in Python because they have
data (the string itself) and methods (such as <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>lower()</span></span> and <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>split()</span></span>).
The <span class=Literal><span style='font-size:9.0pt;line-height:115%'>Surface</span></span>
object represents the window.</p>

<p class=Body>Variables store references to objects just like they store
reference for lists and dictionaries. The References section in Chapter 10
explains references.</p>

<h2><a name="_Toc405145172">RGB Colors</a></h2>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>11.</span> <span
class=SourceCodeComment># set up the colors</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>12.</span> BLACK =
(0, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>13.</span> WHITE =
(255, 255, 255)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>14.</span> RED =
(255, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>15.</span> GREEN = (0,
255, 0)</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>16.</span> BLUE = (0,
0, 255)</p>

</div>

<p class=TableListing>Table 17-1: Colors and their RGB values.</p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading style='page-break-after:avoid'>Color</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading style='page-break-after:avoid'>RGB Values</p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Black</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(  0,   0,   0)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Blue</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(  0,   0, 255)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Gray</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(128, 128, 128)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Green</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(  0, 128,   0)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Lime</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(  0, 255,   0)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Purple</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(128,   0, 128)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Red</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(255,   0,   0)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>Teal</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(  0, 128, 128)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'>White</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>(255, 255, 255)</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=159 valign=top style='width:95.4pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing>Yellow</p>
  </td>
  <td width=210 valign=top style='width:1.75in;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableListing><span class=Literal><span style='font-size:9.0pt'>(255,
  255,   0)</span></span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=Body>There are three primary colors of light: red, green and blue. By
combining different amounts of these three colors (which is what your computer
screen does), you can form any other color. In Pygame, tuples of three integers
are the data structures that represent a color. These are called <span
class=Definition>RGB Color</span> values.</p>

<p class=Body>The first value in the tuple is how much red is in the color. A
value of <span class=Literal><span style='font-size:9.0pt;line-height:115%'>0</span></span>
means there’s no red in this color, and a value of <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>255</span></span> means there’s a
maximum amount of red in the color. The second value is for green and the third
value is for blue. These three integers form an RGB tuple.</p>

<p class=Body>For example, the tuple <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>(0, 0, 0)</span></span> has no amount
of red, green, or blue. The resulting color is completely black. The tuple <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>(255, 255, 255)</span></span>
has a maximum amount of red, green, and blue, resulting in white.</p>

<p class=Body>The tuple <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>(255, 0, 0)</span></span> represents the maximum amount of
red but no amount of green and blue, so the resulting color is red. Similarly, <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>(0, 255, 0)</span></span>
is green and <span class=Literal><span style='font-size:9.0pt;line-height:115%'>(0,
0, 255)</span></span> is blue.</p>

<p class=Body>You can mix the amount of red, green, and blue to get any shade
of any color. Table 17-1 has some common colors and their RGB values. The web
page <span class=URL><u>http://invpy.com/colors</u></span> also lists several
more tuple values for different colors.</p>

<h2><a name="_Toc405145173">Fonts, and the </a><span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.font.SysFont()</span></span>
Function</h2>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>18.</span> <span
class=SourceCodeComment># set up fonts</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>19.</span> basicFont =
pygame.font.SysFont(None, 48)</p>

</div>

<p class=MsoNormal align=center style='text-align:center'><img width=360
height=213 id="Picture 35" src="chapter17_files/image004.webp"></p>

<p class=MsoCaption>Figure 17-3: Examples of different fonts.</p>

<p class=Body>A font is a complete set of letters, numbers, symbols, and
characters drawn in a single style. Figure 17-3 shows the same sentence printed
in different fonts.</p>

<p class=Body>In our earlier games, we only told Python to print text. The
color, size, and font that was used to display this text was completely
determined by your operating system. The Python program couldn’t change the
font. However, Pygame can draw text in any font on your computer.</p>

<p class=Body>Line 19 creates a <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>pygame.font.Font</span></span> object (called Font
objects for short) by calling the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>pygame.font.SysFont()</span></span> function. The first
parameter is the name of the font, but we will pass the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>None</span></span> value to use the
default system font. The second parameter is the size of the font (which is
measured in units called <em>points</em>).</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>render()</span></span> Method for <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>Font</span></span> Objects</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>21.</span> <span
class=SourceCodeComment># set up the text</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>22.</span> text =
basicFont.render('Hello world!', True, WHITE, BLUE)</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>23.</span> textRect =
text.get_rect()</p>

</div>

<p class=MsoNormal align=center style='text-align:center'><img width=242
height=223 id="Picture 39" src="chapter17_files/image005.webp"></p>

<p class=MsoCaption>Figure 17-4: An enlarged view of an aliased line and an
anti-aliased line.</p>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>Font</span></span> object that you’ve stored in the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>basicFont</span></span> variable has a
method called <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>render()</span></span>. This method will return a <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>Surface</span></span> object with the
text drawn on it. The first parameter to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>render()</span></span> is the string
of the text to draw. The second parameter is a Boolean for whether or not you
want anti-aliasing.</p>

<p class=Body>On line 22, pass <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>True</span></span> to use anti-aliasing. Anti-aliasing blurs
your text slightly to make it look smoother. Figure 17-4 shows what a line
(with enlarged pixels) looks like with and without anti-aliasing.</p>

<h2><a name="_Toc405145174">Attributes</a></h2>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>24.</span>
textRect.centerx = windowSurface.get_rect().centerx</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>25.</span>
textRect.centery = windowSurface.get_rect().centery</p>

</div>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.Rect</span></span> data type (called Rect for short) represent
rectangular areas of a certain size and location. To create a new Rect object
call the function <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.Rect()</span></span>. The parameters are integers for the XY
coordinates of the top left corner, followed by the width and height, all in
pixels.</p>

<p class=MsoNormal>The function name with the parameters looks like this: <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.Rect(left,
top, width, height)</span></span></p>

<p class=Body>Just like methods are functions that are associated with an
object, <span class=Definition>attributes</span> are variables that are
associated with an object. The Rect data type has many attributes that describe
the rectangle they represent. Table 17-2 is a list of attributes of a Rect
object named <span class=Literal><span style='font-size:9.0pt;line-height:115%'>myRect</span></span>.</p>

<p class=Body>The great thing about Rect objects is that if you modify any of
these attributes, all the other attributes will automatically modify themselves
also. For example, if you create a Rect object that is 20 pixels wide and 20
pixels high, and has the top left corner at the coordinates (30, 40), then the
X-coordinate of the right side will automatically be set to <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>50</span></span>
(because 20 + 30 = 50).</p>

<p class=Body>However, if you change the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>left</span></span> attribute with the
line <span class=Literal><span style='font-size:9.0pt;line-height:115%'>myRect.left
= 100</span></span>, then Pygame will automatically change the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>right</span></span>
attribute to 120 (because 20 + 100 = 120). Every other attribute for that Rect
object is also updated.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>get_rect()</span></span> Methods for <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.font.Font</span></span> and <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.Surface</span></span>
Objects</p>

<p class=Body>Notice that both the Font object (stored in the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>text</span></span>
variable on line 23) and the Surface object (stored in <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>windowSurface</span></span> variable
on line 24) both have a method called <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>get_rect()</span></span>. Technically,
these are two different methods. But the programmers of Pygame gave them the
same name because they both do the same thing and return Rect objects that
represent the size and position of the Font or Surface object.</p>

<p class=Body>The module you import is <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame</span></span>, and inside the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame</span></span>
module are the <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>font</span></span> and <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>surface</span></span> modules. Inside those modules are the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>Font</span></span>
and <span class=Literal><span style='font-size:9.0pt;line-height:115%'>Surface</span></span>
data types. The Pygame programmers made the modules begin with a lowercase
letter, and the data types begin with an uppercase letter. This makes it easier
to distinguish the data types and the modules.</p>

<h2><a name="_Toc405145175">Constructor Functions</a></h2>

<p class=Body>Create a <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.Rect</span></span> object by calling a function named <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.Rect()</span></span>.
The <span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.Rect()</span></span>
function has the same name as the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>pygame.Rect</span></span> data type. Functions that
have the same name as their data type and create objects or values of this data
type are called <span class=Definition>constructor functions</span>.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>fill()</span></span> Method for Surface Objects</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>27.</span> <span
class=SourceCodeComment># draw the white background onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>28.</span>
windowSurface.fill(WHITE)</p>

</div>

<p class=Body>You want to fill the entire surface stored in <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>windowSurface</span></span>
with the color white. The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>fill()</span></span> function will completely cover the
entire surface with the color you pass as the parameter. (In this case, the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>WHITE</span></span>
variable is set to the value <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>(255, 255, 255)</span></span>.</p>

<p class=Body>An important thing to know about Pygame is that the window on the
screen won’t change when you call the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>fill()</span></span> method or any of
the other drawing functions. These will change the Surface object, but the
Surface object won’t be drawn on the screen until the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span>
function is called.</p>

<p class=Body>This is because modifying the Surface object in the computer’s
memory is much faster than modifying the image on the screen. It is much more
efficient to draw onto the screen once after all of the drawing functions have
drawn to the surface.</p>

<h2><a name="_Toc405145176">Pygame’s Drawing Functions</a></h2>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.draw.polygon()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>30.</span> <span
class=SourceCodeComment># draw a green polygon onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>31.</span>
pygame.draw.polygon(windowSurface, GREEN, ((146, 0), (291, 106), (236, 277),
(56, 277), (0, 106)))</p>

</div>

<p class=Body>A polygon is multisided shape with straight line sides. Circles
and ellipses are not polygons. Figure 17-5 has some examples of polygons.</p>

<p class=TableListing>&nbsp;</p>

<p class=TableListing>Table 17-2: Rect Attributes</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=234 valign=top style='width:1.95in;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt'>pygame.Rect</span></span> Attribute</p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border-top:double windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading style='page-break-after:avoid'>Description</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.left</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the
  X-coordinate of the left side of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.right</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the
  X-coordinate of the right side of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.top</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the
  Y-coordinate of the top side of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.bottom</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the
  Y-coordinate of the bottom side of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.centerx</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the
  X-coordinate of the center of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.centery</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the
  Y-coordinate of the center of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.width</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the width
  of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.height</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Integer value of the height
  of the rectangle.</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.size</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (width, height)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.topleft</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (left, top)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.topright</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (right, top)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.bottomleft</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (left, bottom)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.bottomright</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (right, bottom)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.midleft</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (left, centery)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.midright</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (right, centery)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=Literal><span
  style='font-size:9.0pt;line-height:115%'>myRect.midtop</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>A tuple of two integers:
  (centerx, top)</p>
  </td>
 </tr>
 <tr>
  <td width=234 valign=top style='width:1.95in;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>myRect.midbottom</span></span></p>
  </td>
  <td width=525 valign=top style='width:315.0pt;border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>A tuple of two integers: (centerx, bottom)</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=center style='text-align:center'><img width=228
height=145 id="Picture 37" src="chapter17_files/image006.webp"></p>

<p class=MsoCaption>Figure 17-5: Examples of Polygons.</p>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.draw.polygon()</span></span> function can draw any polygon shape
you give it. The parameters, in order, are:</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The Surface object to draw the polygon on.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The color of the polygon.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A tuple of tuples that represents the XY coordinates of the
points to draw in order. The last tuple will automatically connect to the first
tuple to complete the shape.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Optionally, an integer for the width of the polygon lines.
Without this, the polygon will be filled in.</p>

<p class=Body>Line 31 draws a green pentagon on the Surface object.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.draw.line()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>33.</span> <span
class=SourceCodeComment># draw some blue lines onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>34.</span>
pygame.draw.line(windowSurface, BLUE, (60, 60), (120, 60), 4)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>35.</span>
pygame.draw.line(windowSurface, BLUE, (120, 60), (60, 120))</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>36.</span>
pygame.draw.line(windowSurface, BLUE, (60, 120), (120, 120), 4)</p>

</div>

<p class=Body>The parameters, in order, are:</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The Surface object to draw the line on.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The color of the line.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A tuple of two integers for the XY coordinate of one end of the
line.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A tuple of two integers for the XY coordinates of the other end
of the line.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Optionally, an integer for the width of the line.</p>

<p class=Body>If you pass <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>4</span></span> for the width, the line will be four pixels
thick. If you do not specify the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>width</span></span> parameter, it will take on the
default value of <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>1</span></span>. The three <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>pygame.draw.line()</span></span> calls on lines 34, 35,
and 36 draw the blue “Z” on the Surface object.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.draw.circle()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>38.</span> <span
class=SourceCodeComment># draw a blue circle onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>39.</span>
pygame.draw.circle(windowSurface, BLUE, (300, 50), 20, 0)</p>

</div>

<p class=Body>The parameters, in order, are:</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The Surface object to draw the circle on.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The color of the circle.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A tuple of two integers for the XY coordinate of the center of
the circle.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>An integer for the radius (that is, the size) of the circle.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Optionally, an integer for the width. A width of 0 means that the
circle will be filled in.</p>

<p class=Body>Line 39 draws a blue circle on the Surface object.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.draw.ellipse()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>41.</span> <span
class=SourceCodeComment># draw a red ellipse onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>42.</span>
pygame.draw.ellipse(windowSurface, RED, (300, 250, 40, 80), 1)</p>

</div>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.draw.ellipse()</span></span> function is similar to the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.draw.circle()</span></span>
function. The parameters, in order, are:</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The Surface object to draw the ellipse on.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The color of the ellipse.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A tuple of four integers is passed for the left, top, width, and
height of the ellipse.</p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Optionally, an integer for the width. A width of 0 means that the
circle will be filled in.</p>

<p class=Body>Line 42 draws a red ellipse on the Surface object.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.draw.rect()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>44.</span> <span
class=SourceCodeComment># draw the text's background rectangle onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>45.</span>
pygame.draw.rect(windowSurface, RED, (textRect.left - 20, textRect.top - 20,
textRect.width + 40, textRect.height + 40))</p>

</div>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.draw.rect()</span></span> function will draw a rectangle. The
third parameter is a tuple of four integers for the left, top, width, and
height of the rectangle. Instead of a tuple of four integers for the third
parameter, you can also pass a Rect object.</p>

<p class=Body>On line 45, you want the rectangle you draw to be 20 pixels
around all the sides of the text. This is why you want the drawn rectangle’s
left and top to be the left and top of <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>textRect</span></span> minus 20.
(Remember, you subtract because coordinates decrease as you go left and up.)
And the width and height are equal to the width and height of the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>textRect</span></span>
plus 40 (because the left and top were moved back 20 pixels, so you need to
make up for that space).</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.PixelArray</span></span> Data Type</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>47.</span> <span
class=SourceCodeComment># get a pixel array of the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>48.</span> pixArray
= pygame.PixelArray(windowSurface)</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>49.</span>
pixArray[480][380] = BLACK</p>

</div>

<p class=Body>Line 48 creates a <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>pygame.PixelArray</span></span> object (called a
PixelArray object for short). The PixelArray object is a list of lists of color
tuples that represents the Surface object you passed it.</p>

<p class=Body>Line 48 passes <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>windowSurface</span></span> to the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.PixelArray()</span></span>
call, so assigning <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>BLACK</span></span> to <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pixArray[480][380]</span></span> on line 49 will change the
pixel at the coordinates (480, 380) to be a black pixel. Pygame will
automatically modify the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>windowSurface</span></span> object with this change.</p>

<p class=Body>The first index in the PixelArray object is for the X-coordinate.
The second index is for the Y-coordinate. PixelArray objects make it easy to
set individual pixels on a PixelArray object to a specific color.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber>50.</span> del pixArray</p>

</div>

<p class=Body>Creating a PixelArray object from a Surface object will lock that
Surface object. Locked means that no <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>blit()</span></span> function calls
(described next) can be made on that Surface object. To unlock the Surface
object, you must delete the PixelArray object with the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>del</span></span> operator. If you
forget to delete the PixelArray object, you’ll get an error message that says <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.error:
Surfaces must not be locked during blit</span></span>.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>blit()</span></span> Method for Surface Objects</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>52.</span> <span
class=SourceCodeComment># draw the text onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>53.</span> windowSurface.blit(text,
textRect)</p>

</div>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>blit()</span></span> method will draw the contents of one Surface object
onto another Surface object. Line 54 will draw the “Hello world!” Surface
object in <span class=Literal><span style='font-size:9.0pt;line-height:115%'>text</span></span>
and draws it to the Surface object stored in the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>windowSurface</span></span> variable.</p>

<p class=Body>The second parameter to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>blit()</span></span> specifies where
on the windowSurface surface the text surface should be drawn. Pass the Rect
object you got from calling <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>text.get_rect()</span></span> on line 23.</p>

<p class=Body>&nbsp;</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.display.update()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>55.</span> <span
class=SourceCodeComment># draw the window onto the screen</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>56.</span>
pygame.display.update()</p>

</div>

<p class=Body>In Pygame, nothing is actually drawn to the screen until the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span>
function is called. This is because drawing to the screen is slow compared to
drawing on the Surface objects in the computer’s memory. You do not want to
update to the screen after each drawing function is called, but only update the
screen once after all the drawing functions have been called.</p>

<h2><a name="_Toc405145177">Events and the Game Loop</a></h2>

<p class=Body>In previous games, all of the programs print everything
immediately until they reach a <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>input()</span></span> function call. At that point, the
program stops and waits for the user to type something in and press <span
class=Keycap><span style='font-variant:normal !important;text-transform:uppercase'>enter</span></span>.
But Pygame programs are constantly running through a loop called the <span
class=Definition>game loop</span>. In this program, all the lines of code in
the game loop execute about a hundred times a second.</p>

<p class=Body>The game loop is a loop that constantly checks for new events,
updates the state of the window, and draws the window on the screen. <span
class=Definition>Events</span> are objects of the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.event.Event</span></span> data
type that are generated by Pygame whenever the user presses a key, clicks or
moves the mouse, or makes some other event occur. (These events are listed on
Table 18-1.)</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>58.</span> <span
class=SourceCodeComment># run the game loop</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>59.</span> while True:</p>

</div>

<p class=Body>Line 59 is the start of the game loop. The condition for the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>while</span></span>
statement is set to <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>True</span></span> so that it loops forever. The only time
the loop exits is if an event causes the program to terminate.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.event.get()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>60.</span>     for
event in pygame.event.get():</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>61.</span>         if
event.type == QUIT:</p>

</div>

<p class=Body>Calling <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.event.get()</span></span> retrieves any new <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.event.Event</span></span>
objects (called Event objects for short) that have been generated since the
last call to <span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.event.get()</span></span>.
These events are returned as a list of Event objects. All Event objects have an
attribute called <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>type</span></span> which tell us what type of event it is. (In this
chapter we only deal with the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>QUIT</span></span> types of event. The other types of events
are covered in the next chapter.)</p>

<p class=Body>Line 60 has a <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>for</span></span> loop to iterate over each Event object in
the list returned by <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.event.get()</span></span>. If the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>type</span></span> attribute of the
event is equal to the constant variable <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>QUIT</span></span>, then you know the
user has closed the window and wants to terminate the program.</p>

<p class=Body>Pygame generates the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>QUIT</span></span> event (which was imported from the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.locals</span></span>
module) when the user clicks on the close button (usually an ×) of the
program’s window. It is also generated if the computer is shutting down and
tries to terminate all the running programs. For whatever reason the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>QUIT</span></span>
event was generated, you should terminate the program.</p>

<p class=Non-TOCHeading3>The <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>pygame.quit()</span></span> Function</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>62.</span>            
pygame.quit()</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>63.</span>            
sys.exit()</p>

</div>

<p class=Body>If the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>QUIT</span></span> event has been generated, the program
should call both <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>pygame.quit()</span></span> and <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>sys.exit()</span></span>.</p>

<p class=Body>This has been the simple “Hello world!” program from Pygame.
We’ve covered many new topics that we didn't have to deal with in our previous
games. Even though the code is more complicated, the Pygame programs can also
be much more fun than text games. Let’s learn how to create games with animated
graphics that move.</p>

<h2><a name="_Toc405145178">Animation</a></h2>

<p class=Body>In this program we have several different blocks bouncing off of
the edges of the window. The blocks are different colors and sizes and move
only in diagonal directions. To animate the blocks (that is, make them look
like they are moving) we will move the blocks a few pixels over on each
iteration through the game loop. This will make it look like the blocks are
moving around the screen.</p>

<h2><a name="_Toc405145179">Source Code of the Animation Program</a></h2>

<p class=Body>Type the following program into the file editor and save it as <em>animation.py</em>.
If you get errors after typing this code in, compare the code you typed to the
book’s code with the online diff tool at <span class=URL><u>http://invpy.com/diff/animation</u></span>.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeFilename>animation.py</p>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber> 1.</span> import
pygame, sys, time</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 2.</span> from
pygame.locals import *</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 3. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 4.</span> <span
class=SourceCodeComment># set up pygame</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 5.</span>
pygame.init()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 6. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 7.</span> <span
class=SourceCodeComment># set up the window</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 8.</span>
WINDOWWIDTH = 400</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 9.</span>
WINDOWHEIGHT = 400</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>10.</span>
windowSurface = pygame.display.set_mode((WINDOWWIDTH, WINDOWHEIGHT), 0, 32)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>11.</span>
pygame.display.set_caption('Animation')</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>12. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>13.</span> <span
class=SourceCodeComment># set up direction variables</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>14.</span> DOWNLEFT
= 1</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>15.</span> DOWNRIGHT
= 3</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>16.</span> UPLEFT =
7</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>17.</span> UPRIGHT =
9</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>18. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>19.</span> MOVESPEED
= 4</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>20. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>21.</span> <span
class=SourceCodeComment># set up the colors</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>22.</span> BLACK =
(0, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>23.</span> RED =
(255, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>24.</span> GREEN =
(0, 255, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>25.</span> BLUE =
(0, 0, 255)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>26. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>27.</span> <span
class=SourceCodeComment># set up the block data structure</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>28.</span> b1 =
{'rect':pygame.Rect(300, 80, 50, 100), 'color':RED, 'dir':UPRIGHT}</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>29.</span> b2 =
{'rect':pygame.Rect(200, 200, 20, 20), 'color':GREEN, 'dir':UPLEFT}</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>30.</span> b3 =
{'rect':pygame.Rect(100, 150, 60, 60), 'color':BLUE, 'dir':DOWNLEFT}</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>31.</span> blocks =
[b1, b2, b3]</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>32. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>33.</span> <span
class=SourceCodeComment># run the game loop</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>34.</span> while
True:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>35.</span>     <span
class=SourceCodeComment># check for the QUIT event</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>36.</span>     for
event in pygame.event.get():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>37.</span>        
if event.type == QUIT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>38.</span>            
pygame.quit()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>39.</span>            
sys.exit()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>40. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>41.</span>     <span
class=SourceCodeComment># draw the black background onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>42.</span>    
windowSurface.fill(BLACK)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>43. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>44.</span>     for b
in blocks:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>45.</span>         <span
class=SourceCodeComment># move the block data structure</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>46.</span>        
if b['dir'] == DOWNLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>47.</span>            
b['rect'].left -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>48.</span>            
b['rect'].top += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>49.</span>        
if b['dir'] == DOWNRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>50.</span>            
b['rect'].left += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>51.</span>            
b['rect'].top += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>52.</span>        
if b['dir'] == UPLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>53.</span>            
b['rect'].left -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>54.</span>            
b['rect'].top -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>55.</span>        
if b['dir'] == UPRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>56.</span>            
b['rect'].left += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>57.</span>            
b['rect'].top -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>58. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>59.</span>         <span
class=SourceCodeComment># check if the block has moved out of the window</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>60.</span>        
if b['rect'].top &lt; 0:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>61.</span>            
<span class=SourceCodeComment># block has moved past the top</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>62.</span>            
if b['dir'] == UPLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>63.</span>                
b['dir'] = DOWNLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>64.</span>            
if b['dir'] == UPRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>65.</span>                
b['dir'] = DOWNRIGHT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>66.</span>        
if b['rect'].bottom &gt; WINDOWHEIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>67.</span>            
<span class=SourceCodeComment># block has moved past the bottom</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>68.</span>            
if b['dir'] == DOWNLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>69.</span>                
b['dir'] = UPLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>70.</span>            
if b['dir'] == DOWNRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>71.</span>                
b['dir'] = UPRIGHT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>72.</span>        
if b['rect'].left &lt; 0:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>73.</span>            
<span class=SourceCodeComment># block has moved past the left side</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>74.</span>             if
b['dir'] == DOWNLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>75.</span>                
b['dir'] = DOWNRIGHT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>76.</span>            
if b['dir'] == UPLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>77.</span>                
b['dir'] = UPRIGHT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>78.</span>        
if b['rect'].right &gt; WINDOWWIDTH:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>79.</span>            
<span class=SourceCodeComment># block has moved past the right side</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>80.</span>            
if b['dir'] == DOWNRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>81.</span>                
b['dir'] = DOWNLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>82.</span>            
if b['dir'] == UPRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>83.</span>                
b['dir'] = UPLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>84. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>85.</span>         <span
class=SourceCodeComment># draw the block onto the surface</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>86.</span>        
pygame.draw.rect(windowSurface, b['color'], b['rect'])</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>87. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>88.</span>     <span
class=SourceCodeComment># draw the window onto the screen</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>89.</span>    
pygame.display.update()</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>90.</span>    
time.sleep(0.02)</p>

</div>

<p class=MsoNormal align=center style='text-align:center'><img width=228
height=243 id="Picture 104" src="chapter17_files/image007.webp"></p>

<p class=MsoCaption>Figure 17-6: An altered screenshot of the Animation
program.</p>

<h2><a name="_Toc405145180">How the Animation Program Works</a></h2>

<p class=Body>In this program, we will have three different colored blocks
moving around and bouncing off the walls. To do this, we need to first consider
how we want the blocks to move.</p>

<p class=Non-TOCHeading3>Moving and Bouncing the Blocks</p>

<p class=Body>Each block will move in one of four diagonal directions. When the
block hits the side of the window, it should bounce off the side and move in a
new diagonal direction. The blocks will bounce as shown Figure 17-7.</p>

<p class=Body>The new direction that a block moves after it bounces depends on
two things: which direction it was moving before the bounce and which wall it
bounced off of. There are a total of eight possible ways a block can bounce:
two different ways for each of the four walls.</p>

<p class=Body>For example, if a block is moving down and right, and then
bounces off of the bottom edge of the window, we want the block’s new direction
to be up and right.</p>

<p class=Body>We can represent the blocks with a Rect object to represent the
position and size of the block, a tuple of three integers to represent the
color of the block, and an integer to represent which of the four diagonal directions
the block is currently moving.</p>

<p class=Body>On each iteration in the game loop, adjust the X and Y position
of the block in the Rect object. Also, in each iteration draw all the blocks on
the screen at their current position. As the program execution iterates over
the game loop, the blocks will gradually move across the screen so that it
looks like they are smoothly moving and bouncing around on their own.</p>

<p class=MsoNormal align=center style='text-align:center'><img width=290
height=306 id="Picture 107" src="chapter17_files/image008.webp"></p>

<p class=MsoCaption>Figure 17-7: The diagram of how blocks will bounce.</p>

<p class=Non-TOCHeading3>Creating and Setting Up Pygame and the Main Window</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber> 1.</span> import
pygame, sys, time</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 2.</span> from
pygame.locals import *</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 3. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 4.</span> <span
class=SourceCodeComment># set up pygame</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 5.</span>
pygame.init()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 6. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 7.</span> <span
class=SourceCodeComment># set up the window</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 8.</span>
WINDOWWIDTH = 400</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 9.</span>
WINDOWHEIGHT = 400</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>10.</span>
windowSurface = pygame.display.set_mode((WINDOWWIDTH, WINDOWHEIGHT), 0, 32)</p>

</div>

<p class=Body>In this program, you’ll see that the size of the window’s width
and height is used for more than just the call to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>set_mode()</span></span>. Use constant
variables so that if you ever want to change the size of the window, you only
have to change lines 8 and 9. Since the window width and height never change
during the program’s execution, a constant variable is a good idea.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber>11.</span>
pygame.display.set_caption('Animation')</p>

</div>

<p class=MsoNormal>Line 11 sets the window’s caption to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>'Animation'</span></span> by calling <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display.set_caption()</span></span>.</p>

<p class=Non-TOCHeading3>Setting Up Constant Variables for Direction</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>13.</span> <span
class=SourceCodeComment># set up direction variables</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>14.</span> DOWNLEFT
= 1</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>15.</span> DOWNRIGHT
= 3</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>16.</span> UPLEFT =
7</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>17.</span> UPRIGHT = 9</p>

</div>

<p class=Body>We will use the keys on the number pad of the keyboard to remind
us which belongs to which direction. This is similar to the Tic Tac Toe game. <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>1</span></span> is
down and left, <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>3</span></span> is down and right, <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>7</span></span> is up and left, and <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>9</span></span> is
up and right. However, it may be hard to remember this, so instead use constant
variables instead of these integer values.</p>

<p class=Body>You could have used any value you wanted for these directions
instead of using a constant variable. For example, you could use the string <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>'downleft'</span></span>
to represent the down and left diagonal direction. However, if you ever mistype
the <span class=Literal><span style='font-size:9.0pt;line-height:115%'>'downleft'</span></span>
string (for example, as <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>'fownleft'</span></span>), Python would not recognize that
you meant to type <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>'downleft'</span></span> instead of <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>'downleft'</span></span>. This bug
would cause your program to behave strangely, but the program would not crash.</p>

<p class=Body>But if you use constant variables, and accidentally type the
variable name <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>FOWNLEFT</span></span> instead of the name <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>DOWNLEFT</span></span>, Python would
notice that there’s no such variable named <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>FOWNLEFT</span></span> and crash the
program with an error. This would still be a pretty bad bug, but at least you
would know about it immediately and could fix it.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber>19.</span> MOVESPEED = 4</p>

</div>

<p class=Body>Use a constant variable to determine how fast the blocks should
move. A value of <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>4</span></span> here means that each block will move 4 pixels on each
iteration through the game loop.</p>

<p class=Non-TOCHeading3>Setting Up Constant Variables for Color</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>21.</span> <span
class=SourceCodeComment># set up the colors</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>22.</span> BLACK =
(0, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>23.</span> RED =
(255, 0, 0)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>24.</span> GREEN =
(0, 255, 0)</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>25.</span> BLUE = (0,
0, 255)</p>

</div>

<p class=Body>Lines 22 to 25 set up constant variables for the colors.
Remember, Pygame uses a tuple of three integer values for the amounts of red,
green, and blue called an RGB value. The integers are from <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>0</span></span> to <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>255</span></span>.</p>

<p class=Body>The use of constant variables is for readability. The computer
doesn’t care if you use a variable named <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>GREEN</span></span> for the color
green. It is easier to know that <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>GREEN</span></span> stands for the color green, rather
than <span class=Literal><span style='font-size:9.0pt;line-height:115%'>(0,
255, 0)</span></span>.</p>

<p class=Non-TOCHeading3>Setting Up The Block Data Structures</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>27.</span> <span
class=SourceCodeComment># set up the block data structure</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>28.</span> b1 =
{'rect':pygame.Rect(300, 80, 50, 100), 'color':RED, 'dir':UPRIGHT}</p>

</div>

<p class=Body>Set up a dictionary as a data structure that represents each
block. (Chapter 9½ introduced dictionaries.) The dictionary will have the keys
of <span class=Literal><span style='font-size:9.0pt;line-height:115%'>'rect'</span></span>
(with a Rect object for a value), <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>'color'</span></span> (with a tuple of three integers
for a value), and <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>'dir'</span></span> (with one of the direction constant variables for a
value).</p>

<p class=Body>The variable <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>b1</span></span> will store one of these block data structures.
This block has its top left corner located at an X-coordinate of 300 and
Y-coordinate of 80. It has a width of 50 pixels and a height of 100 pixels. Its
color is red and its direction is set to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>UPRIGHT</span></span>.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>29.</span> b2 =
{'rect':pygame.Rect(200, 200, 20, 20), 'color':GREEN, 'dir':UPLEFT}</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>30.</span> b3 =
{'rect':pygame.Rect(100, 150, 60, 60), 'color':BLUE, 'dir':DOWNLEFT}</p>

</div>

<p class=Body>Line 29 and 30 creates two more similar data structures for
blocks that are different sizes, positions, colors, and directions.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber>31.</span> blocks = [b1, b2,
b3]</p>

</div>

<p class=Body>Line 31 put all of these data structures in a list, and store the
list in a variable named <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>blocks</span></span>.</p>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>blocks</span></span> variable stores a list. <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>blocks[0]</span></span> would be the
dictionary data structure in <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>b1</span></span>. <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>blocks[0]['color']</span></span> would be the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>'color'</span></span>
key in <span class=Literal><span style='font-size:9.0pt;line-height:115%'>b1</span></span>,
so the expression <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>blocks[0]['color']</span></span> would evaluate to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>(255, 0, 0)</span></span>. This way
you can refer to any of the values in any of the block data structures by
starting with <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>blocks</span></span>.</p>

<h2><a name="_Toc405145181">Running the Game Loop</a></h2>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>33.</span> <span
class=SourceCodeComment># run the game loop</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>34.</span> while
True:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>35.</span>     <span
class=SourceCodeComment># check for the QUIT event</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>36.</span>     for
event in pygame.event.get():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>37.</span>        
if event.type == QUIT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>38.</span>            
pygame.quit()</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>39.</span>            
sys.exit()</p>

</div>

<p class=Body>Inside the game loop, the blocks will move around the screen in
the direction that they are going and bounce if they have hit a side. There is
also code to draw all of the blocks to the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>windowSurface</span></span> surface
and call <span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span>.</p>

<p class=Body>The <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>for</span></span> loop to check all of the events in the list returned by
<span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.event.get()</span></span>
is the same as in our “Hello World!” program.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>41.</span>     <span
class=SourceCodeComment># draw the black background onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>42.</span>    
windowSurface.fill(BLACK)</p>

</div>

<p class=Body>First, line 42 fills the entire surface with black so that
anything previously drawn on the surface is erased.</p>

<p class=Non-TOCHeading3>Moving Each Block</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber>44.</span>     for b in blocks:</p>

</div>

<p class=Body>Next, the code must update the position of each block, so iterate
over the <span class=Literal><span style='font-size:9.0pt;line-height:115%'>blocks</span></span>
list. Inside the loop, you’ll refer to the current block as simply <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>b</span></span> so
it will be easy to type.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>45.</span>         <span
class=SourceCodeComment># move the block data structure</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>46.</span>        
if b['dir'] == DOWNLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>47.</span>            
b['rect'].left -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>48.</span>            
b['rect'].top += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>49.</span>        
if b['dir'] == DOWNRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>50.</span>            
b['rect'].left += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>51.</span>            
b['rect'].top += MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>52.</span>        
if b['dir'] == UPLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>53.</span>            
b['rect'].left -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>54.</span>            
b['rect'].top -= MOVESPEED</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>55.</span>        
if b['dir'] == UPRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>56.</span>            
b['rect'].left += MOVESPEED</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>57.</span>            
b['rect'].top -= MOVESPEED</p>

</div>

<p class=Body>The new value to set the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>left</span></span> and <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>top</span></span>
attributes to depends on the block’s direction. If the direction of the block
(which is stored in the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>'dir'</span></span> key) is either <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>DOWNLEFT</span></span> or <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>DOWNRIGHT</span></span>,
you want to <em>increase</em> the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>top</span></span> attribute. If the direction is <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>UPLEFT</span></span>
or <span class=Literal><span style='font-size:9.0pt;line-height:115%'>UPRIGHT</span></span>,
you want to <em>decrease</em> the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>top</span></span> attribute.</p>

<p class=Body>If the direction of the block is <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>DOWNRIGHT</span></span> or <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>UPRIGHT</span></span>,
you want to <em>increase</em> the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>left</span></span> attribute. If the direction is <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>DOWNLEFT</span></span>
or <span class=Literal><span style='font-size:9.0pt;line-height:115%'>UPLEFT</span></span>,
you want to <em>decrease</em> the <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>left</span></span> attribute.</p>

<p class=Body>Change the value of these attributes by the integer stored in <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>MOVESPEED</span></span>.
<span class=Literal><span style='font-size:9.0pt;line-height:115%'>MOVESPEED</span></span>
stores how many pixels over blocks move on each iteration of the game loop, and
was set on line19.</p>

<p class=Non-TOCHeading3>Checking if the Block has Bounced</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>59.</span>         <span
class=SourceCodeComment># check if the block has move out of the window</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>60.</span>        
if b['rect'].top &lt; 0:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>61.</span>            
<span class=SourceCodeComment># block has moved past the top</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>62.</span>            
if b['dir'] == UPLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>63.</span>                
b['dir'] = DOWNLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>64.</span>            
if b['dir'] == UPRIGHT:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>65.</span>                
b['dir'] = DOWNRIGHT</p>

</div>

<p class=Body>After lines 44 to 57 move the block, check if the block has gone
past the edge of the window. If it has, you want to “bounce” the block. In the
code this means set a new value for the block’s <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>'dir'</span></span> key. The block
will move in the new direction on the next iteration of the game loop. This
makes it look like the block has bounced off the side of the window.</p>

<p class=Body>On line 60’s <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>if</span></span> statement, the block has moved past the top
edge of the window if the block’s Rect object’s <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>top</span></span> attribute is less
than <span class=Literal><span style='font-size:9.0pt;line-height:115%'>0</span></span>.
In that case, change the direction based on what direction the block was moving
(either <span class=Literal><span style='font-size:9.0pt;line-height:115%'>UPLEFT</span></span>
or <span class=Literal><span style='font-size:9.0pt;line-height:115%'>UPRIGHT</span></span>).</p>

<p class=Non-TOCHeading3>Changing the Direction of the Bouncing Block</p>

<p class=Body>Look at the bouncing diagram earlier in this chapter. To move
past the top edge of the window, the block had to either be moving in the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>UPLEFT</span></span>
or <span class=Literal><span style='font-size:9.0pt;line-height:115%'>UPRIGHT</span></span>
directions. If the block was moving in the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>UPLEFT</span></span> direction, the
new direction (according to the bounce diagram) will be <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>DOWNLEFT</span></span>. If the block
was moving in the <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>UPRIGHT</span></span> direction, the new direction will be <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>DOWNRIGHT</span></span>.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>66.</span>         if
b['rect'].bottom &gt; WINDOWHEIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>67.</span>            
<span class=SourceCodeComment># block has moved past the bottom</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>68.</span>            
if b['dir'] == DOWNLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>69.</span>                
b['dir'] = UPLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>70.</span>            
if b['dir'] == DOWNRIGHT:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>71.</span>                
b['dir'] = UPRIGHT</p>

</div>

<p class=Body>Lines 66 to 71 handles if the block has moved past the bottom
edge of the window. They check if the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>bottom</span></span> attribute (not
the <span class=Literal><span style='font-size:9.0pt;line-height:115%'>top</span></span>
attribute) is <em>greater</em> than the value in <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>WINDOWHEIGHT</span></span>. Remember
that the Y-coordinates start at <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>0</span></span> at the top of the window and increase
to <span class=Literal><span style='font-size:9.0pt;line-height:115%'>WINDOWHEIGHT</span></span>
at the bottom.</p>

<p class=Body>The rest of the code changes the direction based on what the
bounce diagram in Figure 17-7 says.</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>72.</span>         if
b['rect'].left &lt; 0:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>73.</span>            
<span class=SourceCodeComment># block has moved past the left side</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>74.</span>            
if b['dir'] == DOWNLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>75.</span>                
b['dir'] = DOWNRIGHT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>76.</span>            
if b['dir'] == UPLEFT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>77.</span>                
b['dir'] = UPRIGHT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>78.</span>        
if b['rect'].right &gt; WINDOWWIDTH:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>79.</span>            
<span class=SourceCodeComment># block has moved past the right side</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>80.</span>            
if b['dir'] == DOWNRIGHT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>81.</span>                
b['dir'] = DOWNLEFT</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>82.</span>            
if b['dir'] == UPRIGHT:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>83.</span>                
b['dir'] = UPLEFT</p>

</div>

<p class=Body>Lines 78 to 83 are similar to lines 72 to 77, but checks if the
left side of the block has moved to the left of the left edge of the window.
Remember, the X-coordinates start at <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>0</span></span> on the left edge of
the window and increase to <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>WINDOWWIDTH</span></span> on the right edge of the window.</p>

<p class=Non-TOCHeading3>Drawing the Blocks on the Window in Their New
Positions</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>85.</span>         <span
class=SourceCodeComment># draw the block onto the surface</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>86.</span>        
pygame.draw.rect(windowSurface, b['color'], b['rect'])</p>

</div>

<p class=Body>Now that the blocks have moved, they should be drawn in their new
positions on the <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>windowSurface</span></span> surface by calling the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>pygame.draw.rect()</span></span>
function. Pass <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>windowSurface</span></span> because it is the Surface object to draw the
rectangle on. Pass the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>b['color']</span></span> because it is the color of the
rectangle. Pass <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>b['rect']</span></span> because it is the Rect object with the position
and size of the rectangle to draw.</p>

<p class=Body>Line 86 is the last line of the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>for</span></span> loop. If you wanted
to add new blocks, you only have to modify the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>blocks</span></span> list on line 31
and the rest of the code still works.</p>

<p class=Non-TOCHeading3>Drawing the Window on the Screen</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>88.</span>     <span
class=SourceCodeComment># draw the window onto the screen</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>89.</span>    
pygame.display.update()</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>90.</span>    
time.sleep(0.02)</p>

</div>

<p class=Body>After each of the blocks in the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>blocks</span></span> list has been
drawn, call <span class=Literal><span style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span>
so that the <span class=Literal><span style='font-size:9.0pt;line-height:115%'>windowSurface</span></span>
surface is draw on the screen.</p>

<p class=Body>After this line, the execution loops back to the start of the
game loop and begin the process all over again. This way, the blocks are
constantly moving a little, bouncing off the walls, and being drawn on the
screen in their new positions.</p>

<p class=Body>The call to the <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>time.sleep()</span></span> function is there because the
computer can move, bounce, and draw the blocks so fast that if the program ran
at full speed, all the blocks would look like a blur. (Try commenting out the <span
class=Literal><span style='font-size:9.0pt;line-height:115%'>time.sleep(0.02)</span></span>
line and running the program to see this.)</p>

<p class=Body>This call to <span class=Literal><span style='font-size:9.0pt;
line-height:115%'>time.sleep()</span></span> will stop the program for 0.02
seconds, or 20 milliseconds.</p>

<p class=Non-TOCHeading3>Drawing Trails of Blocks</p>

<p class=Body>Comment out line 42 (the <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>windowSurface.fill(BLACK)</span></span>
line) by adding a <span class=Literal><span style='font-size:9.0pt;line-height:
115%'>#</span></span> to the front of the line. Now run the program.</p>

<p class=Body>Without the call to <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>windowSurface.fill(BLACK)</span></span>, you don’t
black out the entire window before drawing the rectangles in their new
position. The trails of rectangles appear because the old rectangles drawn in
previous iterations through the game loop aren’t blacked out anymore.</p>

<p class=Body>Remember that the blocks are not really moving. On each iteration
through the game loop, the code redraws the entire window with new blocks that
are located a few pixels over each time.</p>

<p class=Non-TOCHeading3>Summary</p>

<p class=Body>This chapter has presented a whole new way of creating computer
programs. The previous chapters’ programs would stop and wait for the player to
enter text. However, in our animation program, the program is constantly
updating the data structures of things without waiting for input from the
player.</p>

<p class=Body>Remember in our Hangman and Tic Tac Toe games we had data
structures that would represent the state of the board, and these data
structures would be passed to a <span class=Literal><span style='font-size:
9.0pt;line-height:115%'>drawBoard()</span></span> function to be displayed on
the screen. Our animation program is similar. The <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>blocks</span></span> variable holds a
list of data structures representing blocks to be drawn to the screen, and
these are drawn to the screen inside the game loop.</p>

<p class=MsoNormal>But without calls to <span class=Literal><span
style='font-size:9.0pt;line-height:115%'>input()</span></span>, how do we get
input from the player? In our next chapter, we will cover how programs can know
when the player presses keys on the keyboard. We will also learn of a concept
called collision detection.</p>

</div>

</body>

</html>
