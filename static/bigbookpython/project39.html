<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Langton's Ant</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project38.html">Prev: J'Accuse!</a> | <a href="project40.html">Next: Leetspeak</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-22">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#39</span><br class="calibre14" />
<span class="chaptertitle">Langton’s Ant</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">Langton’s Ant is a cellular automata simulation on a two-dimensional grid, similar to Project 13, “Conway’s Game of Life.” In the simulation, an “ant” begins on a square that is one of two colors. If the space is the first color, the ant switches it to the second color, turns 90 degrees to the right, and moves forward one space. If the space is the second color, the ant switches it to the first color, turns 90 degrees to the left, and moves forward one space. Despite the very simple set of rules, the simulation displays complex emergent behavior. Simulations can feature multiple ants in the same space, causing interesting interactions when they cross paths with each other. Langton’s Ant was invented by computer scientist Chris Langton in 1986. More information about Langton’s Ant can be found at <a href="https://en.wikipedia.org/wiki/Langton%27s_ant" class="linkurl">https://en.wikipedia.org/wiki/Langton%27s_ant</a>.</p>
<h2 id="calibre_link-175" class="calibre5">The Program in Action</h2>
<p class="bodyfirst"><a href="#calibre_link-23" id="calibre_link-803" class="linkurl">Figure 39-1</a> shows what the output will look like when you run <em class="calibre9">langtonsant.py</em>.</p>
<figure class="calibre28">
<img src="images/000015.webp" alt="f39001" class="calibre12" />
<figcaption class="calibre29"><p class="calibre30"><a id="calibre_link-23" class="linkurl">Figure 39-1</a>: The hypnotic output of the Langton’s Ant cellular automata</p></figcaption>
</figure>
<h2 id="calibre_link-176" class="calibre5">How It Works</h2>
<p class="bodyfirst">This program uses two senses of “direction.” On the one hand, the dictionaries that represent each ant store <em class="calibre9">cardinal directions</em>: north, south, east, and west. However, turning left or right (or counterclockwise and clockwise, since we are viewing the ants from above) is a <em class="calibre9">rotational direction</em>. Ants are supposed to turn left or right in response to the tile they’re standing on, so lines 78 to 100 set a new cardinal direction based on the ant’s current cardinal direction and the direction they are turning.</p>
<div class="highlight"><pre><span></span>
<span class="c">  1. </span><span class="sd">&quot;&quot;&quot;Langton&#39;s Ant, by Al Sweigart al@inventwithpython.com</span>
<span class="c">  2. </span><span class="sd">A cellular automata animation. Press Ctrl-C to stop.</span>
<span class="c">  3. </span><span class="sd">More info: https://en.wikipedia.org/wiki/Langton%27s_ant</span>
<span class="c">  4. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c">  5. </span><span class="sd">Tags: large, artistic, bext, simulation&quot;&quot;&quot;</span>
<span class="c">  6. </span>
<span class="c">  7. </span><span class="kn">import</span> <span class="nn">copy</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span>
<span class="c">  8. </span>
<span class="c">  9. </span><span class="k">try</span><span class="p">:</span>
<span class="c"> 10. </span>    <span class="kn">import</span> <span class="nn">bext</span>
<span class="c"> 11. </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="c"> 12. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This program requires the bext module, which you&#39;</span><span class="p">)</span>
<span class="c"> 13. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;can install by following the instructions at&#39;</span><span class="p">)</span>
<span class="c"> 14. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;https://pypi.org/project/Bext/&#39;</span><span class="p">)</span>
<span class="c"> 15. </span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
<span class="c"> 16. </span>
<span class="c"> 17. </span><span class="c1"># Set up the constants:</span>
<span class="c"> 18. </span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span> <span class="o">=</span> <span class="n">bext</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="c"> 19. </span><span class="c1"># We can&#39;t print to the last column on Windows without it adding a</span>
<span class="c"> 20. </span><span class="c1"># newline automatically, so reduce the width by one:</span>
<span class="c"> 21. </span><span class="n">WIDTH</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="c"> 22. </span><span class="n">HEIGHT</span> <span class="o">-=</span> <span class="mi">1</span>  <span class="c1"># Adjustment for the quit message at the bottom.</span>
<span class="c"> 23. </span>
<span class="c"> 24. </span><span class="n">NUMBER_OF_ANTS</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># (!) Try changing this to 1 or 50.</span>
<span class="c"> 25. </span><span class="n">PAUSE_AMOUNT</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># (!) Try changing this to 1.0 or 0.0.</span>
<span class="c"> 26. </span>
<span class="c"> 27. </span><span class="c1"># (!) Try changing these to make the ants look different:</span>
<span class="c"> 28. </span><span class="n">ANT_UP</span> <span class="o">=</span> <span class="s1">&#39;^&#39;</span>
<span class="c"> 29. </span><span class="n">ANT_DOWN</span> <span class="o">=</span> <span class="s1">&#39;v&#39;</span>
<span class="c"> 30. </span><span class="n">ANT_LEFT</span> <span class="o">=</span> <span class="s1">&#39;&lt;&#39;</span>
<span class="c"> 31. </span><span class="n">ANT_RIGHT</span> <span class="o">=</span> <span class="s1">&#39;&gt;&#39;</span>
<span class="c"> 32. </span>
<span class="c"> 33. </span><span class="c1"># (!) Try changing these colors to one of &#39;black&#39;, &#39;red&#39;, &#39;green&#39;,</span>
<span class="c"> 34. </span><span class="c1"># &#39;yellow&#39;, &#39;blue&#39;, &#39;purple&#39;, &#39;cyan&#39;, or &#39;white&#39;. (These are the only</span>
<span class="c"> 35. </span><span class="c1"># colors that the bext module supports.)</span>
<span class="c"> 36. </span><span class="n">ANT_COLOR</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span>
<span class="c"> 37. </span><span class="n">BLACK_TILE</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span>
<span class="c"> 38. </span><span class="n">WHITE_TILE</span> <span class="o">=</span> <span class="s1">&#39;white&#39;</span>
<span class="c"> 39. </span>
<span class="c"> 40. </span><span class="n">NORTH</span> <span class="o">=</span> <span class="s1">&#39;north&#39;</span>
<span class="c"> 41. </span><span class="n">SOUTH</span> <span class="o">=</span> <span class="s1">&#39;south&#39;</span>
<span class="c"> 42. </span><span class="n">EAST</span> <span class="o">=</span> <span class="s1">&#39;east&#39;</span>
<span class="c"> 43. </span><span class="n">WEST</span> <span class="o">=</span> <span class="s1">&#39;west&#39;</span>
<span class="c"> 44. </span>
<span class="c"> 45. </span>
<span class="c"> 46. </span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="c"> 47. </span>    <span class="n">bext</span><span class="o">.</span><span class="n">fg</span><span class="p">(</span><span class="n">ANT_COLOR</span><span class="p">)</span>  <span class="c1"># The ants&#39; color is the foreground color.</span>
<span class="c"> 48. </span>    <span class="n">bext</span><span class="o">.</span><span class="n">bg</span><span class="p">(</span><span class="n">WHITE_TILE</span><span class="p">)</span>  <span class="c1"># Set the background to white to start.</span>
<span class="c"> 49. </span>    <span class="n">bext</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="c"> 50. </span>
<span class="c"> 51. </span>    <span class="c1"># Create a new board data structure:</span>
<span class="c"> 52. </span>    <span class="n">board</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="n">WIDTH</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="n">HEIGHT</span><span class="p">}</span>
<span class="c"> 53. </span>
<span class="c"> 54. </span>    <span class="c1"># Create ant data structures:</span>
<span class="c"> 55. </span>    <span class="n">ants</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c"> 56. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUMBER_OF_ANTS</span><span class="p">):</span>
<span class="c"> 57. </span>        <span class="n">ant</span> <span class="o">=</span> <span class="p">{</span>
<span class="c"> 58. </span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>
<span class="c"> 59. </span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>
<span class="c"> 60. </span>            <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">NORTH</span><span class="p">,</span> <span class="n">SOUTH</span><span class="p">,</span> <span class="n">EAST</span><span class="p">,</span> <span class="n">WEST</span><span class="p">]),</span>
<span class="c"> 61. </span>        <span class="p">}</span>
<span class="c"> 62. </span>        <span class="n">ants</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ant</span><span class="p">)</span>
<span class="c"> 63. </span>
<span class="c"> 64. </span>    <span class="c1"># Keep track of which tiles have changed and need to be redrawn on</span>
<span class="c"> 65. </span>    <span class="c1"># the screen:</span>
<span class="c"> 66. </span>    <span class="n">changedTiles</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c"> 67. </span>
<span class="c"> 68. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Main program loop.</span>
<span class="c"> 69. </span>        <span class="n">displayBoard</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">ants</span><span class="p">,</span> <span class="n">changedTiles</span><span class="p">)</span>
<span class="c"> 70. </span>        <span class="n">changedTiles</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c"> 71. </span>
<span class="c"> 72. </span>        <span class="c1"># nextBoard is what the board will look like on the next step in</span>
<span class="c"> 73. </span>        <span class="c1"># the simulation. Start with a copy of the current step&#39;s board:</span>
<span class="c"> 74. </span>        <span class="n">nextBoard</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
<span class="c"> 75. </span>
<span class="c"> 76. </span>        <span class="c1"># Run a single simulation step for each ant:</span>
<span class="c"> 77. </span>        <span class="k">for</span> <span class="n">ant</span> <span class="ow">in</span> <span class="n">ants</span><span class="p">:</span>
<span class="c"> 78. </span>            <span class="k">if</span> <span class="n">board</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]),</span> <span class="kc">False</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<span class="c"> 79. </span>                <span class="n">nextBoard</span><span class="p">[(</span><span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="c"> 80. </span>                <span class="c1"># Turn clockwise:</span>
<span class="c"> 81. </span>                <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">NORTH</span><span class="p">:</span>
<span class="c"> 82. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">EAST</span>
<span class="c"> 83. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EAST</span><span class="p">:</span>
<span class="c"> 84. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SOUTH</span>
<span class="c"> 85. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">SOUTH</span><span class="p">:</span>
<span class="c"> 86. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WEST</span>
<span class="c"> 87. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">WEST</span><span class="p">:</span>
<span class="c"> 88. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">NORTH</span>
<span class="c"> 89. </span>            <span class="k">else</span><span class="p">:</span>
<span class="c"> 90. </span>                <span class="n">nextBoard</span><span class="p">[(</span><span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c"> 91. </span>                <span class="c1"># Turn counter clockwise:</span>
<span class="c"> 92. </span>                <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">NORTH</span><span class="p">:</span>
<span class="c"> 93. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WEST</span>
<span class="c"> 94. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">WEST</span><span class="p">:</span>
<span class="c"> 95. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SOUTH</span>
<span class="c"> 96. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">SOUTH</span><span class="p">:</span>
<span class="c"> 97. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">EAST</span>
<span class="c"> 98. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EAST</span><span class="p">:</span>
<span class="c"> 99. </span>                    <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">NORTH</span>
<span class="c">100. </span>            <span class="n">changedTiles</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]))</span>
<span class="c">101. </span>
<span class="c">102. </span>            <span class="c1"># Move the ant forward in whatever direction it&#39;s facing:</span>
<span class="c">103. </span>            <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">NORTH</span><span class="p">:</span>
<span class="c">104. </span>                <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="c">105. </span>            <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">SOUTH</span><span class="p">:</span>
<span class="c">106. </span>                <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">107. </span>            <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">WEST</span><span class="p">:</span>
<span class="c">108. </span>                <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="c">109. </span>            <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EAST</span><span class="p">:</span>
<span class="c">110. </span>                <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">111. </span>
<span class="c">112. </span>            <span class="c1"># If the ant goes past the edge of the screen,</span>
<span class="c">113. </span>            <span class="c1"># it should wrap around to other side.</span>
<span class="c">114. </span>            <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">WIDTH</span>
<span class="c">115. </span>            <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">HEIGHT</span>
<span class="c">116. </span>
<span class="c">117. </span>            <span class="n">changedTiles</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]))</span>
<span class="c">118. </span>
<span class="c">119. </span>        <span class="n">board</span> <span class="o">=</span> <span class="n">nextBoard</span>
<span class="c">120. </span>
<span class="c">121. </span>
<span class="c">122. </span><span class="k">def</span> <span class="nf">displayBoard</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">ants</span><span class="p">,</span> <span class="n">changedTiles</span><span class="p">):</span>
<span class="c">123. </span>    <span class="sd">&quot;&quot;&quot;Displays the board and ants on the screen. The changedTiles</span>
<span class="c">124. </span><span class="sd">    argument is a list of (x, y) tuples for tiles on the screen that</span>
<span class="c">125. </span><span class="sd">    have changed and need to be redrawn.&quot;&quot;&quot;</span>
<span class="c">126. </span>
<span class="c">127. </span>    <span class="c1"># Draw the board data structure:</span>
<span class="c">128. </span>    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">changedTiles</span><span class="p">:</span>
<span class="c">129. </span>        <span class="n">bext</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="c">130. </span>        <span class="k">if</span> <span class="n">board</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="kc">False</span><span class="p">):</span>
<span class="c">131. </span>            <span class="n">bext</span><span class="o">.</span><span class="n">bg</span><span class="p">(</span><span class="n">BLACK_TILE</span><span class="p">)</span>
<span class="c">132. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c">133. </span>            <span class="n">bext</span><span class="o">.</span><span class="n">bg</span><span class="p">(</span><span class="n">WHITE_TILE</span><span class="p">)</span>
<span class="c">134. </span>
<span class="c">135. </span>        <span class="n">antIsHere</span> <span class="o">=</span> <span class="kc">False</span>
<span class="c">136. </span>        <span class="k">for</span> <span class="n">ant</span> <span class="ow">in</span> <span class="n">ants</span><span class="p">:</span>
<span class="c">137. </span>            <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">ant</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]):</span>
<span class="c">138. </span>                <span class="n">antIsHere</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c">139. </span>                <span class="k">if</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">NORTH</span><span class="p">:</span>
<span class="c">140. </span>                    <span class="nb">print</span><span class="p">(</span><span class="n">ANT_UP</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">141. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">SOUTH</span><span class="p">:</span>
<span class="c">142. </span>                    <span class="nb">print</span><span class="p">(</span><span class="n">ANT_DOWN</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">143. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">EAST</span><span class="p">:</span>
<span class="c">144. </span>                    <span class="nb">print</span><span class="p">(</span><span class="n">ANT_LEFT</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">145. </span>                <span class="k">elif</span> <span class="n">ant</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">WEST</span><span class="p">:</span>
<span class="c">146. </span>                    <span class="nb">print</span><span class="p">(</span><span class="n">ANT_RIGHT</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">147. </span>                <span class="k">break</span>
<span class="c">148. </span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">antIsHere</span><span class="p">:</span>
<span class="c">149. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">150. </span>
<span class="c">151. </span>    <span class="c1"># Display the quit message at the bottom of the screen:</span>
<span class="c">152. </span>    <span class="n">bext</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">)</span>
<span class="c">153. </span>    <span class="n">bext</span><span class="o">.</span><span class="n">bg</span><span class="p">(</span><span class="n">WHITE_TILE</span><span class="p">)</span>
<span class="c">154. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Press Ctrl-C to quit.&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">155. </span>
<span class="c">156. </span>    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>  <span class="c1"># (Required for bext-using programs.)</span>
<span class="c">157. </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE_AMOUNT</span><span class="p">)</span>
<span class="c">158. </span>
<span class="c">159. </span>
<span class="c">160. </span><span class="c1"># If this program was run (instead of imported), run the game:</span>
<span class="c">161. </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="c">162. </span>    <span class="k">try</span><span class="p">:</span>
<span class="c">163. </span>        <span class="n">main</span><span class="p">()</span>
<span class="c">164. </span>    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="c">165. </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Langton&#39;s Ant, by Al Sweigart al@inventwithpython.com&quot;</span><span class="p">)</span>
<span class="c">166. </span>        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>  <span class="c1"># When Ctrl-C is pressed, end the program.</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. The comments marked with <code class="calibre22">(!)</code> have suggestions for small changes you can make. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Let the player load and save the state of the board’s tiles from and to a text file.</li>
<li class="calibre8">Create additional tile states with new rules of movement and see what behavior emerges.</li>
<li class="calibre8">Implement some of the ideas suggested in the Wikipedia article for Langton’s Ant.</li>
</ul>
<h2 id="calibre_link-177" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">print(' ', end='')</code> on line 149 to <code class="calibre22">print('.', end='')</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">ant['y'] += 1</code> on line 106 to <code class="calibre22">ant['y'] -= 1</code>?</li>
<li value="3" class="calibre8">What happens if you change <code class="calibre22">nextBoard[(ant['x'], ant['y'])] = False</code> on line 79 to <code class="calibre22">nextBoard[(ant['x'], ant['y'])] = True</code>?</li>
<li value="4" class="calibre8">What happens if you change <code class="calibre22">WIDTH -= 1</code> on line 21 to <code class="calibre22">WIDTH -= 40</code>?</li>
<li value="5" class="calibre8">What happens if you change <code class="calibre22">board = nextBoard</code> on line 119 to <code class="calibre22">board = board</code>?</li>
</ol>
</section>
</div>








<a href="project38.html">Prev: J'Accuse!</a> | <a href="project40.html">Next: Leetspeak</a>
</body></html>