<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Hacking Minigame</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project32.html">Prev: Gullible</a> | <a href="project34.html">Next: Hangman & Guillotine</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-156">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#33</span><br class="calibre14" />
<span class="chaptertitle">Hacking Minigame</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">In this game, the player must hack a computer by guessing a seven-letter word used as the secret password. The computer’s memory banks display the possible words, and the player is given hints as to how close each guess was. For example, if the secret password is MONITOR but the player guessed CONTAIN, they are given the hint that two out of seven letters were correct, because both MONITOR and CONTAIN have the letter <em class="calibre9">O</em> and <em class="calibre9">N</em> as their second and third letter. This game is similar to Project 1, “Bagels,” and the hacking minigame in the <em class="calibre9">Fallout</em> series of video games.</p>
<h2 id="calibre_link-157" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">hacking.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Hacking Minigame, by Al Sweigart al@inventwithpython.com
Find the password in the computer's memory:
0x1150  $],&gt;@|~~RESOLVE^    0x1250  {&gt;+)&lt;!?CHICKEN,%
0x1160  }@%_-:;/$^(|&lt;|!(    0x1260  .][})?#@#ADDRESS
0x1170  _;)][#?&lt;&amp;~$~+&amp;}}    0x1270  ,#=)&gt;{-;/DESPITE
0x1180  %[!]{REFUGEE@?~,    0x1280  }/.}!-DISPLAY%%/
0x1190  _[^%[@}^&lt;_+{_@$~    0x1290  =&gt;&gt;,:*%?_?@+{%#.
0x11a0  )?~/)+PENALTY?-=    0x12a0  &gt;[,?*#IMPROVE@$/
<var class="calibre27">--snip--</var>
Enter password: (4 tries remaining)
&gt; <b class="calibre6">resolve</b>
Access Denied (2/7 correct)
Enter password: (3 tries remaining)
&gt; <b class="calibre6">improve</b>
A C C E S S   G R A N T E D</code></pre>
<h2 id="calibre_link-158" class="calibre5">How It Works</h2>
<p class="bodyfirst">This game has a hacking theme, but it doesn’t involve any actual computer hacking. If we’d just listed the possible words on the screen, the gameplay would have been identical. However, the cosmetic additions that mimic a computer’s memory banks convey an exciting feeling of computer hacking. The attention to detail and user experience turn a plain, boring game into an exciting one.</p>
<div class="highlight"><pre><span></span>
<span class="c">  1. </span><span class="sd">&quot;&quot;&quot;Hacking Minigame, by Al Sweigart al@inventwithpython.com</span>
<span class="c">  2. </span><span class="sd">The hacking mini-game from &quot;Fallout 3&quot;. Find out which seven-letter</span>
<span class="c">  3. </span><span class="sd">word is the password by using clues each guess gives you.</span>
<span class="c">  4. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c">  5. </span><span class="sd">Tags: large, artistic, game, puzzle&quot;&quot;&quot;</span>
<span class="c">  6. </span>
<span class="c">  7. </span><span class="c1"># NOTE: This program requires the sevenletterwords.txt file. You can</span>
<span class="c">  8. </span><span class="c1"># download it from https://inventwithpython.com/sevenletterwords.txt</span>
<span class="c">  9. </span>
<span class="c"> 10. </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span>
<span class="c"> 11. </span>
<span class="c"> 12. </span><span class="c1"># Set up the constants:</span>
<span class="c"> 13. </span><span class="c1"># The garbage filler characters for the &quot;computer memory&quot; display.</span>
<span class="c"> 14. </span><span class="n">GARBAGE_CHARS</span> <span class="o">=</span> <span class="s1">&#39;~!@#$%^&amp;*()_+-=</span><span class="si">{}</span><span class="s1">[]|;:,.&lt;&gt;?/&#39;</span>
<span class="c"> 15. </span>
<span class="c"> 16. </span><span class="c1"># Load the WORDS list from a text file that has 7-letter words.</span>
<span class="c"> 17. </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sevenletterwords.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">wordListFile</span><span class="p">:</span>
<span class="c"> 18. </span>    <span class="n">WORDS</span> <span class="o">=</span> <span class="n">wordListFile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="c"> 19. </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">WORDS</span><span class="p">)):</span>
<span class="c"> 20. </span>    <span class="c1"># Convert each word to uppercase and remove the trailing newline:</span>
<span class="c"> 21. </span>    <span class="n">WORDS</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">WORDS</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c"> 22. </span>
<span class="c"> 23. </span>
<span class="c"> 24. </span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="c"> 25. </span>    <span class="sd">&quot;&quot;&quot;Run a single game of Hacking.&quot;&quot;&quot;</span>
<span class="c"> 26. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;Hacking Minigame, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 27. </span><span class="s1">Find the password in the computer&#39;s memory. You are given clues after</span>
<span class="c"> 28. </span><span class="s1">each guess. For example, if the secret password is MONITOR but the</span>
<span class="c"> 29. </span><span class="s1">player guessed CONTAIN, they are given the hint that 2 out of 7 letters</span>
<span class="c"> 30. </span><span class="s1">were correct, because both MONITOR and CONTAIN have the letter O and N</span>
<span class="c"> 31. </span><span class="s1">as their 2nd and 3rd letter. You get four guesses.</span><span class="se">\n</span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
<span class="c"> 32. </span>    <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to begin...&#39;</span><span class="p">)</span>
<span class="c"> 33. </span>
<span class="c"> 34. </span>    <span class="n">gameWords</span> <span class="o">=</span> <span class="n">getWords</span><span class="p">()</span>
<span class="c"> 35. </span>    <span class="c1"># The &quot;computer memory&quot; is just cosmetic, but it looks cool:</span>
<span class="c"> 36. </span>    <span class="n">computerMemory</span> <span class="o">=</span> <span class="n">getComputerMemoryString</span><span class="p">(</span><span class="n">gameWords</span><span class="p">)</span>
<span class="c"> 37. </span>    <span class="n">secretPassword</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">gameWords</span><span class="p">)</span>
<span class="c"> 38. </span>
<span class="c"> 39. </span>    <span class="nb">print</span><span class="p">(</span><span class="n">computerMemory</span><span class="p">)</span>
<span class="c"> 40. </span>    <span class="c1"># Start at 4 tries remaining, going down:</span>
<span class="c"> 41. </span>    <span class="k">for</span> <span class="n">triesRemaining</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<span class="c"> 42. </span>        <span class="n">playerMove</span> <span class="o">=</span> <span class="n">askForPlayerGuess</span><span class="p">(</span><span class="n">gameWords</span><span class="p">,</span> <span class="n">triesRemaining</span><span class="p">)</span>
<span class="c"> 43. </span>        <span class="k">if</span> <span class="n">playerMove</span> <span class="o">==</span> <span class="n">secretPassword</span><span class="p">:</span>
<span class="c"> 44. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A C C E S S   G R A N T E D&#39;</span><span class="p">)</span>
<span class="c"> 45. </span>            <span class="k">return</span>
<span class="c"> 46. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c"> 47. </span>            <span class="n">numMatches</span> <span class="o">=</span> <span class="n">numMatchingLetters</span><span class="p">(</span><span class="n">secretPassword</span><span class="p">,</span> <span class="n">playerMove</span><span class="p">)</span>
<span class="c"> 48. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Access Denied (</span><span class="si">{}</span><span class="s1">/7 correct)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numMatches</span><span class="p">))</span>
<span class="c"> 49. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Out of tries. Secret password was </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">secretPassword</span><span class="p">))</span>
<span class="c"> 50. </span>
<span class="c"> 51. </span>
<span class="c"> 52. </span><span class="k">def</span> <span class="nf">getWords</span><span class="p">():</span>
<span class="c"> 53. </span>    <span class="sd">&quot;&quot;&quot;Return a list of 12 words that could possibly be the password.</span>
<span class="c"> 54. </span>
<span class="c"> 55. </span><span class="sd">    The secret password will be the first word in the list.</span>
<span class="c"> 56. </span><span class="sd">    To make the game fair, we try to ensure that there are words with</span>
<span class="c"> 57. </span><span class="sd">    a range of matching numbers of letters as the secret word.&quot;&quot;&quot;</span>
<span class="c"> 58. </span>    <span class="n">secretPassword</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">WORDS</span><span class="p">)</span>
<span class="c"> 59. </span>    <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">secretPassword</span><span class="p">]</span>
<span class="c"> 60. </span>
<span class="c"> 61. </span>    <span class="c1"># Find two more words; these have zero matching letters.</span>
<span class="c"> 62. </span>    <span class="c1"># We use &quot;&lt; 3&quot; because the secret password is already in words.</span>
<span class="c"> 63. </span>    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
<span class="c"> 64. </span>        <span class="n">randomWord</span> <span class="o">=</span> <span class="n">getOneWordExcept</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="c"> 65. </span>        <span class="k">if</span> <span class="n">numMatchingLetters</span><span class="p">(</span><span class="n">secretPassword</span><span class="p">,</span> <span class="n">randomWord</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="c"> 66. </span>            <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">randomWord</span><span class="p">)</span>
<span class="c"> 67. </span>
<span class="c"> 68. </span>    <span class="c1"># Find two words that have 3 matching letters (but give up at 500</span>
<span class="c"> 69. </span>    <span class="c1"># tries if not enough can be found).</span>
<span class="c"> 70. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
<span class="c"> 71. </span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
<span class="c"> 72. </span>            <span class="k">break</span>  <span class="c1"># Found 5 words, so break out of the loop.</span>
<span class="c"> 73. </span>
<span class="c"> 74. </span>        <span class="n">randomWord</span> <span class="o">=</span> <span class="n">getOneWordExcept</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="c"> 75. </span>        <span class="k">if</span> <span class="n">numMatchingLetters</span><span class="p">(</span><span class="n">secretPassword</span><span class="p">,</span> <span class="n">randomWord</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="c"> 76. </span>            <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">randomWord</span><span class="p">)</span>
<span class="c"> 77. </span>
<span class="c"> 78. </span>    <span class="c1"># Find at least seven words that have at least one matching letter</span>
<span class="c"> 79. </span>    <span class="c1"># (but give up at 500 tries if not enough can be found).</span>
<span class="c"> 80. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
<span class="c"> 81. </span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">==</span> <span class="mi">12</span><span class="p">:</span>
<span class="c"> 82. </span>            <span class="k">break</span>  <span class="c1"># Found 7 or more words, so break out of the loop.</span>
<span class="c"> 83. </span>
<span class="c"> 84. </span>        <span class="n">randomWord</span> <span class="o">=</span> <span class="n">getOneWordExcept</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="c"> 85. </span>        <span class="k">if</span> <span class="n">numMatchingLetters</span><span class="p">(</span><span class="n">secretPassword</span><span class="p">,</span> <span class="n">randomWord</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<span class="c"> 86. </span>            <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">randomWord</span><span class="p">)</span>
<span class="c"> 87. </span>
<span class="c"> 88. </span>    <span class="c1"># Add any random words needed to get 12 words total.</span>
<span class="c"> 89. </span>    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">:</span>
<span class="c"> 90. </span>        <span class="n">randomWord</span> <span class="o">=</span> <span class="n">getOneWordExcept</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="c"> 91. </span>        <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">randomWord</span><span class="p">)</span>
<span class="c"> 92. </span>
<span class="c"> 93. </span>    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">==</span> <span class="mi">12</span>
<span class="c"> 94. </span>    <span class="k">return</span> <span class="n">words</span>
<span class="c"> 95. </span>
<span class="c"> 96. </span>
<span class="c"> 97. </span><span class="k">def</span> <span class="nf">getOneWordExcept</span><span class="p">(</span><span class="n">blocklist</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="c"> 98. </span>    <span class="sd">&quot;&quot;&quot;Returns a random word from WORDS that isn&#39;t in blocklist.&quot;&quot;&quot;</span>
<span class="c"> 99. </span>    <span class="k">if</span> <span class="n">blocklist</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
<span class="c">100. </span>        <span class="n">blocklist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c">101. </span>
<span class="c">102. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">103. </span>        <span class="n">randomWord</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">WORDS</span><span class="p">)</span>
<span class="c">104. </span>        <span class="k">if</span> <span class="n">randomWord</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">blocklist</span><span class="p">:</span>
<span class="c">105. </span>            <span class="k">return</span> <span class="n">randomWord</span>
<span class="c">106. </span>
<span class="c">107. </span>
<span class="c">108. </span><span class="k">def</span> <span class="nf">numMatchingLetters</span><span class="p">(</span><span class="n">word1</span><span class="p">,</span> <span class="n">word2</span><span class="p">):</span>
<span class="c">109. </span>    <span class="sd">&quot;&quot;&quot;Returns the number of matching letters in these two words.&quot;&quot;&quot;</span>
<span class="c">110. </span>    <span class="n">matches</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">111. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word1</span><span class="p">)):</span>
<span class="c">112. </span>        <span class="k">if</span> <span class="n">word1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">word2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<span class="c">113. </span>            <span class="n">matches</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">114. </span>    <span class="k">return</span> <span class="n">matches</span>
<span class="c">115. </span>
<span class="c">116. </span>
<span class="c">117. </span><span class="k">def</span> <span class="nf">getComputerMemoryString</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
<span class="c">118. </span>    <span class="sd">&quot;&quot;&quot;Return a string representing the &quot;computer memory&quot;.&quot;&quot;&quot;</span>
<span class="c">119. </span>
<span class="c">120. </span>    <span class="c1"># Pick one line per word to contain a word. There are 16 lines, but</span>
<span class="c">121. </span>    <span class="c1"># they are split into two halves.</span>
<span class="c">122. </span>    <span class="n">linesWithWords</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">16</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">))</span>
<span class="c">123. </span>    <span class="c1"># The starting memory address (this is also cosmetic).</span>
<span class="c">124. </span>    <span class="n">memoryAddress</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4000</span><span class="p">)</span>
<span class="c">125. </span>
<span class="c">126. </span>    <span class="c1"># Create the &quot;computer memory&quot; string.</span>
<span class="c">127. </span>    <span class="n">computerMemory</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Will contain 16 strings, one for each line.</span>
<span class="c">128. </span>    <span class="n">nextWord</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># The index in words of the word to put into a line.</span>
<span class="c">129. </span>    <span class="k">for</span> <span class="n">lineNum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">):</span>  <span class="c1"># The &quot;computer memory&quot; has 16 lines.</span>
<span class="c">130. </span>        <span class="c1"># Create a half line of garbage characters:</span>
<span class="c">131. </span>        <span class="n">leftHalf</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c">132. </span>        <span class="n">rightHalf</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c">133. </span>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">):</span>  <span class="c1"># Each half line has 16 characters.</span>
<span class="c">134. </span>            <span class="n">leftHalf</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">GARBAGE_CHARS</span><span class="p">)</span>
<span class="c">135. </span>            <span class="n">rightHalf</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">GARBAGE_CHARS</span><span class="p">)</span>
<span class="c">136. </span>
<span class="c">137. </span>        <span class="c1"># Fill in the password from words:</span>
<span class="c">138. </span>        <span class="k">if</span> <span class="n">lineNum</span> <span class="ow">in</span> <span class="n">linesWithWords</span><span class="p">:</span>
<span class="c">139. </span>            <span class="c1"># Find a random place in the half line to insert the word:</span>
<span class="c">140. </span>            <span class="n">insertionIndex</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="c">141. </span>            <span class="c1"># Insert the word:</span>
<span class="c">142. </span>            <span class="n">leftHalf</span> <span class="o">=</span> <span class="p">(</span><span class="n">leftHalf</span><span class="p">[:</span><span class="n">insertionIndex</span><span class="p">]</span> <span class="o">+</span> <span class="n">words</span><span class="p">[</span><span class="n">nextWord</span><span class="p">]</span>
<span class="c">143. </span>                <span class="o">+</span> <span class="n">leftHalf</span><span class="p">[</span><span class="n">insertionIndex</span> <span class="o">+</span> <span class="mi">7</span><span class="p">:])</span>
<span class="c">144. </span>            <span class="n">nextWord</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Update the word to put in the half line.</span>
<span class="c">145. </span>        <span class="k">if</span> <span class="n">lineNum</span> <span class="o">+</span> <span class="mi">16</span> <span class="ow">in</span> <span class="n">linesWithWords</span><span class="p">:</span>
<span class="c">146. </span>            <span class="c1"># Find a random place in the half line to insert the word:</span>
<span class="c">147. </span>            <span class="n">insertionIndex</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="c">148. </span>            <span class="c1"># Insert the word:</span>
<span class="c">149. </span>            <span class="n">rightHalf</span> <span class="o">=</span> <span class="p">(</span><span class="n">rightHalf</span><span class="p">[:</span><span class="n">insertionIndex</span><span class="p">]</span> <span class="o">+</span> <span class="n">words</span><span class="p">[</span><span class="n">nextWord</span><span class="p">]</span>
<span class="c">150. </span>                <span class="o">+</span> <span class="n">rightHalf</span><span class="p">[</span><span class="n">insertionIndex</span> <span class="o">+</span> <span class="mi">7</span><span class="p">:])</span>
<span class="c">151. </span>            <span class="n">nextWord</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Update the word to put in the half line.</span>
<span class="c">152. </span>
<span class="c">153. </span>        <span class="n">computerMemory</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;0x&#39;</span> <span class="o">+</span> <span class="nb">hex</span><span class="p">(</span><span class="n">memoryAddress</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="c">154. </span>                     <span class="o">+</span> <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">leftHalf</span> <span class="o">+</span> <span class="s1">&#39;    &#39;</span>
<span class="c">155. </span>                     <span class="o">+</span> <span class="s1">&#39;0x&#39;</span> <span class="o">+</span> <span class="nb">hex</span><span class="p">(</span><span class="n">memoryAddress</span> <span class="o">+</span> <span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="mi">16</span><span class="p">))[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="c">156. </span>                     <span class="o">+</span> <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">rightHalf</span><span class="p">)</span>
<span class="c">157. </span>
<span class="c">158. </span>        <span class="n">memoryAddress</span> <span class="o">+=</span> <span class="mi">16</span>  <span class="c1"># Jump from, say, 0xe680 to 0xe690.</span>
<span class="c">159. </span>
<span class="c">160. </span>    <span class="c1"># Each string in the computerMemory list is joined into one large</span>
<span class="c">161. </span>    <span class="c1"># string to return:</span>
<span class="c">162. </span>    <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">computerMemory</span><span class="p">)</span>
<span class="c">163. </span>
<span class="c">164. </span>
<span class="c">165. </span><span class="k">def</span> <span class="nf">askForPlayerGuess</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">tries</span><span class="p">):</span>
<span class="c">166. </span>    <span class="sd">&quot;&quot;&quot;Let the player enter a password guess.&quot;&quot;&quot;</span>
<span class="c">167. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">168. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Enter password: (</span><span class="si">{}</span><span class="s1"> tries remaining)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tries</span><span class="p">))</span>
<span class="c">169. </span>        <span class="n">guess</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">170. </span>        <span class="k">if</span> <span class="n">guess</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
<span class="c">171. </span>            <span class="k">return</span> <span class="n">guess</span>
<span class="c">172. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;That is not one of the possible passwords listed above.&#39;</span><span class="p">)</span>
<span class="c">173. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Try entering &quot;</span><span class="si">{}</span><span class="s1">&quot; or &quot;</span><span class="si">{}</span><span class="s1">&quot;.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">words</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="c">174. </span>
<span class="c">175. </span>
<span class="c">176. </span><span class="c1"># If this program was run (instead of imported), run the game:</span>
<span class="c">177. </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="c">178. </span>    <span class="k">try</span><span class="p">:</span>
<span class="c">179. </span>        <span class="n">main</span><span class="p">()</span>
<span class="c">180. </span>    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="c">181. </span>        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>  <span class="c1"># When Ctrl-C is pressed, end the program.</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Find a word list on the internet and create your own <em class="calibre9">sevenletterwords.txt</em> file, maybe one with six- or eight-letter words.</li>
<li class="calibre8">Create a different visualization of the “computer memory.”</li>
</ul>
<h2 id="calibre_link-159" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">for j in range(16):</code> on line 133 to <code class="calibre22">for j in range(0):</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">GARBAGE_CHARS = '~!@#$%^&amp;*()_+-={}[]|;:,.&lt;&gt;?/'</code> on line 14 to <code class="calibre22">GARBAGE_CHARS = '.'</code>?</li>
<li value="3" class="calibre8">What happens if you change <code class="calibre22">gameWords = getWords()</code> on line 34 to <code class="calibre22">gameWords = ['MALKOVICH'] * 20</code>?</li>
<li value="4" class="calibre8">What error message do you get if you change <code class="calibre22">return words</code> on line 94 to <code class="calibre22">return</code>?</li>
<li value="5" class="calibre8">What happens if you change <code class="calibre22">randomWord = random.choice(WORDS)</code> on line 103 to <code class="calibre22">secretPassword = 'PASSWORD'</code>?</li>
</ol>
</section>
</div>








<a href="project32.html">Prev: Gullible</a> | <a href="project34.html">Next: Hangman & Guillotine</a>
</body></html>