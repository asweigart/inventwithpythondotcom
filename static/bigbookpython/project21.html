<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>DNA Visualization</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project20.html">Prev: Digital Stream</a> | <a href="project22.html">Next: Ducklings</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-109">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#21</span><br class="calibre14" />
<span class="chaptertitle">DNA Visualization</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">Deoxyribonucleic acid is a tiny molecule that exists in every cell of our bodies and contains the blueprint for how our bodies grow. It looks like a <em class="calibre9">double helix</em> (a sort of twisted ladder) of pairs of nucleotide molecules: guanine, cytosine, adenine, and thymine. These are represented by the letters G, C, A, and T. DNA is a long molecule; it’s microscopic, but if it were stretched out, its 3 billion base pairs would be 2 meters long! This program is a simple animation of DNA.</p>
<h2 id="calibre_link-110" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">dna.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">DNA Animation, by Al Sweigart al@inventwithpython.com
Press Ctrl-C to quit...
        #G-C#
       #C---G#
      #T-----A#
     #T------A#
    #A------T#
    #G-----C#
     #G---C#
     #C-G#
      ##
     #T-A#
     #C---G#
    #G-----C#
    #G------C#
     #T------A#
      #A-----T#
       #C---G#
        #G-C#
         ##
        #T-A#
       #T---A#
      #A-----T#
<var class="calibre27">--snip--</var></code></pre>
<h2 id="calibre_link-111" class="calibre5">How It Works</h2>
<p class="bodyfirst">Similar to Project 15, “Deep Cave,” and Project 20, “Digital Stream,” this program creates a scrolling animation by printing strings from the <code class="calibre22">ROWS</code> list. The AT and CG pairs are inserted into each string with the <code class="calibre22">format()</code> string method.</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;DNA, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 2. </span><span class="sd">A simple animation of a DNA double-helix. Press Ctrl-C to stop.</span>
<span class="c"> 3. </span><span class="sd">Inspired by matoken https://asciinema.org/a/155441</span>
<span class="c"> 4. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c"> 5. </span><span class="sd">Tags: short, artistic, scrolling, science&quot;&quot;&quot;</span>
<span class="c"> 6. </span>
<span class="c"> 7. </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span>
<span class="c"> 8. </span>
<span class="c"> 9. </span><span class="n">PAUSE</span> <span class="o">=</span> <span class="mf">0.15</span>  <span class="c1"># (!) Try changing this to 0.5 or 0.0.</span>
<span class="c">10. </span>
<span class="c">11. </span><span class="c1"># These are the individual rows of the DNA animation:</span>
<span class="c">12. </span><span class="n">ROWS</span> <span class="o">=</span> <span class="p">[</span>
<span class="c">13. </span>    <span class="c1">#123456789 &lt;- Use this to measure the number of spaces:</span>
<span class="c">14. </span>    <span class="s1">&#39;         ##&#39;</span><span class="p">,</span>  <span class="c1"># Index 0 has no {}.</span>
<span class="c">15. </span>    <span class="s1">&#39;        #</span><span class="si">{}</span><span class="s1">-</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">16. </span>    <span class="s1">&#39;       #</span><span class="si">{}</span><span class="s1">---</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">17. </span>    <span class="s1">&#39;      #</span><span class="si">{}</span><span class="s1">-----</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">18. </span>    <span class="s1">&#39;     #</span><span class="si">{}</span><span class="s1">------</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">19. </span>    <span class="s1">&#39;    #</span><span class="si">{}</span><span class="s1">------</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">20. </span>    <span class="s1">&#39;    #</span><span class="si">{}</span><span class="s1">-----</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">21. </span>    <span class="s1">&#39;     #</span><span class="si">{}</span><span class="s1">---</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">22. </span>    <span class="s1">&#39;     #</span><span class="si">{}</span><span class="s1">-</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">23. </span>    <span class="s1">&#39;      ##&#39;</span><span class="p">,</span>  <span class="c1"># Index 9 has no {}.</span>
<span class="c">24. </span>    <span class="s1">&#39;     #</span><span class="si">{}</span><span class="s1">-</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">25. </span>    <span class="s1">&#39;     #</span><span class="si">{}</span><span class="s1">---</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">26. </span>    <span class="s1">&#39;    #</span><span class="si">{}</span><span class="s1">-----</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">27. </span>    <span class="s1">&#39;    #</span><span class="si">{}</span><span class="s1">------</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">28. </span>    <span class="s1">&#39;     #</span><span class="si">{}</span><span class="s1">------</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">29. </span>    <span class="s1">&#39;      #</span><span class="si">{}</span><span class="s1">-----</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">30. </span>    <span class="s1">&#39;       #</span><span class="si">{}</span><span class="s1">---</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">,</span>
<span class="c">31. </span>    <span class="s1">&#39;        #</span><span class="si">{}</span><span class="s1">-</span><span class="si">{}</span><span class="s1">#&#39;</span><span class="p">]</span>
<span class="c">32. </span>    <span class="c1">#123456789 &lt;- Use this to measure the number of spaces:</span>
<span class="c">33. </span>
<span class="c">34. </span><span class="k">try</span><span class="p">:</span>
<span class="c">35. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;DNA Animation, by Al Sweigart al@inventwithpython.com&#39;</span><span class="p">)</span>
<span class="c">36. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Press Ctrl-C to quit...&#39;</span><span class="p">)</span>
<span class="c">37. </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c">38. </span>    <span class="n">rowIndex</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">39. </span>
<span class="c">40. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Main program loop.</span>
<span class="c">41. </span>        <span class="c1"># Increment rowIndex to draw next row:</span>
<span class="c">42. </span>        <span class="n">rowIndex</span> <span class="o">=</span> <span class="n">rowIndex</span> <span class="o">+</span> <span class="mi">1</span>
<span class="c">43. </span>        <span class="k">if</span> <span class="n">rowIndex</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">ROWS</span><span class="p">):</span>
<span class="c">44. </span>            <span class="n">rowIndex</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">45. </span>
<span class="c">46. </span>        <span class="c1"># Row indexes 0 and 9 don&#39;t have nucleotides:</span>
<span class="c">47. </span>        <span class="k">if</span> <span class="n">rowIndex</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">rowIndex</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
<span class="c">48. </span>            <span class="nb">print</span><span class="p">(</span><span class="n">ROWS</span><span class="p">[</span><span class="n">rowIndex</span><span class="p">])</span>
<span class="c">49. </span>            <span class="k">continue</span>
<span class="c">50. </span>
<span class="c">51. </span>        <span class="c1"># Select random nucleotide pairs, guanine-cytosine and</span>
<span class="c">52. </span>        <span class="c1"># adenine-thymine:</span>
<span class="c">53. </span>        <span class="n">randomSelection</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="c">54. </span>        <span class="k">if</span> <span class="n">randomSelection</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">55. </span>            <span class="n">leftNucleotide</span><span class="p">,</span> <span class="n">rightNucleotide</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span>
<span class="c">56. </span>        <span class="k">elif</span> <span class="n">randomSelection</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="c">57. </span>            <span class="n">leftNucleotide</span><span class="p">,</span> <span class="n">rightNucleotide</span> <span class="o">=</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span>
<span class="c">58. </span>        <span class="k">elif</span> <span class="n">randomSelection</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="c">59. </span>            <span class="n">leftNucleotide</span><span class="p">,</span> <span class="n">rightNucleotide</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span>
<span class="c">60. </span>        <span class="k">elif</span> <span class="n">randomSelection</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
<span class="c">61. </span>            <span class="n">leftNucleotide</span><span class="p">,</span> <span class="n">rightNucleotide</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span>
<span class="c">62. </span>
<span class="c">63. </span>        <span class="c1"># Print the row.</span>
<span class="c">64. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">ROWS</span><span class="p">[</span><span class="n">rowIndex</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">leftNucleotide</span><span class="p">,</span> <span class="n">rightNucleotide</span><span class="p">))</span>
<span class="c">65. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>  <span class="c1"># Add a slight pause.</span>
<span class="c">66. </span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="c">67. </span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>  <span class="c1"># When Ctrl-C is pressed, end the program.</span>
</pre></div>

<h2 id="calibre_link-112" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">rowIndex = rowIndex + 1</code> on line 42 to <code class="calibre22">rowIndex = rowIndex + 2</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">random.randint(1, 4)</code> on line 53 to <code class="calibre22">random.randint(1, 2)</code>?</li>
<li value="3" class="calibre8">What error message do you get if you set <code class="calibre22">PAUSE = 0.15</code> on line 9 to <code class="calibre22">PAUSE = -0.15</code>?</li>
</ol>
</section>
</div>








<a href="project20.html">Prev: Digital Stream</a> | <a href="project22.html">Next: Ducklings</a>
</body></html>