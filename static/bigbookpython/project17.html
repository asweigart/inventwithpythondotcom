<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Dice Math</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project16.html">Prev: Diamonds</a> | <a href="project18.html">Next: Dice Roller</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-94">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#17</span><br class="calibre14" />
<span class="chaptertitle">Dice Math</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">This math quiz program rolls two to six dice whose sides you must add up as quickly as possible. But this program operates as more than just automated flash cards; it draws the faces of the dice to random places on the screen. The ASCII-art aspect adds a fun twist while you practice arithmetic.</p>
<h2 id="calibre_link-95" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">dicemath.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Dice Math, by Al Sweigart al@inventwithpython.com

Add up the sides of all the dice displayed on the screen. You have
30 seconds to answer as many as possible. You get 4 points for each
correct answer and lose 1 point for each incorrect answer.

Press Enter to begin...
                                     +-------+
                                     | O   O |
                                     |   O   |
                                     | O   O |
                                     +-------+


                                  +-------+
            +-------+             | O   O |  +-------+
            |     O |             |       |  | O     |
            |       |             | O   O |  |       |
            | O     |             +-------+  |     O |
            +-------+                        +-------+
Enter the sum: <b class="calibre6">13</b>
<var class="calibre27">--snip--</var></code></pre>
<h2 id="calibre_link-96" class="calibre5">How It Works</h2>
<p class="bodyfirst">The dice on the screen are represented by a dictionary stored in the <code class="calibre22">canvas</code> variable. In Python, tuples are similar to lists, but their contents cannot be changed. The keys to this dictionary are <code class="calibre22">(x, y)</code> tuples marking the position of a die’s top left corner, while the values are one of the “dice tuples” in <code class="calibre22">ALL_DICE</code>. You can see in lines 28 to 80 that each dice tuple contains a list of strings, which graphically represents one possible die face, and an integer of how many pips are on the die face. The program uses this information to display the dice and calculate their sum total.</p>
<p class="calibre19">Lines 174 to 177 render the data in the <code class="calibre22">canvas</code> dictionary on the screen in a manner similar to how Project 13, “Conway’s Game of Life,” renders cells on the screen.</p>
<div class="highlight"><pre><span></span>
<span class="c">  1. </span><span class="sd">&quot;&quot;&quot;Dice Math, by Al Sweigart al@inventwithpython.com</span>
<span class="c">  2. </span><span class="sd">A flash card addition game where you sum the total on random dice rolls.</span>
<span class="c">  3. </span><span class="sd">View this code at https://nostarch.com/big-book-small-python-projects</span>
<span class="c">  4. </span><span class="sd">Tags: large, artistic, game, math&quot;&quot;&quot;</span>
<span class="c">  5. </span>
<span class="c">  6. </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span>
<span class="c">  7. </span>
<span class="c">  8. </span><span class="c1"># Set up the constants:</span>
<span class="c">  9. </span><span class="n">DICE_WIDTH</span> <span class="o">=</span> <span class="mi">9</span>
<span class="c"> 10. </span><span class="n">DICE_HEIGHT</span> <span class="o">=</span> <span class="mi">5</span>
<span class="c"> 11. </span><span class="n">CANVAS_WIDTH</span> <span class="o">=</span> <span class="mi">79</span>
<span class="c"> 12. </span><span class="n">CANVAS_HEIGHT</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">-</span> <span class="mi">3</span>  <span class="c1"># -3 for room to enter the sum at the bottom.</span>
<span class="c"> 13. </span>
<span class="c"> 14. </span><span class="c1"># The duration is in seconds:</span>
<span class="c"> 15. </span><span class="n">QUIZ_DURATION</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># (!) Try changing this to 10 or 60.</span>
<span class="c"> 16. </span><span class="n">MIN_DICE</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># (!) Try changing this to 1 or 5.</span>
<span class="c"> 17. </span><span class="n">MAX_DICE</span> <span class="o">=</span> <span class="mi">6</span>  <span class="c1"># (!) Try changing this to 14.</span>
<span class="c"> 18. </span>
<span class="c"> 19. </span><span class="c1"># (!) Try changing these to different numbers:</span>
<span class="c"> 20. </span><span class="n">REWARD</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># (!) Points awarded for correct answers.</span>
<span class="c"> 21. </span><span class="n">PENALTY</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># (!) Points removed for incorrect answers.</span>
<span class="c"> 22. </span><span class="c1"># (!) Try setting PENALTY to a negative number to give points for</span>
<span class="c"> 23. </span><span class="c1"># wrong answers!</span>
<span class="c"> 24. </span>
<span class="c"> 25. </span><span class="c1"># The program hangs if all of the dice can&#39;t fit on the screen:</span>
<span class="c"> 26. </span><span class="k">assert</span> <span class="n">MAX_DICE</span> <span class="o">&lt;=</span> <span class="mi">14</span>
<span class="c"> 27. </span>
<span class="c"> 28. </span><span class="n">D1</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 29. </span>       <span class="s1">&#39;|       |&#39;</span><span class="p">,</span>
<span class="c"> 30. </span>       <span class="s1">&#39;|   O   |&#39;</span><span class="p">,</span>
<span class="c"> 31. </span>       <span class="s1">&#39;|       |&#39;</span><span class="p">,</span>
<span class="c"> 32. </span>       <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="c"> 33. </span>
<span class="c"> 34. </span><span class="n">D2a</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 35. </span>        <span class="s1">&#39;| O     |&#39;</span><span class="p">,</span>
<span class="c"> 36. </span>        <span class="s1">&#39;|       |&#39;</span><span class="p">,</span>
<span class="c"> 37. </span>        <span class="s1">&#39;|     O |&#39;</span><span class="p">,</span>
<span class="c"> 38. </span>        <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="c"> 39. </span>
<span class="c"> 40. </span><span class="n">D2b</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 41. </span>        <span class="s1">&#39;|     O |&#39;</span><span class="p">,</span>
<span class="c"> 42. </span>        <span class="s1">&#39;|       |&#39;</span><span class="p">,</span>
<span class="c"> 43. </span>        <span class="s1">&#39;| O     |&#39;</span><span class="p">,</span>
<span class="c"> 44. </span>        <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="c"> 45. </span>
<span class="c"> 46. </span><span class="n">D3a</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 47. </span>        <span class="s1">&#39;| O     |&#39;</span><span class="p">,</span>
<span class="c"> 48. </span>        <span class="s1">&#39;|   O   |&#39;</span><span class="p">,</span>
<span class="c"> 49. </span>        <span class="s1">&#39;|     O |&#39;</span><span class="p">,</span>
<span class="c"> 50. </span>        <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="c"> 51. </span>
<span class="c"> 52. </span><span class="n">D3b</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 53. </span>        <span class="s1">&#39;|     O |&#39;</span><span class="p">,</span>
<span class="c"> 54. </span>        <span class="s1">&#39;|   O   |&#39;</span><span class="p">,</span>
<span class="c"> 55. </span>        <span class="s1">&#39;| O     |&#39;</span><span class="p">,</span>
<span class="c"> 56. </span>        <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="c"> 57. </span>
<span class="c"> 58. </span><span class="n">D4</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 59. </span>       <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 60. </span>       <span class="s1">&#39;|       |&#39;</span><span class="p">,</span>
<span class="c"> 61. </span>       <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 62. </span>       <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
<span class="c"> 63. </span>
<span class="c"> 64. </span><span class="n">D5</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 65. </span>       <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 66. </span>       <span class="s1">&#39;|   O   |&#39;</span><span class="p">,</span>
<span class="c"> 67. </span>       <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 68. </span>       <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="c"> 69. </span>
<span class="c"> 70. </span><span class="n">D6a</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 71. </span>        <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 72. </span>        <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 73. </span>        <span class="s1">&#39;| O   O |&#39;</span><span class="p">,</span>
<span class="c"> 74. </span>        <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">6</span><span class="p">)</span>
<span class="c"> 75. </span>
<span class="c"> 76. </span><span class="n">D6b</span> <span class="o">=</span> <span class="p">([</span><span class="s1">&#39;+-------+&#39;</span><span class="p">,</span>
<span class="c"> 77. </span>        <span class="s1">&#39;| O O O |&#39;</span><span class="p">,</span>
<span class="c"> 78. </span>        <span class="s1">&#39;|       |&#39;</span><span class="p">,</span>
<span class="c"> 79. </span>        <span class="s1">&#39;| O O O |&#39;</span><span class="p">,</span>
<span class="c"> 80. </span>        <span class="s1">&#39;+-------+&#39;</span><span class="p">],</span> <span class="mi">6</span><span class="p">)</span>
<span class="c"> 81. </span>
<span class="c"> 82. </span><span class="n">ALL_DICE</span> <span class="o">=</span> <span class="p">[</span><span class="n">D1</span><span class="p">,</span> <span class="n">D2a</span><span class="p">,</span> <span class="n">D2b</span><span class="p">,</span> <span class="n">D3a</span><span class="p">,</span> <span class="n">D3b</span><span class="p">,</span> <span class="n">D4</span><span class="p">,</span> <span class="n">D5</span><span class="p">,</span> <span class="n">D6a</span><span class="p">,</span> <span class="n">D6b</span><span class="p">]</span>
<span class="c"> 83. </span>
<span class="c"> 84. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;Dice Math, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 85. </span>
<span class="c"> 86. </span><span class="s1">Add up the sides of all the dice displayed on the screen. You have</span>
<span class="c"> 87. </span><span class="si">{}</span><span class="s1"> seconds to answer as many as possible. You get </span><span class="si">{}</span><span class="s1"> points for each</span>
<span class="c"> 88. </span><span class="s1">correct answer and lose </span><span class="si">{}</span><span class="s1"> point for each incorrect answer.</span>
<span class="c"> 89. </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">QUIZ_DURATION</span><span class="p">,</span> <span class="n">REWARD</span><span class="p">,</span> <span class="n">PENALTY</span><span class="p">))</span>
<span class="c"> 90. </span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to begin...&#39;</span><span class="p">)</span>
<span class="c"> 91. </span>
<span class="c"> 92. </span><span class="c1"># Keep track of how many answers were correct and incorrect:</span>
<span class="c"> 93. </span><span class="n">correctAnswers</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 94. </span><span class="n">incorrectAnswers</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 95. </span><span class="n">startTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c"> 96. </span><span class="k">while</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">startTime</span> <span class="o">+</span> <span class="n">QUIZ_DURATION</span><span class="p">:</span>  <span class="c1"># Main game loop.</span>
<span class="c"> 97. </span>    <span class="c1"># Come up with the dice to display:</span>
<span class="c"> 98. </span>    <span class="n">sumAnswer</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 99. </span>    <span class="n">diceFaces</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c">100. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">MIN_DICE</span><span class="p">,</span> <span class="n">MAX_DICE</span><span class="p">)):</span>
<span class="c">101. </span>        <span class="n">die</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ALL_DICE</span><span class="p">)</span>
<span class="c">102. </span>        <span class="c1"># die[0] contains the list of strings of the die face:</span>
<span class="c">103. </span>        <span class="n">diceFaces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">die</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c">104. </span>        <span class="c1"># die[1] contains the integer number of pips on the face:</span>
<span class="c">105. </span>        <span class="n">sumAnswer</span> <span class="o">+=</span> <span class="n">die</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c">106. </span>
<span class="c">107. </span>    <span class="c1"># Contains (x, y) tuples of the top-left corner of each die.</span>
<span class="c">108. </span>    <span class="n">topLeftDiceCorners</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c">109. </span>
<span class="c">110. </span>    <span class="c1"># Figure out where dice should go:</span>
<span class="c">111. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">diceFaces</span><span class="p">)):</span>
<span class="c">112. </span>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">113. </span>            <span class="c1"># Find a random place on the canvas to put the die:</span>
<span class="c">114. </span>            <span class="n">left</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">CANVAS_WIDTH</span>  <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">DICE_WIDTH</span><span class="p">)</span>
<span class="c">115. </span>            <span class="n">top</span>  <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">CANVAS_HEIGHT</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">DICE_HEIGHT</span><span class="p">)</span>
<span class="c">116. </span>
<span class="c">117. </span>            <span class="c1"># Get the x, y coordinates for all four corners:</span>
<span class="c">118. </span>            <span class="c1">#      left</span>
<span class="c">119. </span>            <span class="c1">#      v</span>
<span class="c">120. </span>            <span class="c1">#top &gt; +-------+ ^</span>
<span class="c">121. </span>            <span class="c1">#      | O     | |</span>
<span class="c">122. </span>            <span class="c1">#      |   O   | DICE_HEIGHT (5)</span>
<span class="c">123. </span>            <span class="c1">#      |     O | |</span>
<span class="c">124. </span>            <span class="c1">#      +-------+ v</span>
<span class="c">125. </span>            <span class="c1">#      &lt;-------&gt;</span>
<span class="c">126. </span>            <span class="c1">#      DICE_WIDTH (9)</span>
<span class="c">127. </span>            <span class="n">topLeftX</span> <span class="o">=</span> <span class="n">left</span>
<span class="c">128. </span>            <span class="n">topLeftY</span> <span class="o">=</span> <span class="n">top</span>
<span class="c">129. </span>            <span class="n">topRightX</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="n">DICE_WIDTH</span>
<span class="c">130. </span>            <span class="n">topRightY</span> <span class="o">=</span> <span class="n">top</span>
<span class="c">131. </span>            <span class="n">bottomLeftX</span> <span class="o">=</span> <span class="n">left</span>
<span class="c">132. </span>            <span class="n">bottomLeftY</span> <span class="o">=</span> <span class="n">top</span> <span class="o">+</span> <span class="n">DICE_HEIGHT</span>
<span class="c">133. </span>            <span class="n">bottomRightX</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="n">DICE_WIDTH</span>
<span class="c">134. </span>            <span class="n">bottomRightY</span> <span class="o">=</span> <span class="n">top</span> <span class="o">+</span> <span class="n">DICE_HEIGHT</span>
<span class="c">135. </span>
<span class="c">136. </span>            <span class="c1"># Check if this die overlaps with previous dice.</span>
<span class="c">137. </span>            <span class="n">overlaps</span> <span class="o">=</span> <span class="kc">False</span>
<span class="c">138. </span>            <span class="k">for</span> <span class="n">prevDieLeft</span><span class="p">,</span> <span class="n">prevDieTop</span> <span class="ow">in</span> <span class="n">topLeftDiceCorners</span><span class="p">:</span>
<span class="c">139. </span>                <span class="n">prevDieRight</span> <span class="o">=</span> <span class="n">prevDieLeft</span> <span class="o">+</span> <span class="n">DICE_WIDTH</span>
<span class="c">140. </span>                <span class="n">prevDieBottom</span> <span class="o">=</span> <span class="n">prevDieTop</span> <span class="o">+</span> <span class="n">DICE_HEIGHT</span>
<span class="c">141. </span>                <span class="c1"># Check each corner of this die to see if it is inside</span>
<span class="c">142. </span>                <span class="c1"># of the area the previous die:</span>
<span class="c">143. </span>                <span class="k">for</span> <span class="n">cornerX</span><span class="p">,</span> <span class="n">cornerY</span> <span class="ow">in</span> <span class="p">((</span><span class="n">topLeftX</span><span class="p">,</span> <span class="n">topLeftY</span><span class="p">),</span>
<span class="c">144. </span>                                         <span class="p">(</span><span class="n">topRightX</span><span class="p">,</span> <span class="n">topRightY</span><span class="p">),</span>
<span class="c">145. </span>                                         <span class="p">(</span><span class="n">bottomLeftX</span><span class="p">,</span> <span class="n">bottomLeftY</span><span class="p">),</span>
<span class="c">146. </span>                                         <span class="p">(</span><span class="n">bottomRightX</span><span class="p">,</span> <span class="n">bottomRightY</span><span class="p">)):</span>
<span class="c">147. </span>                    <span class="k">if</span> <span class="p">(</span><span class="n">prevDieLeft</span> <span class="o">&lt;=</span> <span class="n">cornerX</span> <span class="o">&lt;</span> <span class="n">prevDieRight</span>
<span class="c">148. </span>                        <span class="ow">and</span> <span class="n">prevDieTop</span> <span class="o">&lt;=</span> <span class="n">cornerY</span> <span class="o">&lt;</span> <span class="n">prevDieBottom</span><span class="p">):</span>
<span class="c">149. </span>                            <span class="n">overlaps</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c">150. </span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">overlaps</span><span class="p">:</span>
<span class="c">151. </span>                <span class="c1"># It doesn&#39;t overlap, so we can put it here:</span>
<span class="c">152. </span>                <span class="n">topLeftDiceCorners</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">))</span>
<span class="c">153. </span>                <span class="k">break</span>
<span class="c">154. </span>
<span class="c">155. </span>    <span class="c1"># Draw the dice on the canvas:</span>
<span class="c">156. </span>
<span class="c">157. </span>    <span class="c1"># Keys are (x, y) tuples of ints, values the character at that</span>
<span class="c">158. </span>    <span class="c1"># position on the canvas:</span>
<span class="c">159. </span>    <span class="n">canvas</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c">160. </span>    <span class="c1"># Loop over each die:</span>
<span class="c">161. </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">dieLeft</span><span class="p">,</span> <span class="n">dieTop</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">topLeftDiceCorners</span><span class="p">):</span>
<span class="c">162. </span>        <span class="c1"># Loop over each character in the die&#39;s face:</span>
<span class="c">163. </span>        <span class="n">dieFace</span> <span class="o">=</span> <span class="n">diceFaces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="c">164. </span>        <span class="k">for</span> <span class="n">dx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">DICE_WIDTH</span><span class="p">):</span>
<span class="c">165. </span>            <span class="k">for</span> <span class="n">dy</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">DICE_HEIGHT</span><span class="p">):</span>
<span class="c">166. </span>                <span class="c1"># Copy this character to the correct place on the canvas:</span>
<span class="c">167. </span>                <span class="n">canvasX</span> <span class="o">=</span> <span class="n">dieLeft</span> <span class="o">+</span> <span class="n">dx</span>
<span class="c">168. </span>                <span class="n">canvasY</span> <span class="o">=</span> <span class="n">dieTop</span> <span class="o">+</span> <span class="n">dy</span>
<span class="c">169. </span>                <span class="c1"># Note that in dieFace, a list of strings, the x and y</span>
<span class="c">170. </span>                <span class="c1"># are swapped:</span>
<span class="c">171. </span>                <span class="n">canvas</span><span class="p">[(</span><span class="n">canvasX</span><span class="p">,</span> <span class="n">canvasY</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dieFace</span><span class="p">[</span><span class="n">dy</span><span class="p">][</span><span class="n">dx</span><span class="p">]</span>
<span class="c">172. </span>
<span class="c">173. </span>    <span class="c1"># Display the canvas on the screen:</span>
<span class="c">174. </span>    <span class="k">for</span> <span class="n">cy</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">CANVAS_HEIGHT</span><span class="p">):</span>
<span class="c">175. </span>        <span class="k">for</span> <span class="n">cx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">CANVAS_WIDTH</span><span class="p">):</span>
<span class="c">176. </span>            <span class="nb">print</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">cx</span><span class="p">,</span> <span class="n">cy</span><span class="p">),</span> <span class="s1">&#39; &#39;</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">177. </span>        <span class="nb">print</span><span class="p">()</span>  <span class="c1"># Print a newline.</span>
<span class="c">178. </span>
<span class="c">179. </span>    <span class="c1"># Let the player enter their answer:</span>
<span class="c">180. </span>    <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter the sum: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="c">181. </span>    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">isdecimal</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">==</span> <span class="n">sumAnswer</span><span class="p">:</span>
<span class="c">182. </span>        <span class="n">correctAnswers</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">183. </span>    <span class="k">else</span><span class="p">:</span>
<span class="c">184. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Incorrect, the answer is&#39;</span><span class="p">,</span> <span class="n">sumAnswer</span><span class="p">)</span>
<span class="c">185. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c">186. </span>        <span class="n">incorrectAnswers</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">187. </span>
<span class="c">188. </span><span class="c1"># Display the final score:</span>
<span class="c">189. </span><span class="n">score</span> <span class="o">=</span> <span class="p">(</span><span class="n">correctAnswers</span> <span class="o">*</span> <span class="n">REWARD</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">incorrectAnswers</span> <span class="o">*</span> <span class="n">PENALTY</span><span class="p">)</span>
<span class="c">190. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct:  &#39;</span><span class="p">,</span> <span class="n">correctAnswers</span><span class="p">)</span>
<span class="c">191. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Incorrect:&#39;</span><span class="p">,</span> <span class="n">incorrectAnswers</span><span class="p">)</span>
<span class="c">192. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Score:    &#39;</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. The comments marked with <code class="calibre22">(!)</code> have suggestions for small changes you can make. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Redesign the ASCII-art dice faces.</li>
<li class="calibre8">Add dice faces with seven, eight, or nine pips.</li>
</ul>
<h2 id="calibre_link-97" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change line 82 to <code class="calibre22">ALL_DICE = [D1]</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">get((cx, cy), ' ')</code> on line 176 to <code class="calibre22">get((cx, cy), '.')</code>?</li>
<li value="3" class="calibre8">What happens if you change <code class="calibre22">correctAnswers += 1</code> on line 182 to <code class="calibre22">correctAnswers += 0</code>?</li>
<li value="4" class="calibre8">What error message do you get if you delete or comment out <code class="calibre22">correctAnswers = 0</code> on line 93?</li>
</ol>
</section>
</div>








<a href="project16.html">Prev: Diamonds</a> | <a href="project18.html">Next: Dice Roller</a>
</body></html>