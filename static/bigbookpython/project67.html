<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Sine Message</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project66.html">Prev: Simple Substitution Cipher</a> | <a href="project68.html">Next: Sliding Tile Puzzle</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-279">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#67</span><br class="calibre14" />
<span class="chaptertitle">Sine Message</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">This program displays a message of the user’s choice in a wavy pattern as the text scrolls up. It accomplishes this effect with <code class="calibre17">math.sin()</code>, which implements the trigonometric sine wave function. But even if you don’t understand the math, this program is rather short and easy to copy.</p>
<h2 id="calibre_link-280" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">sinemessage.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Sine Message, by Al Sweigart al@inventwithpython.com
(Press Ctrl-C to quit.)

What message do you want to display? (Max 39 chars.)
&gt; I &lt;3 Programming!
                                 I &lt;3 Programming!
                                         I &lt;3 Programming!
                                                I &lt;3 Programming!
                                                       I &lt;3 Programming!
                                                            I &lt;3 Programming!
                                                                I &lt;3 Programming!
                                                                 I &lt;3 Programming!
                                                                 I &lt;3 Programming!
                                                               I &lt;3 Programming!
                                                          I &lt;3 Programming!
                                                    I &lt;3 Programming!
                                             I &lt;3 Programming!
                                     I &lt;3 Programming!
                             I &lt;3 Programming!
                     I &lt;3 Programming!
              I &lt;3 Programming!
        I &lt;3 Programming!
   I &lt;3 Programming!
I &lt;3 Programming!
I &lt;3 Programming!
 I &lt;3 Programming!
    I &lt;3 Programming!
         I &lt;3 Programming!
<var class="calibre27">--snip--</var></code></pre>
<h2 id="calibre_link-281" class="calibre5">How It Works</h2>
<p class="bodyfirst">The <code class="calibre22">math.sin()</code> function in Python’s <code class="calibre22">math</code> module takes an argument, which we’ll call <em class="calibre9">x</em>, and returns another number called the <em class="calibre9">sine of x</em>. Several mathematical applications use the sine function; in our program, its purpose is merely to create a neat wave effect. We pass a variable named <code class="calibre22">step</code> to <code class="calibre22">math.sin()</code>. This variable starts at <code class="calibre22">0</code> and increases by <code class="calibre22">0.25</code> on each iteration of the main program loop.</p>
<p class="calibre19">We’ll use the return value of <code class="calibre22">math.sin()</code> to figure out how many spaces of padding we should print on either side of the user’s message. Since <code class="calibre22">math.sin()</code> returns a floating point number between <code class="calibre22">-1.0</code> and <code class="calibre22">1.0</code>, but the minimum amount of padding we want is zero, not a negative value, line 31 adds <code class="calibre22">1</code> to the return value of <code class="calibre22">math.sin()</code>, making the effective range <code class="calibre22">0.0</code> to <code class="calibre22">2.0</code>. We’ll certainly need more than zero to two spaces, so line 31 multiplies this number by a variable named <code class="calibre22">multiplier</code> to increase the amount of padding. The product of this multiplication is the number of spaces of padding to add to the left side before printing the user’s message.</p>
<p class="calibre19">The result is the waving message animation you see when you run the program.</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;Sine Message, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 2. </span><span class="sd">Create a sine-wavy message.</span>
<span class="c"> 3. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c"> 4. </span><span class="sd">Tags: tiny, artistic&quot;&quot;&quot;</span>
<span class="c"> 5. </span>
<span class="c"> 6. </span><span class="kn">import</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">shutil</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span>
<span class="c"> 7. </span>
<span class="c"> 8. </span><span class="c1"># Get the size of the terminal window:</span>
<span class="c"> 9. </span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">get_terminal_size</span><span class="p">()</span>
<span class="c">10. </span><span class="c1"># We can&#39;t print to the last column on Windows without it adding a</span>
<span class="c">11. </span><span class="c1"># newline automatically, so reduce the width by one:</span>
<span class="c">12. </span><span class="n">WIDTH</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="c">13. </span>
<span class="c">14. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sine Message, by Al Sweigart al@inventwithpython.com&#39;</span><span class="p">)</span>
<span class="c">15. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(Press Ctrl-C to quit.)&#39;</span><span class="p">)</span>
<span class="c">16. </span><span class="nb">print</span><span class="p">()</span>
<span class="c">17. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What message do you want to display? (Max&#39;</span><span class="p">,</span> <span class="n">WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;chars.)&#39;</span><span class="p">)</span>
<span class="c">18. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">19. </span>    <span class="n">message</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span>
<span class="c">20. </span>    <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">):</span>
<span class="c">21. </span>        <span class="k">break</span>
<span class="c">22. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Message must be 1 to&#39;</span><span class="p">,</span> <span class="n">WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;characters long.&#39;</span><span class="p">)</span>
<span class="c">23. </span>
<span class="c">24. </span>
<span class="c">25. </span><span class="n">step</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># The &quot;step&quot; determines how far into the sine wave we are.</span>
<span class="c">26. </span><span class="c1"># Sine goes from -1.0 to 1.0, so we need to change it by a multiplier:</span>
<span class="c">27. </span><span class="n">multiplier</span> <span class="o">=</span> <span class="p">(</span><span class="n">WIDTH</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
<span class="c">28. </span><span class="k">try</span><span class="p">:</span>
<span class="c">29. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Main program loop.</span>
<span class="c">30. </span>        <span class="n">sinOfStep</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
<span class="c">31. </span>        <span class="n">padding</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="nb">int</span><span class="p">((</span><span class="n">sinOfStep</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">)</span>
<span class="c">32. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">message</span><span class="p">)</span>
<span class="c">33. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="c">34. </span>        <span class="n">step</span> <span class="o">+=</span> <span class="mf">0.25</span>  <span class="c1"># (!) Try changing this to 0.1 or 0.5.</span>
<span class="c">35. </span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="c">36. </span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>  <span class="c1"># When Ctrl-C is pressed, end the program.</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. The comments marked with <code class="calibre22">(!)</code> have suggestions for small changes you can make.</p>
<h2 id="calibre_link-282" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">math.sin(step)</code> on line 30 to <code class="calibre22">math.cos(step)</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">math.sin(step)</code> on line 30 to <code class="calibre22">math.sin(0)</code>?</li>
</ol>
</section>
</div>








<a href="project66.html">Prev: Simple Substitution Cipher</a> | <a href="project68.html">Next: Sliding Tile Puzzle</a>
</body></html>