<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Three-Card Monte</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project74.html">Prev: Text To Speech Talker</a> | <a href="project76.html">Next: Tic-Tac-Toe</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-310">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#75</span><br class="calibre14" />
<span class="chaptertitle">Three-Card Monte</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">Three-card monte is a common scam played on gullible tourists and other easy marks. Three playing cards, one of which is the “red lady” Queen of Hearts, are put facedown on a cardboard box. The dealer quickly rearranges the cards and then asks the mark to pick the Queen of Hearts. But the dealer can use all sorts of tricks to hide the card or otherwise cheat, guaranteeing that the victim never wins. It’s also common for the dealer to have shills in the crowd who secretly work with the dealer but pretend to win the game (to make the victim think they too could win) or purposefully lose badly (to make the victim think they could do much better).</p>
<p class="calibre18">This program shows the three cards and then quickly describes a series of swaps. At the end, it clears the screen, and the player must pick a card. Can you keep up with the “red lady”? For the authentic three-card monte experience, you can enable the cheat feature, which causes the player to always lose, even if they select the correct card.</p>
<h2 id="calibre_link-311" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">threecardmonte.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Three-Card Monte, by Al Sweigart al@inventwithpython.com

Find the red lady (the Queen of Hearts)! Keep an eye on how
the cards move.

Here are the cards:
 ___   ___   ___
|J  | |Q  | |8  |
| ♦ | | ♥ | | ♣ |
|__J| |__Q| |__8|
Press Enter when you are ready to begin...
swapping left and middle...
swapping right and middle...
swapping middle and left...
swapping right and left...
swapping left and middle...
<var class="calibre27">--snip--</var>
<var class="calibre27">&lt;screen clears&gt;</var>
Which card has the Queen of Hearts? (LEFT MIDDLE RIGHT)
&gt; <b class="calibre6">middle</b>
 ___   ___   ___
|Q  | |8  | |J  |
| ♥ | | ♣ | | ♦ |
|__Q| |__8| |__J|
You lost!
Thanks for playing, sucker!</code></pre>
<h2 id="calibre_link-312" class="calibre5">How It Works</h2>
<p class="bodyfirst">In this program, we use a <code class="calibre22">(</code><var class="calibre26">rank</var><code class="calibre22">, </code><var class="calibre26">suit</var><code class="calibre22">)</code> tuple to represent a playing card. The rank is a string representing the card number, such as <code class="calibre22">'2'</code>, <code class="calibre22">'10'</code>, <code class="calibre22">'Q'</code>, or <code class="calibre22">'K'</code>, and the suit is a string of either a heart, club, spade, or diamond emoji. Since you cannot enter the emoji character using your keyboard, we’ll use the <code class="calibre22">chr()</code> function calls on lines 16 to 19 to produce them. The tuple <code class="calibre22">('9', '♦')</code> represents the nine of diamonds.</p>
<p class="calibre19">Instead of printing these tuples directly, the <code class="calibre22">displayCards()</code> function on lines 28 to 43 interprets them and displays ASCII-art representations on the screen, like in Project 4, “Blackjack.” The <code class="calibre22">cards</code> argument for this function is a list of the playing card tuples, allowing multiple cards to be displayed in a row.</p>
<div class="highlight"><pre><span></span>
<span class="c">  1. </span><span class="sd">&quot;&quot;&quot;Three-Card Monte, by Al Sweigart al@inventwithpython.com</span>
<span class="c">  2. </span><span class="sd">Find the Queen of Hearts after cards have been swapped around.</span>
<span class="c">  3. </span><span class="sd">(In the real-life version, the scammer palms the Queen of Hearts so you</span>
<span class="c">  4. </span><span class="sd">always lose.)</span>
<span class="c">  5. </span><span class="sd">More info at https://en.wikipedia.org/wiki/Three-card_Monte</span>
<span class="c">  6. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c">  7. </span><span class="sd">Tags: large, card game, game&quot;&quot;&quot;</span>
<span class="c">  8. </span>
<span class="c">  9. </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span>
<span class="c"> 10. </span>
<span class="c"> 11. </span><span class="c1"># Set up the constants:</span>
<span class="c"> 12. </span><span class="n">NUM_SWAPS</span> <span class="o">=</span> <span class="mi">16</span>   <span class="c1"># (!) Try changing this to 30 or 100.</span>
<span class="c"> 13. </span><span class="n">DELAY</span>     <span class="o">=</span> <span class="mf">0.8</span>  <span class="c1"># (!) Try changing this 2.0 or 0.0.</span>
<span class="c"> 14. </span>
<span class="c"> 15. </span><span class="c1"># The card suit characters:</span>
<span class="c"> 16. </span><span class="n">HEARTS</span>   <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">9829</span><span class="p">)</span>  <span class="c1"># Character 9829 is &#39;♥&#39;</span>
<span class="c"> 17. </span><span class="n">DIAMONDS</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">9830</span><span class="p">)</span>  <span class="c1"># Character 9830 is &#39;♦&#39;</span>
<span class="c"> 18. </span><span class="n">SPADES</span>   <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">9824</span><span class="p">)</span>  <span class="c1"># Character 9824 is &#39;♠&#39;</span>
<span class="c"> 19. </span><span class="n">CLUBS</span>    <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">9827</span><span class="p">)</span>  <span class="c1"># Character 9827 is &#39;♣&#39;</span>
<span class="c"> 20. </span><span class="c1"># A list of chr() codes is at https://inventwithpython.com/chr</span>
<span class="c"> 21. </span>
<span class="c"> 22. </span><span class="c1"># The indexes of a 3-card list:</span>
<span class="c"> 23. </span><span class="n">LEFT</span>   <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 24. </span><span class="n">MIDDLE</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c"> 25. </span><span class="n">RIGHT</span>  <span class="o">=</span> <span class="mi">2</span>
<span class="c"> 26. </span>
<span class="c"> 27. </span>
<span class="c"> 28. </span><span class="k">def</span> <span class="nf">displayCards</span><span class="p">(</span><span class="n">cards</span><span class="p">):</span>
<span class="c"> 29. </span>    <span class="sd">&quot;&quot;&quot;Display the cards in &quot;cards&quot;, which is a list of (rank, suit)</span>
<span class="c"> 30. </span><span class="sd">    tuples.&quot;&quot;&quot;</span>
<span class="c"> 31. </span>    <span class="n">rows</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>  <span class="c1"># Stores the text to display.</span>
<span class="c"> 32. </span>
<span class="c"> 33. </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">card</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cards</span><span class="p">):</span>
<span class="c"> 34. </span>        <span class="n">rank</span><span class="p">,</span> <span class="n">suit</span> <span class="o">=</span> <span class="n">card</span>  <span class="c1"># The card is a tuple data structure.</span>
<span class="c"> 35. </span>        <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39; ___  &#39;</span>  <span class="c1"># Print the top line of the card.</span>
<span class="c"> 36. </span>        <span class="n">rows</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;|</span><span class="si">{}</span><span class="s1"> | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rank</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="c"> 37. </span>        <span class="n">rows</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;| </span><span class="si">{}</span><span class="s1"> | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">suit</span><span class="p">)</span>
<span class="c"> 38. </span>        <span class="n">rows</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;|_</span><span class="si">{}</span><span class="s1">| &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rank</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">))</span>
<span class="c"> 39. </span>
<span class="c"> 40. </span>
<span class="c"> 41. </span>    <span class="c1"># Print each row on the screen:</span>
<span class="c"> 42. </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="c"> 43. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="c"> 44. </span>
<span class="c"> 45. </span>
<span class="c"> 46. </span><span class="k">def</span> <span class="nf">getRandomCard</span><span class="p">():</span>
<span class="c"> 47. </span>    <span class="sd">&quot;&quot;&quot;Returns a random card that is NOT the Queen of Hearts.&quot;&quot;&quot;</span>
<span class="c"> 48. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Make cards until you get a non-Queen of hearts.</span>
<span class="c"> 49. </span>        <span class="n">rank</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;23456789JQKA&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;10&#39;</span><span class="p">])</span>
<span class="c"> 50. </span>        <span class="n">suit</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">HEARTS</span><span class="p">,</span> <span class="n">DIAMONDS</span><span class="p">,</span> <span class="n">SPADES</span><span class="p">,</span> <span class="n">CLUBS</span><span class="p">])</span>
<span class="c"> 51. </span>
<span class="c"> 52. </span>        <span class="c1"># Return the card as long as it&#39;s not the Queen of Hearts:</span>
<span class="c"> 53. </span>        <span class="k">if</span> <span class="n">rank</span> <span class="o">!=</span> <span class="s1">&#39;Q&#39;</span> <span class="ow">and</span> <span class="n">suit</span> <span class="o">!=</span> <span class="n">HEARTS</span><span class="p">:</span>
<span class="c"> 54. </span>            <span class="k">return</span> <span class="p">(</span><span class="n">rank</span><span class="p">,</span> <span class="n">suit</span><span class="p">)</span>
<span class="c"> 55. </span>
<span class="c"> 56. </span>
<span class="c"> 57. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Three-Card Monte, by Al Sweigart al@inventwithpython.com&#39;</span><span class="p">)</span>
<span class="c"> 58. </span><span class="nb">print</span><span class="p">()</span>
<span class="c"> 59. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Find the red lady (the Queen of Hearts)! Keep an eye on how&#39;</span><span class="p">)</span>
<span class="c"> 60. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;the cards move.&#39;</span><span class="p">)</span>
<span class="c"> 61. </span><span class="nb">print</span><span class="p">()</span>
<span class="c"> 62. </span>
<span class="c"> 63. </span><span class="c1"># Show the original arrangement:</span>
<span class="c"> 64. </span><span class="n">cards</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="n">HEARTS</span><span class="p">),</span> <span class="n">getRandomCard</span><span class="p">(),</span> <span class="n">getRandomCard</span><span class="p">()]</span>
<span class="c"> 65. </span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">cards</span><span class="p">)</span>  <span class="c1"># Put the Queen of Hearts in a random place.</span>
<span class="c"> 66. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Here are the cards:&#39;</span><span class="p">)</span>
<span class="c"> 67. </span><span class="n">displayCards</span><span class="p">(</span><span class="n">cards</span><span class="p">)</span>
<span class="c"> 68. </span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter when you are ready to begin...&#39;</span><span class="p">)</span>
<span class="c"> 69. </span>
<span class="c"> 70. </span><span class="c1"># Print the swaps:</span>
<span class="c"> 71. </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUM_SWAPS</span><span class="p">):</span>
<span class="c"> 72. </span>    <span class="n">swap</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;l-m&#39;</span><span class="p">,</span> <span class="s1">&#39;m-r&#39;</span><span class="p">,</span> <span class="s1">&#39;l-r&#39;</span><span class="p">,</span> <span class="s1">&#39;m-l&#39;</span><span class="p">,</span> <span class="s1">&#39;r-m&#39;</span><span class="p">,</span> <span class="s1">&#39;r-l&#39;</span><span class="p">])</span>
<span class="c"> 73. </span>
<span class="c"> 74. </span>    <span class="k">if</span> <span class="n">swap</span> <span class="o">==</span> <span class="s1">&#39;l-m&#39;</span><span class="p">:</span>
<span class="c"> 75. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swapping left and middle...&#39;</span><span class="p">)</span>
<span class="c"> 76. </span>        <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">]</span>
<span class="c"> 77. </span>    <span class="k">elif</span> <span class="n">swap</span> <span class="o">==</span> <span class="s1">&#39;m-r&#39;</span><span class="p">:</span>
<span class="c"> 78. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swapping middle and right...&#39;</span><span class="p">)</span>
<span class="c"> 79. </span>        <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">]</span>
<span class="c"> 80. </span>    <span class="k">elif</span> <span class="n">swap</span> <span class="o">==</span> <span class="s1">&#39;l-r&#39;</span><span class="p">:</span>
<span class="c"> 81. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swapping left and right...&#39;</span><span class="p">)</span>
<span class="c"> 82. </span>        <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">]</span>
<span class="c"> 83. </span>    <span class="k">elif</span> <span class="n">swap</span> <span class="o">==</span> <span class="s1">&#39;m-l&#39;</span><span class="p">:</span>
<span class="c"> 84. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swapping middle and left...&#39;</span><span class="p">)</span>
<span class="c"> 85. </span>        <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">]</span>
<span class="c"> 86. </span>    <span class="k">elif</span> <span class="n">swap</span> <span class="o">==</span> <span class="s1">&#39;r-m&#39;</span><span class="p">:</span>
<span class="c"> 87. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swapping right and middle...&#39;</span><span class="p">)</span>
<span class="c"> 88. </span>        <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">MIDDLE</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">]</span>
<span class="c"> 89. </span>    <span class="k">elif</span> <span class="n">swap</span> <span class="o">==</span> <span class="s1">&#39;r-l&#39;</span><span class="p">:</span>
<span class="c"> 90. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swapping right and left...&#39;</span><span class="p">)</span>
<span class="c"> 91. </span>        <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">LEFT</span><span class="p">],</span> <span class="n">cards</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">]</span>
<span class="c"> 92. </span>
<span class="c"> 93. </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">DELAY</span><span class="p">)</span>
<span class="c"> 94. </span>
<span class="c"> 95. </span><span class="c1"># Print several new lines to hide the swaps.</span>
<span class="c"> 96. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
<span class="c"> 97. </span>
<span class="c"> 98. </span><span class="c1"># Ask the user to find the red lady:</span>
<span class="c"> 99. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking until LEFT, MIDDLE, or RIGHT is entered.</span>
<span class="c">100. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Which card has the Queen of Hearts? (LEFT MIDDLE RIGHT)&#39;</span><span class="p">)</span>
<span class="c">101. </span>    <span class="n">guess</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">102. </span>
<span class="c">103. </span>    <span class="c1"># Get the index in cards for the position that the player entered:</span>
<span class="c">104. </span>    <span class="k">if</span> <span class="n">guess</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;LEFT&#39;</span><span class="p">,</span> <span class="s1">&#39;MIDDLE&#39;</span><span class="p">,</span> <span class="s1">&#39;RIGHT&#39;</span><span class="p">]:</span>
<span class="c">105. </span>        <span class="k">if</span> <span class="n">guess</span> <span class="o">==</span> <span class="s1">&#39;LEFT&#39;</span><span class="p">:</span>
<span class="c">106. </span>            <span class="n">guessIndex</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">107. </span>        <span class="k">elif</span> <span class="n">guess</span> <span class="o">==</span> <span class="s1">&#39;MIDDLE&#39;</span><span class="p">:</span>
<span class="c">108. </span>            <span class="n">guessIndex</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c">109. </span>        <span class="k">elif</span> <span class="n">guess</span> <span class="o">==</span> <span class="s1">&#39;RIGHT&#39;</span><span class="p">:</span>
<span class="c">110. </span>            <span class="n">guessIndex</span> <span class="o">=</span> <span class="mi">2</span>
<span class="c">111. </span>        <span class="k">break</span>
<span class="c">112. </span>
<span class="c">113. </span><span class="c1"># (!) Uncomment this code to make the player always lose:</span>
<span class="c">114. </span><span class="c1">#if cards[guessIndex] == (&#39;Q&#39;, HEARTS):</span>
<span class="c">115. </span><span class="c1">#    # Player has won, so let&#39;s move the queen.</span>
<span class="c">116. </span><span class="c1">#    possibleNewIndexes = [0, 1, 2]</span>
<span class="c">117. </span><span class="c1">#    possibleNewIndexes.remove(guessIndex)  # Remove the queen&#39;s index.</span>
<span class="c">118. </span><span class="c1">#    newInd = random.choice(possibleNewIndexes)  # Choose a new index.</span>
<span class="c">119. </span><span class="c1">#    # Place the queen at the new index:</span>
<span class="c">120. </span><span class="c1">#    cards[guessIndex], cards[newInd] = cards[newInd], cards[guessIndex]</span>
<span class="c">121. </span>
<span class="c">122. </span><span class="n">displayCards</span><span class="p">(</span><span class="n">cards</span><span class="p">)</span>  <span class="c1"># Show all the cards.</span>
<span class="c">123. </span>
<span class="c">124. </span><span class="c1"># Check if the player won:</span>
<span class="c">125. </span><span class="k">if</span> <span class="n">cards</span><span class="p">[</span><span class="n">guessIndex</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="n">HEARTS</span><span class="p">):</span>
<span class="c">126. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You won!&#39;</span><span class="p">)</span>
<span class="c">127. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Thanks for playing!&#39;</span><span class="p">)</span>
<span class="c">128. </span><span class="k">else</span><span class="p">:</span>
<span class="c">129. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You lost!&#39;</span><span class="p">)</span>
<span class="c">130. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Thanks for playing, sucker!&#39;</span><span class="p">)</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. The comments marked with <code class="calibre22">(!)</code> have suggestions for small changes you can make. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Use the backspace-printing technique from Project 57, “Progress Bar,” to display each swap message briefly and then print <code class="calibre22">\b</code> characters to erase it before printing the next one.</li>
<li class="calibre8">Create a four-card monte game for added difficulty.</li>
</ul>
<h2 id="calibre_link-313" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">[('Q', HEARTS), getRandomCard(), getRandomCard()]</code> on line 64 to <code class="calibre22">[('Q', HEARTS), ('Q', HEARTS), ('Q', HEARTS)]</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">list('23456789JQKA')</code> on line 49 to <code class="calibre22">list('ABCDEFGHIJK')</code>?</li>
<li value="3" class="calibre8">What happens if you delete or comment out <code class="calibre22">time.sleep(DELAY)</code> on line 93?</li>
</ol>
</section>
</div>








<a href="project74.html">Prev: Text To Speech Talker</a> | <a href="project76.html">Next: Tic-Tac-Toe</a>
</body></html>