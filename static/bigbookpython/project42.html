<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Magic Fortune Ball</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project41.html">Prev: Lucky Stars</a> | <a href="project43.html">Next: Mancala</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-186">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#42</span><br class="calibre14" />
<span class="chaptertitle">Magic Fortune Ball</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">The Magic Fortune Ball can predict the future and answer your yes/no questions with 100 percent accuracy using the power of Python’s random number module. This program is similar to a Magic 8 Ball toy, except you don’t have to shake it. It also features a function for slowly printing text strings with spaces in between each character, giving the messages a spooky, mysterious effect.</p>
<p class="calibre18">Most of the code is dedicated to setting the eerie atmosphere. The program itself simply selects a message to display in response to a random number.</p>
<h2 id="calibre_link-187" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">magicfortuneball.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">M A G i C   F O R T U N E   B A L L ,   B Y   A L   S W E i G A R T

A S K   M E   Y O U R   Y E S / N O   Q U E S T i O N .

&gt; <b class="calibre6">Isn't fortune telling just a scam to trick money out of gullible people?</b>
L E T   M E   T H i N K   O N   T H i S . . .

. . . . . . . .

i   H A V E   A N   A N S W E R . . .

A F F i R M A T i V E</code></pre>
<h2 id="calibre_link-188" class="calibre5">How It Works</h2>
<p class="bodyfirst">The only thing the Magic Fortune Ball actually does is display a randomly chosen string. It completely ignores the user’s question. Sure, line 28 calls <code class="calibre22">input('&gt; ')</code>, but it doesn’t store the return value in any variable because the program doesn’t actually use this text. Letting users enter their questions gives them the sense that the program has an aura of clairvoyance.</p>
<p class="calibre19">The <code class="calibre22">slowSpacePrint()</code> function displays the uppercase text with any letter <var class="calibre26">I</var> in lowercase, making the message look unique. The function also inserts spaces between each character of the string and then displays them slowly, with pauses. A program doesn’t need to be sophisticated enough to predict the future to be fun!</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;Magic Fortune Ball, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 2. </span><span class="sd">Ask a yes/no question about your future. Inspired by the Magic 8 Ball.</span>
<span class="c"> 3. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c"> 4. </span><span class="sd">Tags: tiny, beginner, humor&quot;&quot;&quot;</span>
<span class="c"> 5. </span>
<span class="c"> 6. </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span>
<span class="c"> 7. </span>
<span class="c"> 8. </span>
<span class="c"> 9. </span><span class="k">def</span> <span class="nf">slowSpacePrint</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
<span class="c">10. </span>    <span class="sd">&quot;&quot;&quot;Slowly display text with spaces in between each letter and</span>
<span class="c">11. </span><span class="sd">    lowercase letter i&#39;s.&quot;&quot;&quot;</span>
<span class="c">12. </span>    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
<span class="c">13. </span>        <span class="k">if</span> <span class="n">character</span> <span class="o">==</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span>
<span class="c">14. </span>            <span class="c1"># I&#39;s are displayed in lowercase for style:</span>
<span class="c">15. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;i &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c">16. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c">17. </span>            <span class="c1"># All other characters are displayed normally:</span>
<span class="c">18. </span>            <span class="nb">print</span><span class="p">(</span><span class="n">character</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c">19. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
<span class="c">20. </span>    <span class="nb">print</span><span class="p">()</span>  <span class="c1"># Print two newlines at the end.</span>
<span class="c">21. </span>    <span class="nb">print</span><span class="p">()</span>
<span class="c">22. </span>
<span class="c">23. </span>
<span class="c">24. </span><span class="c1"># Prompt for a question:</span>
<span class="c">25. </span><span class="n">slowSpacePrint</span><span class="p">(</span><span class="s1">&#39;MAGIC FORTUNE BALL, BY AL SWEiGART&#39;</span><span class="p">)</span>
<span class="c">26. </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="c">27. </span><span class="n">slowSpacePrint</span><span class="p">(</span><span class="s1">&#39;ASK ME YOUR YES/NO QUESTION.&#39;</span><span class="p">)</span>
<span class="c">28. </span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span>
<span class="c">29. </span>
<span class="c">30. </span><span class="c1"># Display a brief reply:</span>
<span class="c">31. </span><span class="n">replies</span> <span class="o">=</span> <span class="p">[</span>
<span class="c">32. </span>    <span class="s1">&#39;LET ME THINK ON THIS...&#39;</span><span class="p">,</span>
<span class="c">33. </span>    <span class="s1">&#39;AN INTERESTING QUESTION...&#39;</span><span class="p">,</span>
<span class="c">34. </span>    <span class="s1">&#39;HMMM... ARE YOU SURE YOU WANT TO KNOW..?&#39;</span><span class="p">,</span>
<span class="c">35. </span>    <span class="s1">&#39;DO YOU THINK SOME THINGS ARE BEST LEFT UNKNOWN..?&#39;</span><span class="p">,</span>
<span class="c">36. </span>    <span class="s1">&#39;I MIGHT TELL YOU, BUT YOU MIGHT NOT LIKE THE ANSWER...&#39;</span><span class="p">,</span>
<span class="c">37. </span>    <span class="s1">&#39;YES... NO... MAYBE... I WILL THINK ON IT...&#39;</span><span class="p">,</span>
<span class="c">38. </span>    <span class="s1">&#39;AND WHAT WILL YOU DO WHEN YOU KNOW THE ANSWER? WE SHALL SEE...&#39;</span><span class="p">,</span>
<span class="c">39. </span>    <span class="s1">&#39;I SHALL CONSULT MY VISIONS...&#39;</span><span class="p">,</span>
<span class="c">40. </span>    <span class="s1">&#39;YOU MAY WANT TO SIT DOWN FOR THIS...&#39;</span><span class="p">,</span>
<span class="c">41. </span><span class="p">]</span>
<span class="c">42. </span><span class="n">slowSpacePrint</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">replies</span><span class="p">))</span>
<span class="c">43. </span>
<span class="c">44. </span><span class="c1"># Dramatic pause:</span>
<span class="c">45. </span><span class="n">slowSpacePrint</span><span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">*</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="mf">0.7</span><span class="p">)</span>
<span class="c">46. </span>
<span class="c">47. </span><span class="c1"># Give the answer:</span>
<span class="c">48. </span><span class="n">slowSpacePrint</span><span class="p">(</span><span class="s1">&#39;I HAVE AN ANSWER...&#39;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="c">49. </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c">50. </span><span class="n">answers</span> <span class="o">=</span> <span class="p">[</span>
<span class="c">51. </span>    <span class="s1">&#39;YES, FOR SURE&#39;</span><span class="p">,</span>
<span class="c">52. </span>    <span class="s1">&#39;MY ANSWER IS NO&#39;</span><span class="p">,</span>
<span class="c">53. </span>    <span class="s1">&#39;ASK ME LATER&#39;</span><span class="p">,</span>
<span class="c">54. </span>    <span class="s1">&#39;I AM PROGRAMMED TO SAY YES&#39;</span><span class="p">,</span>
<span class="c">55. </span>    <span class="s1">&#39;THE STARS SAY YES, BUT I SAY NO&#39;</span><span class="p">,</span>
<span class="c">56. </span>    <span class="s1">&#39;I DUNNO MAYBE&#39;</span><span class="p">,</span>
<span class="c">57. </span>    <span class="s1">&#39;FOCUS AND ASK ONCE MORE&#39;</span><span class="p">,</span>
<span class="c">58. </span>    <span class="s1">&#39;DOUBTFUL, VERY DOUBTFUL&#39;</span><span class="p">,</span>
<span class="c">59. </span>    <span class="s1">&#39;AFFIRMATIVE&#39;</span><span class="p">,</span>
<span class="c">60. </span>    <span class="s1">&#39;YES, THOUGH YOU MAY NOT LIKE IT&#39;</span><span class="p">,</span>
<span class="c">61. </span>    <span class="s1">&#39;NO, BUT YOU MAY WISH IT WAS SO&#39;</span><span class="p">,</span>
<span class="c">62. </span><span class="p">]</span>
<span class="c">63. </span><span class="n">slowSpacePrint</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">answers</span><span class="p">),</span> <span class="mf">0.05</span><span class="p">)</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Check that the player’s question ends in a question mark.</li>
<li class="calibre8">Add other answers the program can give.</li>
</ul>
<h2 id="calibre_link-189" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">random.randint(4, 12)</code> on line 45 to <code class="calibre22">random.randint(4, 9999)</code>?</li>
<li value="2" class="calibre8">What error do you get if you change <code class="calibre22">time.sleep(1)</code> on line 49 to <code class="calibre22">time.sleep(-1)</code>?</li>
</ol>
</section>
</div>








<a href="project41.html">Prev: Lucky Stars</a> | <a href="project43.html">Next: Mancala</a>
</body></html>