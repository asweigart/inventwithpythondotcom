<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Caesar Cipher</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project5.html">Prev: Bouncing DVD Logo</a> | <a href="project7.html">Next: Caesar Hacker</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-56">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#6</span><br class="calibre14" />
<span class="chaptertitle">Caesar Cipher</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">The Caesar cipher is an ancient encryption algorithm used by Julius Caesar. It encrypts letters by shifting them over by a certain number of places in the alphabet. We call the length of shift the <em class="calibre9">key</em>. For example, if the key is 3, then <em class="calibre9">A</em> becomes <em class="calibre9">D</em>, <em class="calibre9">B</em> becomes <em class="calibre9">E</em>, <em class="calibre9">C</em> becomes <em class="calibre9">F</em>, and so on. To decrypt the message, you must shift the encrypted letters in the opposite direction. This program lets the user encrypt and decrypt messages according to this algorithm.</p>
<p class="calibre18">In modern times, the Caesar cipher isn’t very sophisticated, but that makes it ideal for beginners. The program in Project 7, “Caesar Hacker,” can brute-force through all 26 possible keys to decrypt messages, even if you don’t know the original key. Also, if you encrypt the message with the key 13, the Caesar cipher becomes identical to Project 61, “ROT 13 Cipher.” Learn more about the Caesar cipher at <a href="https://en.wikipedia.org/wiki/Caesar_cipher" class="linkurl">https://en.wikipedia.org/wiki/Caesar_cipher</a>. If you’d like to learn about ciphers and code breaking in general, you can read my book <em class="calibre9">Cracking Codes with Python</em> (No Starch Press, 2018; <a href="https://nostarch.com/crackingcodes/" class="linkurl">https://nostarch.com/crackingcodes/</a>).</p>
<h2 id="calibre_link-57" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">caesarcipher.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Caesar Cipher, by Al Sweigart al@inventwithpython.com
Do you want to (e)ncrypt or (d)ecrypt?
&gt; <b class="calibre6">e</b>
Please enter the key (0 to 25) to use.
&gt; <b class="calibre6">4</b>
Enter the message to encrypt.
&gt; <b class="calibre6">Meet me by the rose bushes tonight.</b>
QIIX QI FC XLI VSWI FYWLIW XSRMKLX.
Full encrypted text copied to clipboard.

Caesar Cipher, by Al Sweigart al@inventwithpython.com
Do you want to (e)ncrypt or (d)ecrypt?
&gt; <b class="calibre6">d</b>
Please enter the key (0 to 26) to use.
&gt; <b class="calibre6">4</b>
Enter the message to decrypt.
&gt; <b class="calibre6">QIIX QI FC XLI VSWI FYWLIW XSRMKLX.</b>
MEET ME BY THE ROSE BUSHES TONIGHT.
Full decrypted text copied to clipboard.</code></pre>
<h2 id="calibre_link-58" class="calibre5">How It Works</h2>
<p class="bodyfirst">Like most cipher programs, the Caesar cipher works by translating characters into numbers, performing some math operations on those numbers, and translating the numbers back into text characters. In the context of ciphers, we call these text characters <em class="calibre9">symbols</em>. Symbols can include letters, numeric digits, and punctuation marks, each of which gets assigned a unique integer. In the case of the Caesar cipher program, the symbols are all letters, and their integers are their position in the <code class="calibre22">SYMBOLS</code> string: <code class="calibre22">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</code>.</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;Caesar Cipher, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 2. </span><span class="sd">The Caesar cipher is a shift cipher that uses addition and subtraction</span>
<span class="c"> 3. </span><span class="sd">to encrypt and decrypt letters.</span>
<span class="c"> 4. </span><span class="sd">More info at: https://en.wikipedia.org/wiki/Caesar_cipher</span>
<span class="c"> 5. </span><span class="sd">View this code at https://nostarch.com/big-book-small-python-projects</span>
<span class="c"> 6. </span><span class="sd">Tags: short, beginner, cryptography, math&quot;&quot;&quot;</span>
<span class="c"> 7. </span>
<span class="c"> 8. </span><span class="k">try</span><span class="p">:</span>
<span class="c"> 9. </span>    <span class="kn">import</span> <span class="nn">pyperclip</span>  <span class="c1"># pyperclip copies text to the clipboard.</span>
<span class="c">10. </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="c">11. </span>    <span class="k">pass</span>  <span class="c1"># If pyperclip is not installed, do nothing. It&#39;s no big deal.</span>
<span class="c">12. </span>
<span class="c">13. </span><span class="c1"># Every possible symbol that can be encrypted/decrypted:</span>
<span class="c">14. </span><span class="c1"># (!) You can add numbers and punctuation marks to encrypt those</span>
<span class="c">15. </span><span class="c1"># symbols as well.</span>
<span class="c">16. </span><span class="n">SYMBOLS</span> <span class="o">=</span> <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span>
<span class="c">17. </span>
<span class="c">18. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Caesar Cipher, by Al Sweigart al@inventwithpython.com&#39;</span><span class="p">)</span>
<span class="c">19. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The Caesar cipher encrypts letters by shifting them over by a&#39;</span><span class="p">)</span>
<span class="c">20. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;key number. For example, a key of 2 means the letter A is&#39;</span><span class="p">)</span>
<span class="c">21. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;encrypted into C, the letter B encrypted into D, and so on.&#39;</span><span class="p">)</span>
<span class="c">22. </span><span class="nb">print</span><span class="p">()</span>
<span class="c">23. </span>
<span class="c">24. </span><span class="c1"># Let the user enter if they are encrypting or decrypting:</span>
<span class="c">25. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking until the user enters e or d.</span>
<span class="c">26. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Do you want to (e)ncrypt or (d)ecrypt?&#39;</span><span class="p">)</span>
<span class="c">27. </span>    <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="c">28. </span>    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">):</span>
<span class="c">29. </span>        <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;encrypt&#39;</span>
<span class="c">30. </span>        <span class="k">break</span>
<span class="c">31. </span>    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">):</span>
<span class="c">32. </span>        <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;decrypt&#39;</span>
<span class="c">33. </span>        <span class="k">break</span>
<span class="c">34. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter the letter e or d.&#39;</span><span class="p">)</span>
<span class="c">35. </span>
<span class="c">36. </span><span class="c1"># Let the user enter the key to use:</span>
<span class="c">37. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking until the user enters a valid key.</span>
<span class="c">38. </span>    <span class="n">maxKey</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SYMBOLS</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="c">39. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter the key (0 to </span><span class="si">{}</span><span class="s1">) to use.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">maxKey</span><span class="p">))</span>
<span class="c">40. </span>    <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">41. </span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">isdecimal</span><span class="p">():</span>
<span class="c">42. </span>        <span class="k">continue</span>
<span class="c">43. </span>
<span class="c">44. </span>    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">SYMBOLS</span><span class="p">):</span>
<span class="c">45. </span>        <span class="n">key</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="c">46. </span>        <span class="k">break</span>
<span class="c">47. </span>
<span class="c">48. </span><span class="c1"># Let the user enter the message to encrypt/decrypt:</span>
<span class="c">49. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Enter the message to </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">))</span>
<span class="c">50. </span><span class="n">message</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span>
<span class="c">51. </span>
<span class="c">52. </span><span class="c1"># Caesar cipher only works on uppercase letters:</span>
<span class="c">53. </span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">54. </span>
<span class="c">55. </span><span class="c1"># Stores the encrypted/decrypted form of the message:</span>
<span class="c">56. </span><span class="n">translated</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c">57. </span>
<span class="c">58. </span><span class="c1"># Encrypt/decrypt each symbol in the message:</span>
<span class="c">59. </span><span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">message</span><span class="p">:</span>
<span class="c">60. </span>    <span class="k">if</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">SYMBOLS</span><span class="p">:</span>
<span class="c">61. </span>        <span class="c1"># Get the encrypted (or decrypted) number for this symbol.</span>
<span class="c">62. </span>        <span class="n">num</span> <span class="o">=</span> <span class="n">SYMBOLS</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>  <span class="c1"># Get the number of the symbol.</span>
<span class="c">63. </span>        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;encrypt&#39;</span><span class="p">:</span>
<span class="c">64. </span>            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="n">key</span>
<span class="c">65. </span>        <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;decrypt&#39;</span><span class="p">:</span>
<span class="c">66. </span>            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">-</span> <span class="n">key</span>
<span class="c">67. </span>
<span class="c">68. </span>        <span class="c1"># Handle the wrap-around if num is larger than the length of</span>
<span class="c">69. </span>        <span class="c1"># SYMBOLS or less than 0:</span>
<span class="c">70. </span>        <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SYMBOLS</span><span class="p">):</span>
<span class="c">71. </span>            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">SYMBOLS</span><span class="p">)</span>
<span class="c">72. </span>        <span class="k">elif</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="c">73. </span>            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">SYMBOLS</span><span class="p">)</span>
<span class="c">74. </span>
<span class="c">75. </span>        <span class="c1"># Add encrypted/decrypted number&#39;s symbol to translated:</span>
<span class="c">76. </span>        <span class="n">translated</span> <span class="o">=</span> <span class="n">translated</span> <span class="o">+</span> <span class="n">SYMBOLS</span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
<span class="c">77. </span>    <span class="k">else</span><span class="p">:</span>
<span class="c">78. </span>        <span class="c1"># Just add the symbol without encrypting/decrypting:</span>
<span class="c">79. </span>        <span class="n">translated</span> <span class="o">=</span> <span class="n">translated</span> <span class="o">+</span> <span class="n">symbol</span>
<span class="c">80. </span>
<span class="c">81. </span><span class="c1"># Display the encrypted/decrypted string to the screen:</span>
<span class="c">82. </span><span class="nb">print</span><span class="p">(</span><span class="n">translated</span><span class="p">)</span>
<span class="c">83. </span>
<span class="c">84. </span><span class="k">try</span><span class="p">:</span>
<span class="c">85. </span>    <span class="n">pyperclip</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">translated</span><span class="p">)</span>
<span class="c">86. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Full </span><span class="si">{}</span><span class="s1">ed text copied to clipboard.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">))</span>
<span class="c">87. </span><span class="k">except</span><span class="p">:</span>
<span class="c">88. </span>    <span class="k">pass</span>  <span class="c1"># Do nothing if pyperclip wasn&#39;t installed.</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. The comments marked with <code class="calibre22">(!)</code> have suggestions for small changes you can make. You can expand the encryptable symbols by adding characters to the <code class="calibre22">SYMBOLS</code> string.</p>
<h2 id="calibre_link-59" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">SYMBOLS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</code> on line 16 to <code class="calibre22">SYMBOLS = 'ABC'</code>?</li>
<li value="2" class="calibre8">What happens when you encrypt a message with key <code class="calibre22">0</code>?</li>
<li value="3" class="calibre8">What error message do you get if you delete or comment out <code class="calibre22">translated = ''</code> on line 56?</li>
<li value="4" class="calibre8">What error message do you get if you delete or comment out <code class="calibre22">key = int(response)</code> on line 45?</li>
<li value="5" class="calibre8">What happens if you change <code class="calibre22">translated = translated + SYMBOLS[num]</code> on line 76 to <code class="calibre22">translated = translated + symbol</code>?</li>
</ol>
</section>
</div>








<a href="project5.html">Prev: Bouncing DVD Logo</a> | <a href="project7.html">Next: Caesar Hacker</a>
</body></html>