<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>J'Accuse!</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project37.html">Prev: Hungry Robots</a> | <a href="project39.html">Next: Langton's Ant</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-27">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#38</span><br class="calibre14" />
<span class="chaptertitle">J’Accuse!</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">You are the world-famous detective Mathilde Camus. Zophie the cat has gone missing, and you must sift through the clues. Suspects either always tell lies or always tell the truth. Will you find Zophie the cat in time and accuse the guilty party?</p>
<p class="calibre18">In this game, you take a taxi to different locations around the city. At each location is a suspect and an item. You can ask suspects about other suspects and items, compare their answers with your own exploration notes, and determine if they are lying or telling the truth. Some will know who has catnapped Zophie (or where she is, or what item is found at the location of the kidnapper), but you must determine if you can believe them. You have five minutes to find the criminal but will lose if you make three wrong accusations. This game is inspired by Homestar Runner’s “Where’s an Egg?” game.</p>
<h2 id="calibre_link-172" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">jaccuse.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">J'ACCUSE! (a mystery game)
<var class="calibre27">--snip--</var>
Time left: 5 min, 0 sec
  You are in your TAXI. Where do you want to go?
(A)LBINO ALLIGATOR PIT
(B)OWLING ALLEY
(C)ITY HALL
(D)UCK POND
(H)IPSTER CAFE
(O)LD BARN
(U)NIVERSITY LIBRARY
(V)IDEO GAME MUSEUM
(Z)OO
&gt; <b class="calibre6">a</b>

Time left: 4 min, 48 sec
  You are at the ALBINO ALLIGATOR PIT.
  ESPRESSA TOFFEEPOT with the ONE COWBOY BOOT is here.

(J) "J'ACCUSE!" (3 accusations left)
(Z) Ask if they know where ZOPHIE THE CAT is.
(T) Go back to the TAXI.
(1) Ask about ESPRESSA TOFFEEPOT
(2) Ask about ONE COWBOY BOOT
&gt; <b class="calibre6">z</b>
  They give you this clue: "DUKE HAUTDOG"
Press Enter to continue...
<var class="calibre27">--snip--</var></code></pre>
<h2 id="calibre_link-173" class="calibre5">How It Works</h2>
<p class="bodyfirst">To fully understand this program, you should pay close attention to the <code class="calibre22">clues</code> dictionary, which is set up on lines 51 to 109. You can uncomment lines 151 to 154 to display it on the screen. This dictionary has strings from the <code class="calibre22">SUSPECTS</code> list for the keys and “clue dictionaries” for the values. Each of these clue dictionaries contains strings from <code class="calibre22">SUSPECTS</code> and <code class="calibre22">ITEMS</code>. The original suspect will answer with these strings when asked about another suspect or item. For example, if <code class="calibre22">clues['DUKE HAUTDOG']['CANDLESTICK']</code> is set to <code class="calibre22">'DUCK POND'</code>, then when the player asks Duke Hautdog about the Candlestick, they’ll say it is at the Duck Pond. The suspects, items, locations, and culprit get shuffled each time the game is played.</p>
<p class="calibre19">The code for this program revolves around this data structure, so understanding it is necessary to unlocking your understanding of the rest of the program.</p>
<div class="highlight"><pre><span></span>
<span class="c">  1. </span><span class="sd">&quot;&quot;&quot;J&#39;ACCUSE!, by Al Sweigart al@inventwithpython.com</span>
<span class="c">  2. </span><span class="sd">A mystery game of intrigue and a missing cat.</span>
<span class="c">  3. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c">  4. </span><span class="sd">Tags: extra-large, game, humor, puzzle&quot;&quot;&quot;</span>
<span class="c">  5. </span>
<span class="c">  6. </span><span class="c1"># Play the original Flash game at:</span>
<span class="c">  7. </span><span class="c1"># https://homestarrunner.com/videlectrix/wheresanegg.html</span>
<span class="c">  8. </span><span class="c1"># More info at: http://www.hrwiki.org/wiki/Where&#39;s_an_Egg%3F</span>
<span class="c">  9. </span>
<span class="c"> 10. </span><span class="kn">import</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span>
<span class="c"> 11. </span>
<span class="c"> 12. </span><span class="c1"># Set up the constants:</span>
<span class="c"> 13. </span><span class="n">SUSPECTS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;DUKE HAUTDOG&#39;</span><span class="p">,</span> <span class="s1">&#39;MAXIMUM POWERS&#39;</span><span class="p">,</span> <span class="s1">&#39;BILL MONOPOLIS&#39;</span><span class="p">,</span> <span class="s1">&#39;SENATOR SCHMEAR&#39;</span><span class="p">,</span> <span class="s1">&#39;MRS. FEATHERTOSS&#39;</span><span class="p">,</span> <span class="s1">&#39;DR. JEAN SPLICER&#39;</span><span class="p">,</span> <span class="s1">&#39;RAFFLES THE CLOWN&#39;</span><span class="p">,</span> <span class="s1">&#39;ESPRESSA TOFFEEPOT&#39;</span><span class="p">,</span> <span class="s1">&#39;CECIL EDGAR VANDERTON&#39;</span><span class="p">]</span>
<span class="c"> 14. </span><span class="n">ITEMS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;FLASHLIGHT&#39;</span><span class="p">,</span> <span class="s1">&#39;CANDLESTICK&#39;</span><span class="p">,</span> <span class="s1">&#39;RAINBOW FLAG&#39;</span><span class="p">,</span> <span class="s1">&#39;HAMSTER WHEEL&#39;</span><span class="p">,</span> <span class="s1">&#39;ANIME VHS TAPE&#39;</span><span class="p">,</span> <span class="s1">&#39;JAR OF PICKLES&#39;</span><span class="p">,</span> <span class="s1">&#39;ONE COWBOY BOOT&#39;</span><span class="p">,</span> <span class="s1">&#39;CLEAN UNDERPANTS&#39;</span><span class="p">,</span> <span class="s1">&#39;5 DOLLAR GIFT CARD&#39;</span><span class="p">]</span>
<span class="c"> 15. </span><span class="n">PLACES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ZOO&#39;</span><span class="p">,</span> <span class="s1">&#39;OLD BARN&#39;</span><span class="p">,</span> <span class="s1">&#39;DUCK POND&#39;</span><span class="p">,</span> <span class="s1">&#39;CITY HALL&#39;</span><span class="p">,</span> <span class="s1">&#39;HIPSTER CAFE&#39;</span><span class="p">,</span> <span class="s1">&#39;BOWLING ALLEY&#39;</span><span class="p">,</span> <span class="s1">&#39;VIDEO GAME MUSEUM&#39;</span><span class="p">,</span> <span class="s1">&#39;UNIVERSITY LIBRARY&#39;</span><span class="p">,</span> <span class="s1">&#39;ALBINO ALLIGATOR PIT&#39;</span><span class="p">]</span>
<span class="c"> 16. </span><span class="n">TIME_TO_SOLVE</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># 300 seconds (5 minutes) to solve the game.</span>
<span class="c"> 17. </span>
<span class="c"> 18. </span><span class="c1"># First letters and longest length of places are needed for menu display:</span>
<span class="c"> 19. </span><span class="n">PLACE_FIRST_LETTERS</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"> 20. </span><span class="n">LONGEST_PLACE_NAME_LENGTH</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 21. </span><span class="k">for</span> <span class="n">place</span> <span class="ow">in</span> <span class="n">PLACES</span><span class="p">:</span>
<span class="c"> 22. </span>    <span class="n">PLACE_FIRST_LETTERS</span><span class="p">[</span><span class="n">place</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">place</span>
<span class="c"> 23. </span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">place</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">LONGEST_PLACE_NAME_LENGTH</span><span class="p">:</span>
<span class="c"> 24. </span>        <span class="n">LONGEST_PLACE_NAME_LENGTH</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">place</span><span class="p">)</span>
<span class="c"> 25. </span>
<span class="c"> 26. </span><span class="c1"># Basic sanity checks of the constants:</span>
<span class="c"> 27. </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span>
<span class="c"> 28. </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ITEMS</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span>
<span class="c"> 29. </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">PLACES</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span>
<span class="c"> 30. </span><span class="c1"># First letters must be unique:</span>
<span class="c"> 31. </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">PLACE_FIRST_LETTERS</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">PLACES</span><span class="p">)</span>
<span class="c"> 32. </span>
<span class="c"> 33. </span>
<span class="c"> 34. </span><span class="n">knownSuspectsAndItems</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c"> 35. </span><span class="c1"># visitedPlaces: Keys=places, values=strings of the suspect &amp; item there.</span>
<span class="c"> 36. </span><span class="n">visitedPlaces</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"> 37. </span><span class="n">currentLocation</span> <span class="o">=</span> <span class="s1">&#39;TAXI&#39;</span>  <span class="c1"># Start the game at the taxi.</span>
<span class="c"> 38. </span><span class="n">accusedSuspects</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Accused suspects won&#39;t offer clues.</span>
<span class="c"> 39. </span><span class="n">liars</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="c"> 40. </span><span class="n">accusationsLeft</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># You can accuse up to 3 people.</span>
<span class="c"> 41. </span><span class="n">culprit</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">)</span>
<span class="c"> 42. </span>
<span class="c"> 43. </span><span class="c1"># Common indexes link these; e.g. SUSPECTS[0] and ITEMS[0] are at PLACES[0].</span>
<span class="c"> 44. </span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">)</span>
<span class="c"> 45. </span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">ITEMS</span><span class="p">)</span>
<span class="c"> 46. </span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">PLACES</span><span class="p">)</span>
<span class="c"> 47. </span>
<span class="c"> 48. </span><span class="c1"># Create data structures for clues the truth-tellers give about each</span>
<span class="c"> 49. </span><span class="c1"># item and suspect.</span>
<span class="c"> 50. </span><span class="c1"># clues: Keys=suspects being asked for a clue, value=&quot;clue dictionary&quot;.</span>
<span class="c"> 51. </span><span class="n">clues</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"> 52. </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">):</span>
<span class="c"> 53. </span>    <span class="k">if</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c"> 54. </span>        <span class="k">continue</span>  <span class="c1"># Skip the liars for now.</span>
<span class="c"> 55. </span>
<span class="c"> 56. </span>    <span class="c1"># This &quot;clue dictionary&quot; has keys=items &amp; suspects,</span>
<span class="c"> 57. </span>    <span class="c1"># value=the clue given.</span>
<span class="c"> 58. </span>    <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"> 59. </span>    <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="s1">&#39;debug_liar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Useful for debugging.</span>
<span class="c"> 60. </span>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ITEMS</span><span class="p">:</span>  <span class="c1"># Select clue about each item.</span>
<span class="c"> 61. </span>        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Tells where the item is:</span>
<span class="c"> 62. </span>            <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">ITEMS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)]</span>
<span class="c"> 63. </span>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Tells who has the item:</span>
<span class="c"> 64. </span>            <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">SUSPECTS</span><span class="p">[</span><span class="n">ITEMS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)]</span>
<span class="c"> 65. </span>    <span class="k">for</span> <span class="n">suspect</span> <span class="ow">in</span> <span class="n">SUSPECTS</span><span class="p">:</span>  <span class="c1"># Select clue about each suspect.</span>
<span class="c"> 66. </span>        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Tells where the suspect is:</span>
<span class="c"> 67. </span>            <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">suspect</span><span class="p">]</span> <span class="o">=</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">suspect</span><span class="p">)]</span>
<span class="c"> 68. </span>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Tells what item the suspect has:</span>
<span class="c"> 69. </span>            <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">suspect</span><span class="p">]</span> <span class="o">=</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">suspect</span><span class="p">)]</span>
<span class="c"> 70. </span>
<span class="c"> 71. </span><span class="c1"># Create data structures for clues the liars give about each item</span>
<span class="c"> 72. </span><span class="c1"># and suspect:</span>
<span class="c"> 73. </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">):</span>
<span class="c"> 74. </span>    <span class="k">if</span> <span class="n">interviewee</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c"> 75. </span>        <span class="k">continue</span>  <span class="c1"># We&#39;ve already handled the truth-tellers.</span>
<span class="c"> 76. </span>
<span class="c"> 77. </span>    <span class="c1"># This &quot;clue dictionary&quot; has keys=items &amp; suspects,</span>
<span class="c"> 78. </span>    <span class="c1"># value=the clue given:</span>
<span class="c"> 79. </span>    <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"> 80. </span>    <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="s1">&#39;debug_liar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Useful for debugging.</span>
<span class="c"> 81. </span>
<span class="c"> 82. </span>    <span class="c1"># This interviewee is a liar and gives wrong clues:</span>
<span class="c"> 83. </span>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ITEMS</span><span class="p">:</span>
<span class="c"> 84. </span>        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="c"> 85. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Select a random (wrong) place clue.</span>
<span class="c"> 86. </span>                <span class="c1"># Lies about where the item is.</span>
<span class="c"> 87. </span>                <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">PLACES</span><span class="p">)</span>
<span class="c"> 88. </span>                <span class="k">if</span> <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">item</span><span class="p">]</span> <span class="o">!=</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">ITEMS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)]:</span>
<span class="c"> 89. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c"> 90. </span>                    <span class="k">break</span>
<span class="c"> 91. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c"> 92. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Select a random (wrong) suspect clue.</span>
<span class="c"> 93. </span>                <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">)</span>
<span class="c"> 94. </span>                <span class="k">if</span> <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">item</span><span class="p">]</span> <span class="o">!=</span> <span class="n">SUSPECTS</span><span class="p">[</span><span class="n">ITEMS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)]:</span>
<span class="c"> 95. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c"> 96. </span>                    <span class="k">break</span>
<span class="c"> 97. </span>    <span class="k">for</span> <span class="n">suspect</span> <span class="ow">in</span> <span class="n">SUSPECTS</span><span class="p">:</span>
<span class="c"> 98. </span>        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="c"> 99. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Select a random (wrong) place clue.</span>
<span class="c">100. </span>                <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">suspect</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">PLACES</span><span class="p">)</span>
<span class="c">101. </span>                <span class="k">if</span> <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">suspect</span><span class="p">]</span> <span class="o">!=</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">ITEMS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)]:</span>
<span class="c">102. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c">103. </span>                    <span class="k">break</span>
<span class="c">104. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c">105. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Select a random (wrong) item clue.</span>
<span class="c">106. </span>                <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">suspect</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ITEMS</span><span class="p">)</span>
<span class="c">107. </span>                <span class="k">if</span> <span class="n">clues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">][</span><span class="n">suspect</span><span class="p">]</span> <span class="o">!=</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">suspect</span><span class="p">)]:</span>
<span class="c">108. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c">109. </span>                    <span class="k">break</span>
<span class="c">110. </span>
<span class="c">111. </span><span class="c1"># Create the data structures for clues given when asked about Zophie:</span>
<span class="c">112. </span><span class="n">zophieClues</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c">113. </span><span class="k">for</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)):</span>
<span class="c">114. </span>    <span class="n">kindOfClue</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c">115. </span>    <span class="k">if</span> <span class="n">kindOfClue</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">116. </span>        <span class="k">if</span> <span class="n">interviewee</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c">117. </span>            <span class="c1"># They tell you who has Zophie.</span>
<span class="c">118. </span>            <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">culprit</span>
<span class="c">119. </span>        <span class="k">elif</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c">120. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">121. </span>                <span class="c1"># Select a (wrong) suspect clue.</span>
<span class="c">122. </span>                <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">SUSPECTS</span><span class="p">)</span>
<span class="c">123. </span>                <span class="k">if</span> <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">!=</span> <span class="n">culprit</span><span class="p">:</span>
<span class="c">124. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c">125. </span>                    <span class="k">break</span>
<span class="c">126. </span>
<span class="c">127. </span>    <span class="k">elif</span> <span class="n">kindOfClue</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="c">128. </span>        <span class="k">if</span> <span class="n">interviewee</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c">129. </span>            <span class="c1"># They tell you where Zophie is.</span>
<span class="c">130. </span>            <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">culprit</span><span class="p">)]</span>
<span class="c">131. </span>        <span class="k">elif</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c">132. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">133. </span>                <span class="c1"># Select a (wrong) place clue.</span>
<span class="c">134. </span>                <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">PLACES</span><span class="p">)</span>
<span class="c">135. </span>                <span class="k">if</span> <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">!=</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">culprit</span><span class="p">)]:</span>
<span class="c">136. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c">137. </span>                    <span class="k">break</span>
<span class="c">138. </span>    <span class="k">elif</span> <span class="n">kindOfClue</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="c">139. </span>        <span class="k">if</span> <span class="n">interviewee</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c">140. </span>            <span class="c1"># They tell you what item Zophie is near.</span>
<span class="c">141. </span>            <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">culprit</span><span class="p">)]</span>
<span class="c">142. </span>        <span class="k">elif</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">liars</span><span class="p">:</span>
<span class="c">143. </span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">144. </span>                <span class="c1"># Select a (wrong) item clue.</span>
<span class="c">145. </span>                <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ITEMS</span><span class="p">)</span>
<span class="c">146. </span>                <span class="k">if</span> <span class="n">zophieClues</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">!=</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">culprit</span><span class="p">)]:</span>
<span class="c">147. </span>                    <span class="c1"># Break out of the loop when wrong clue is selected.</span>
<span class="c">148. </span>                    <span class="k">break</span>
<span class="c">149. </span>
<span class="c">150. </span><span class="c1"># EXPERIMENT: Uncomment this code to view the clue data structures:</span>
<span class="c">151. </span><span class="c1">#import pprint</span>
<span class="c">152. </span><span class="c1">#pprint.pprint(clues)</span>
<span class="c">153. </span><span class="c1">#pprint.pprint(zophieClues)</span>
<span class="c">154. </span><span class="c1">#print(&#39;culprit =&#39;, culprit)</span>
<span class="c">155. </span>
<span class="c">156. </span><span class="c1"># START OF THE GAME</span>
<span class="c">157. </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;J&#39;ACCUSE! (a mystery game)&quot;)</span>
<span class="c">158. </span><span class="s2">By Al Sweigart al@inventwithpython.com</span>
<span class="c">159. </span><span class="s2">Inspired by Homestar Runner</span><span class="se">\&#39;</span><span class="s2">s &quot;Where</span><span class="se">\&#39;</span><span class="s2">s an Egg?&quot; game</span>
<span class="c">160. </span>
<span class="c">161. </span><span class="s2">You are the world-famous detective, Mathilde Camus.</span>
<span class="c">162. </span><span class="s2">ZOPHIE THE CAT has gone missing, and you must sift through the clues.</span>
<span class="c">163. </span><span class="s2">Suspects either always tell lies, or always tell the truth. Ask them</span>
<span class="c">164. </span><span class="s2">about other people, places, and items to see if the details they give are</span>
<span class="c">165. </span><span class="s2">truthful and consistent with your observations. Then you will know if</span>
<span class="c">166. </span><span class="s2">their clue about ZOPHIE THE CAT is true or not. Will you find ZOPHIE THE</span>
<span class="c">167. </span><span class="s2">CAT in time and accuse the guilty party?</span>
<span class="c">168. </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="c">169. </span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to begin...&#39;</span><span class="p">)</span>
<span class="c">170. </span>
<span class="c">171. </span>
<span class="c">172. </span><span class="n">startTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c">173. </span><span class="n">endTime</span> <span class="o">=</span> <span class="n">startTime</span> <span class="o">+</span> <span class="n">TIME_TO_SOLVE</span>
<span class="c">174. </span>
<span class="c">175. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Main game loop.</span>
<span class="c">176. </span>    <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">endTime</span> <span class="ow">or</span> <span class="n">accusationsLeft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="c">177. </span>        <span class="c1"># Handle &quot;game over&quot; condition:</span>
<span class="c">178. </span>        <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">endTime</span><span class="p">:</span>
<span class="c">179. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You have run out of time!&#39;</span><span class="p">)</span>
<span class="c">180. </span>        <span class="k">elif</span> <span class="n">accusationsLeft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="c">181. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You have accused too many innocent people!&#39;</span><span class="p">)</span>
<span class="c">182. </span>        <span class="n">culpritIndex</span> <span class="o">=</span> <span class="n">SUSPECTS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">culprit</span><span class="p">)</span>
<span class="c">183. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It was </span><span class="si">{}</span><span class="s1"> at the </span><span class="si">{}</span><span class="s1"> with the </span><span class="si">{}</span><span class="s1"> who catnapped her!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">culprit</span><span class="p">,</span> <span class="n">PLACES</span><span class="p">[</span><span class="n">culpritIndex</span><span class="p">],</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">culpritIndex</span><span class="p">]))</span>
<span class="c">184. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Better luck next time, Detective.&#39;</span><span class="p">)</span>
<span class="c">185. </span>        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
<span class="c">186. </span>
<span class="c">187. </span>    <span class="nb">print</span><span class="p">()</span>
<span class="c">188. </span>    <span class="n">minutesLeft</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">endTime</span> <span class="o">-</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="o">//</span> <span class="mi">60</span>
<span class="c">189. </span>    <span class="n">secondsLeft</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">endTime</span> <span class="o">-</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="o">%</span> <span class="mi">60</span>
<span class="c">190. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Time left: </span><span class="si">{}</span><span class="s1"> min, </span><span class="si">{}</span><span class="s1"> sec&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">minutesLeft</span><span class="p">,</span> <span class="n">secondsLeft</span><span class="p">))</span>
<span class="c">191. </span>
<span class="c">192. </span>    <span class="k">if</span> <span class="n">currentLocation</span> <span class="o">==</span> <span class="s1">&#39;TAXI&#39;</span><span class="p">:</span>
<span class="c">193. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  You are in your TAXI. Where do you want to go?&#39;</span><span class="p">)</span>
<span class="c">194. </span>        <span class="k">for</span> <span class="n">place</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">PLACES</span><span class="p">):</span>
<span class="c">195. </span>            <span class="n">placeInfo</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c">196. </span>            <span class="k">if</span> <span class="n">place</span> <span class="ow">in</span> <span class="n">visitedPlaces</span><span class="p">:</span>
<span class="c">197. </span>                <span class="n">placeInfo</span> <span class="o">=</span> <span class="n">visitedPlaces</span><span class="p">[</span><span class="n">place</span><span class="p">]</span>
<span class="c">198. </span>            <span class="n">nameLabel</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">place</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span> <span class="o">+</span> <span class="n">place</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="c">199. </span>            <span class="n">spacing</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">LONGEST_PLACE_NAME_LENGTH</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">place</span><span class="p">))</span>
<span class="c">200. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nameLabel</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">placeInfo</span><span class="p">))</span>
<span class="c">201. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(Q)UIT GAME&#39;</span><span class="p">)</span>
<span class="c">202. </span>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking until a valid response is given.</span>
<span class="c">203. </span>            <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">204. </span>            <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
<span class="c">205. </span>                <span class="k">continue</span>  <span class="c1"># Ask again.</span>
<span class="c">206. </span>            <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;Q&#39;</span><span class="p">:</span>
<span class="c">207. </span>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Thanks for playing!&#39;</span><span class="p">)</span>
<span class="c">208. </span>                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
<span class="c">209. </span>            <span class="k">if</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">PLACE_FIRST_LETTERS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="c">210. </span>                <span class="k">break</span>
<span class="c">211. </span>        <span class="n">currentLocation</span> <span class="o">=</span> <span class="n">PLACE_FIRST_LETTERS</span><span class="p">[</span><span class="n">response</span><span class="p">]</span>
<span class="c">212. </span>        <span class="k">continue</span>  <span class="c1"># Go back to the start of the main game loop.</span>
<span class="c">213. </span>
<span class="c">214. </span>    <span class="c1"># At a place; player can ask for clues.</span>
<span class="c">215. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  You are at the </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">currentLocation</span><span class="p">))</span>
<span class="c">216. </span>    <span class="n">currentLocationIndex</span> <span class="o">=</span> <span class="n">PLACES</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">currentLocation</span><span class="p">)</span>
<span class="c">217. </span>    <span class="n">thePersonHere</span> <span class="o">=</span> <span class="n">SUSPECTS</span><span class="p">[</span><span class="n">currentLocationIndex</span><span class="p">]</span>
<span class="c">218. </span>    <span class="n">theItemHere</span> <span class="o">=</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">currentLocationIndex</span><span class="p">]</span>
<span class="c">219. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  </span><span class="si">{}</span><span class="s1"> with the </span><span class="si">{}</span><span class="s1"> is here.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">thePersonHere</span><span class="p">,</span> <span class="n">theItemHere</span><span class="p">))</span>
<span class="c">220. </span>
<span class="c">221. </span>    <span class="c1"># Add the suspect and item at this place to our list of known</span>
<span class="c">222. </span>    <span class="c1"># suspects and items:</span>
<span class="c">223. </span>    <span class="k">if</span> <span class="n">thePersonHere</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">knownSuspectsAndItems</span><span class="p">:</span>
<span class="c">224. </span>        <span class="n">knownSuspectsAndItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thePersonHere</span><span class="p">)</span>
<span class="c">225. </span>    <span class="k">if</span> <span class="n">ITEMS</span><span class="p">[</span><span class="n">currentLocationIndex</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">knownSuspectsAndItems</span><span class="p">:</span>
<span class="c">226. </span>        <span class="n">knownSuspectsAndItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ITEMS</span><span class="p">[</span><span class="n">currentLocationIndex</span><span class="p">])</span>
<span class="c">227. </span>    <span class="k">if</span> <span class="n">currentLocation</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visitedPlaces</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="c">228. </span>        <span class="n">visitedPlaces</span><span class="p">[</span><span class="n">currentLocation</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">thePersonHere</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">theItemHere</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="c">229. </span>
<span class="c">230. </span>    <span class="c1"># If the player has accused this person wrongly before, they</span>
<span class="c">231. </span>    <span class="c1"># won&#39;t give clues:</span>
<span class="c">232. </span>    <span class="k">if</span> <span class="n">thePersonHere</span> <span class="ow">in</span> <span class="n">accusedSuspects</span><span class="p">:</span>
<span class="c">233. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;They are offended that you accused them,&#39;</span><span class="p">)</span>
<span class="c">234. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;and will not help with your investigation.&#39;</span><span class="p">)</span>
<span class="c">235. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You go back to your TAXI.&#39;</span><span class="p">)</span>
<span class="c">236. </span>        <span class="nb">print</span><span class="p">()</span>
<span class="c">237. </span>        <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to continue...&#39;</span><span class="p">)</span>
<span class="c">238. </span>        <span class="n">currentLocation</span> <span class="o">=</span> <span class="s1">&#39;TAXI&#39;</span>
<span class="c">239. </span>        <span class="k">continue</span>  <span class="c1"># Go back to the start of the main game loop.</span>
<span class="c">240. </span>
<span class="c">241. </span>    <span class="c1"># Display menu of known suspects &amp; items to ask about:</span>
<span class="c">242. </span>    <span class="nb">print</span><span class="p">()</span>
<span class="c">243. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(J) &quot;J</span><span class="se">\&#39;</span><span class="s1">ACCUSE!&quot; (</span><span class="si">{}</span><span class="s1"> accusations left)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">accusationsLeft</span><span class="p">))</span>
<span class="c">244. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(Z) Ask if they know where ZOPHIE THE CAT is.&#39;</span><span class="p">)</span>
<span class="c">245. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(T) Go back to the TAXI.&#39;</span><span class="p">)</span>
<span class="c">246. </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">suspectOrItem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">knownSuspectsAndItems</span><span class="p">):</span>
<span class="c">247. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">) Ask about </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">suspectOrItem</span><span class="p">))</span>
<span class="c">248. </span>
<span class="c">249. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking until a valid response is given.</span>
<span class="c">250. </span>        <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">251. </span>        <span class="k">if</span> <span class="n">response</span> <span class="ow">in</span> <span class="s1">&#39;JZT&#39;</span> <span class="ow">or</span> <span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">isdecimal</span><span class="p">()</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">knownSuspectsAndItems</span><span class="p">)):</span>
<span class="c">252. </span>            <span class="k">break</span>
<span class="c">253. </span>
<span class="c">254. </span>    <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;J&#39;</span><span class="p">:</span>  <span class="c1"># Player accuses this suspect.</span>
<span class="c">255. </span>        <span class="n">accusationsLeft</span> <span class="o">-=</span> <span class="mi">1</span>  <span class="c1"># Use up an accusation.</span>
<span class="c">256. </span>        <span class="k">if</span> <span class="n">thePersonHere</span> <span class="o">==</span> <span class="n">culprit</span><span class="p">:</span>
<span class="c">257. </span>            <span class="c1"># You&#39;ve accused the correct suspect.</span>
<span class="c">258. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You</span><span class="se">\&#39;</span><span class="s1">ve cracked the case, Detective!&#39;</span><span class="p">)</span>
<span class="c">259. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It was </span><span class="si">{}</span><span class="s1"> who had catnapped ZOPHIE THE CAT.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">culprit</span><span class="p">))</span>
<span class="c">260. </span>            <span class="n">minutesTaken</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="p">)</span> <span class="o">//</span> <span class="mi">60</span>
<span class="c">261. </span>            <span class="n">secondsTaken</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="p">)</span> <span class="o">%</span> <span class="mi">60</span>
<span class="c">262. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Good job! You solved it in </span><span class="si">{}</span><span class="s1"> min, </span><span class="si">{}</span><span class="s1"> sec.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">minutesTaken</span><span class="p">,</span> <span class="n">secondsTaken</span><span class="p">))</span>
<span class="c">263. </span>            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
<span class="c">264. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c">265. </span>            <span class="c1"># You&#39;ve accused the wrong suspect.</span>
<span class="c">266. </span>            <span class="n">accusedSuspects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thePersonHere</span><span class="p">)</span>
<span class="c">267. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You have accused the wrong person, Detective!&#39;</span><span class="p">)</span>
<span class="c">268. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;They will not help you with anymore clues.&#39;</span><span class="p">)</span>
<span class="c">269. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You go back to your TAXI.&#39;</span><span class="p">)</span>
<span class="c">270. </span>            <span class="n">currentLocation</span> <span class="o">=</span> <span class="s1">&#39;TAXI&#39;</span>
<span class="c">271. </span>
<span class="c">272. </span>    <span class="k">elif</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;Z&#39;</span><span class="p">:</span>  <span class="c1"># Player asks about Zophie.</span>
<span class="c">273. </span>        <span class="k">if</span> <span class="n">thePersonHere</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">zophieClues</span><span class="p">:</span>
<span class="c">274. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&quot;I don</span><span class="se">\&#39;</span><span class="s1">t know anything about ZOPHIE THE CAT.&quot;&#39;</span><span class="p">)</span>
<span class="c">275. </span>        <span class="k">elif</span> <span class="n">thePersonHere</span> <span class="ow">in</span> <span class="n">zophieClues</span><span class="p">:</span>
<span class="c">276. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  They give you this clue: &quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">zophieClues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">]))</span>
<span class="c">277. </span>            <span class="c1"># Add non-place clues to the list of known things:</span>
<span class="c">278. </span>            <span class="k">if</span> <span class="n">zophieClues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">knownSuspectsAndItems</span> <span class="ow">and</span> <span class="n">zophieClues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PLACES</span><span class="p">:</span>
<span class="c">279. </span>                <span class="n">knownSuspectsAndItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">zophieClues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">])</span>
<span class="c">280. </span>
<span class="c">281. </span>    <span class="k">elif</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span>  <span class="c1"># Player goes back to the taxi.</span>
<span class="c">282. </span>        <span class="n">currentLocation</span> <span class="o">=</span> <span class="s1">&#39;TAXI&#39;</span>
<span class="c">283. </span>        <span class="k">continue</span>  <span class="c1"># Go back to the start of the main game loop.</span>
<span class="c">284. </span>
<span class="c">285. </span>    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Player asks about a suspect or item.</span>
<span class="c">286. </span>        <span class="n">thingBeingAskedAbout</span> <span class="o">=</span> <span class="n">knownSuspectsAndItems</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
<span class="c">287. </span>        <span class="k">if</span> <span class="n">thingBeingAskedAbout</span> <span class="ow">in</span> <span class="p">(</span><span class="n">thePersonHere</span><span class="p">,</span> <span class="n">theItemHere</span><span class="p">):</span>
<span class="c">288. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  They give you this clue: &quot;No comment.&quot;&#39;</span><span class="p">)</span>
<span class="c">289. </span>        <span class="k">else</span><span class="p">:</span>
<span class="c">290. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  They give you this clue: &quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">clues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">][</span><span class="n">thingBeingAskedAbout</span><span class="p">]))</span>
<span class="c">291. </span>            <span class="c1"># Add non-place clues to the list of known things:</span>
<span class="c">292. </span>            <span class="k">if</span> <span class="n">clues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">][</span><span class="n">thingBeingAskedAbout</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">knownSuspectsAndItems</span> <span class="ow">and</span> <span class="n">clues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">][</span><span class="n">thingBeingAskedAbout</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PLACES</span><span class="p">:</span>
<span class="c">293. </span>                <span class="n">knownSuspectsAndItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clues</span><span class="p">[</span><span class="n">thePersonHere</span><span class="p">][</span><span class="n">thingBeingAskedAbout</span><span class="p">])</span>
<span class="c">294. </span>
<span class="c">295. </span>    <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to continue...&#39;</span><span class="p">)</span>
</pre></div>

<h2 id="calibre_link-174" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">TIME_TO_SOLVE = 300</code> on line 16 to <code class="calibre22">TIME_TO_SOLVE = 0</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">time.time() &gt; endTime or accusationsLeft == 0</code> on line 176 to <code class="calibre22">time.time() &gt; endTime and accusationsLeft == 0</code>?</li>
<li value="3" class="calibre8">What happens if you change <code class="calibre22">place[1:]</code> on line 198 to <code class="calibre22">place</code>?</li>
<li value="4" class="calibre8">What happens if you change <code class="calibre22">startTime + TIME_TO_SOLVE</code> on line 173 to <code class="calibre22">startTime * TIME_TO_SOLVE</code>?</li>
</ol>
</section>
</div>








<a href="project37.html">Prev: Hungry Robots</a> | <a href="project39.html">Next: Langton's Ant</a>
</body></html>