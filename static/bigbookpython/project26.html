<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Fibonacci</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project25.html">Prev: Fast Draw</a> | <a href="project27.html">Next: Fish Tank</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-129">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#26</span><br class="calibre14" />
<span class="chaptertitle">Fibonacci</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">The Fibonacci sequence is a famous mathematical pattern credited to Italian mathematician Fibonacci in the 13th century (though others had discovered it even earlier). The sequence begins with 0 and 1, and the next number is always the sum of the previous two numbers. The sequence continues forever:</p>
<p class="calibre18">0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987 . . .</p>
<p class="calibre19">The Fibonacci sequence has applications in music composition, stock market prediction, the pattern of florets in the head of sunflowers, and many other areas. This program lets you calculate the sequence as high as you are willing to go. More information about the Fibonacci sequence can be found at <a href="https://en.wikipedia.org/wiki/Fibonacci_number" class="linkurl">https://en.wikipedia.org/wiki/Fibonacci_number</a>.</p>
<h2 id="calibre_link-130" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">fibonacci.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Fibonacci Sequence, by Al Sweigart al@inventwithpython.com
<var class="calibre27">--snip--</var>
Enter the Nth Fibonacci number you wish to
calculate (such as 5, 50, 1000, 9999), or QUIT to quit:
&gt; <b class="calibre6">50</b>

0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, 17711, 28657, 46368, 75025, 121393, 196418, 317811, 514229, 832040, 1346269, 2178309, 3524578, 5702887, 9227465, 14930352, 24157817, 39088169, 63245986, 102334155, 165580141, 267914296, 433494437, 701408733, 1134903170, 1836311903, 2971215073, 4807526976, 7778742049</code></pre>
<h2 id="calibre_link-131" class="calibre5">How It Works</h2>
<p class="bodyfirst">Because Fibonacci numbers quickly become very large, lines 46 to 50 check if the user has entered a number thatâ€™s 10,000 or larger and displays a warning that it may take some time for the output to finish displaying on the screen. While your programs can quickly do millions of calculations almost instantly, printing text to the screen is relatively slow and could take several seconds. The warning in our program reminds the user they can always terminate the program by pressing <span class="keycaps">ctrl-c</span>.</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;Fibonacci Sequence, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 2. </span><span class="sd">Calculates numbers of the Fibonacci sequence: 0, 1, 1, 2, 3, 5, 8, 13...</span>
<span class="c"> 3. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c"> 4. </span><span class="sd">Tags: short, math&quot;&quot;&quot;</span>
<span class="c"> 5. </span>
<span class="c"> 6. </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="c"> 7. </span>
<span class="c"> 8. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;Fibonacci Sequence, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 9. </span>
<span class="c">10. </span><span class="s1">The Fibonacci sequence begins with 0 and 1, and the next number is the</span>
<span class="c">11. </span><span class="s1">sum of the previous two numbers. The sequence continues forever:</span>
<span class="c">12. </span>
<span class="c">13. </span><span class="s1">0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987...</span>
<span class="c">14. </span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
<span class="c">15. </span>
<span class="c">16. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Main program loop.</span>
<span class="c">17. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking until the user enters valid input.</span>
<span class="c">18. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Enter the Nth Fibonacci number you wish to&#39;</span><span class="p">)</span>
<span class="c">19. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;calculate (such as 5, 50, 1000, 9999), or QUIT to quit:&#39;</span><span class="p">)</span>
<span class="c">20. </span>        <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">21. </span>
<span class="c">22. </span>        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;QUIT&#39;</span><span class="p">:</span>
<span class="c">23. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Thanks for playing!&#39;</span><span class="p">)</span>
<span class="c">24. </span>            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
<span class="c">25. </span>
<span class="c">26. </span>        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">isdecimal</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<span class="c">27. </span>            <span class="n">nth</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="c">28. </span>            <span class="k">break</span>  <span class="c1"># Exit the loop when the user enteres a valid number.</span>
<span class="c">29. </span>
<span class="c">30. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter a number greater than 0, or QUIT.&#39;</span><span class="p">)</span>
<span class="c">31. </span>    <span class="nb">print</span><span class="p">()</span>
<span class="c">32. </span>
<span class="c">33. </span>    <span class="c1"># Handle the special cases if the user entered 1 or 2:</span>
<span class="c">34. </span>    <span class="k">if</span> <span class="n">nth</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">35. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="c">36. </span>        <span class="nb">print</span><span class="p">()</span>
<span class="c">37. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The #1 Fibonacci number is 0.&#39;</span><span class="p">)</span>
<span class="c">38. </span>        <span class="k">continue</span>
<span class="c">39. </span>    <span class="k">elif</span> <span class="n">nth</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="c">40. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;0, 1&#39;</span><span class="p">)</span>
<span class="c">41. </span>        <span class="nb">print</span><span class="p">()</span>
<span class="c">42. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The #2 Fibonacci number is 1.&#39;</span><span class="p">)</span>
<span class="c">43. </span>        <span class="k">continue</span>
<span class="c">44. </span>
<span class="c">45. </span>    <span class="c1"># Display warning if the user entered a large number:</span>
<span class="c">46. </span>    <span class="k">if</span> <span class="n">nth</span> <span class="o">&gt;=</span> <span class="mi">10000</span><span class="p">:</span>
<span class="c">47. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING: This will take a while to display on the&#39;</span><span class="p">)</span>
<span class="c">48. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;screen. If you want to quit this program before it is&#39;</span><span class="p">)</span>
<span class="c">49. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;done, press Ctrl-C.&#39;</span><span class="p">)</span>
<span class="c">50. </span>        <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to begin...&#39;</span><span class="p">)</span>
<span class="c">51. </span>
<span class="c">52. </span>    <span class="c1"># Calculate the Nth Fibonacci number:</span>
<span class="c">53. </span>    <span class="n">secondToLastNumber</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">54. </span>    <span class="n">lastNumber</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c">55. </span>    <span class="n">fibNumbersCalculated</span> <span class="o">=</span> <span class="mi">2</span>
<span class="c">56. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;0, 1, &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>  <span class="c1"># Display the first two Fibonacci numbers.</span>
<span class="c">57. </span>
<span class="c">58. </span>    <span class="c1"># Display all the later numbers of the Fibonacci sequence:</span>
<span class="c">59. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="c">60. </span>        <span class="n">nextNumber</span> <span class="o">=</span> <span class="n">secondToLastNumber</span> <span class="o">+</span> <span class="n">lastNumber</span>
<span class="c">61. </span>        <span class="n">fibNumbersCalculated</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">62. </span>
<span class="c">63. </span>        <span class="c1"># Display the next number in the sequence:</span>
<span class="c">64. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">nextNumber</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">65. </span>
<span class="c">66. </span>        <span class="c1"># Check if we&#39;ve found the Nth number the user wants:</span>
<span class="c">67. </span>        <span class="k">if</span> <span class="n">fibNumbersCalculated</span> <span class="o">==</span> <span class="n">nth</span><span class="p">:</span>
<span class="c">68. </span>            <span class="nb">print</span><span class="p">()</span>
<span class="c">69. </span>            <span class="nb">print</span><span class="p">()</span>
<span class="c">70. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The #&#39;</span><span class="p">,</span> <span class="n">fibNumbersCalculated</span><span class="p">,</span> <span class="s1">&#39; Fibonacci &#39;</span><span class="p">,</span>
<span class="c">71. </span>                  <span class="s1">&#39;number is &#39;</span><span class="p">,</span> <span class="n">nextNumber</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">72. </span>            <span class="k">break</span>
<span class="c">73. </span>
<span class="c">74. </span>        <span class="c1"># Print a comma in between the sequence numbers:</span>
<span class="c">75. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">76. </span>
<span class="c">77. </span>        <span class="c1"># Shift the last two numbers:</span>
<span class="c">78. </span>        <span class="n">secondToLastNumber</span> <span class="o">=</span> <span class="n">lastNumber</span>
<span class="c">79. </span>        <span class="n">lastNumber</span> <span class="o">=</span> <span class="n">nextNumber</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Use different starting numbers than 0 and 1.</li>
<li class="calibre8">Create the next number by adding the previous three numbers instead of the previous two.</li>
</ul>
<h2 id="calibre_link-132" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">This is a base program, so there arenâ€™t many options to customize it. Instead, consider: how could you use this program? What other useful sequences could be programmed?</p>
</section>
</div>








<a href="project25.html">Prev: Fast Draw</a> | <a href="project27.html">Next: Fish Tank</a>
</body></html>