<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Million Dice Statistics</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project45.html">Prev: Maze Runner 3D</a> | <a href="project47.html">Next: Mondrian Art Generator</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-202">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#46</span><br class="calibre14" />
<span class="chaptertitle">Million Dice Roll Statistics Simulator</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">When you roll two six-sided dice, there’s a 17 percent chance you’ll roll a 7. That’s much better than the odds of rolling a 2: just 3 percent. That’s because there’s only one combination of dice rolls that gives you 2 (the one that occurs when both dice roll a 1), but many combinations add up to seven: 1 and 6, 2 and 5, 3 and 4, and so on.</p>
<p class="calibre18">But what about when you roll three dice? Or four? Or 1,000? You could mathematically calculate the theoretical probabilities, or you can have the computer roll a number of dice one million times to empirically figure them out. This program takes that latter approach. In this program, you tell the computer to roll <em class="calibre9">N</em> dice one million times and remember the results. It then displays the percentage chance of each sum.</p>
<p class="calibre19">This program does a massive amount of computation, but the computation itself isn’t hard to understand.</p>
<h2 id="calibre_link-203" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">milliondicestats.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Million Dice Roll Statistics Simulator
By Al Sweigart al@inventwithpython.com

Enter how many six-sided dice you want to roll:
&gt; <b class="calibre6">2</b>
Simulating 1,000,000 rolls of 2 dice...
36.2% done...
73.4% done...
TOTAL - ROLLS - PERCENTAGE
  2 - 27590 rolls - 2.8%
  3 - 55730 rolls - 5.6%
  4 - 83517 rolls - 8.4%
  5 - 111526 rolls - 11.2%
  6 - 139015 rolls - 13.9%
  7 - 166327 rolls - 16.6%
  8 - 139477 rolls - 13.9%
  9 - 110268 rolls - 11.0%
  10 - 83272 rolls - 8.3%
  11 - 55255 rolls - 5.5%
  12 - 28023 rolls - 2.8%</code></pre>
<h2 id="calibre_link-204" class="calibre5">How It Works</h2>
<p class="bodyfirst">We simulate the roll of a single six-sided die by calling <code class="calibre22">random.randint(1, 6)</code> on line 30. This returns a random number between <code class="calibre22">1</code> and <code class="calibre22">6</code>, which gets added to the running total for however many dice are rolled together. The <code class="calibre22">random.randint()</code> function has a uniform distribution, meaning each number is just as likely as any other to be returned.</p>
<p class="calibre19">The program stores the results of this roll with the <code class="calibre22">results</code> dictionary. The keys to this dictionary are each possible dice roll total, and the values are how many times this total has been encountered. To get the frequency percentage, we divide the number of times a total has been encountered by 1,000,000 (the number of dice rolls in this simulation) and multiply it by 100 (to get a percentage between 0.0 and 100.0 instead of 0.0 and 1.0). By doing some algebra, we can figure out that this is the same as dividing the number of encounters by 10,000, which we do on line 37.</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;Million Dice Roll Statistics Simulator</span>
<span class="c"> 2. </span><span class="sd">By Al Sweigart al@inventwithpython.com</span>
<span class="c"> 3. </span><span class="sd">A simulation of one million dice rolls.</span>
<span class="c"> 4. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c"> 5. </span><span class="sd">Tags: tiny, beginner, math, simulation&quot;&quot;&quot;</span>
<span class="c"> 6. </span>
<span class="c"> 7. </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span>
<span class="c"> 8. </span>
<span class="c"> 9. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;Million Dice Roll Statistics Simulator</span>
<span class="c">10. </span><span class="s1">By Al Sweigart al@inventwithpython.com</span>
<span class="c">11. </span>
<span class="c">12. </span><span class="s1">Enter how many six-sided dice you want to roll:&#39;&#39;&#39;</span><span class="p">)</span>
<span class="c">13. </span><span class="n">numberOfDice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">))</span>
<span class="c">14. </span>
<span class="c">15. </span><span class="c1"># Set up a dictionary to store the results of each dice roll:</span>
<span class="c">16. </span><span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c">17. </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfDice</span><span class="p">,</span> <span class="p">(</span><span class="n">numberOfDice</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="c">18. </span>    <span class="n">results</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">19. </span>
<span class="c">20. </span><span class="c1"># Simulate dice rolls:</span>
<span class="c">21. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Simulating 1,000,000 rolls of </span><span class="si">{}</span><span class="s1"> dice...&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numberOfDice</span><span class="p">))</span>
<span class="c">22. </span><span class="n">lastPrintTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c">23. </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
<span class="c">24. </span>    <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">lastPrintTime</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">25. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}% d</span><span class="s1">one...&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="c">26. </span>        <span class="n">lastPrintTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c">27. </span>
<span class="c">28. </span>    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">29. </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfDice</span><span class="p">):</span>
<span class="c">30. </span>        <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="c">31. </span>    <span class="n">results</span><span class="p">[</span><span class="n">total</span><span class="p">]</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">total</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
<span class="c">32. </span>
<span class="c">33. </span><span class="c1"># Display results:</span>
<span class="c">34. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TOTAL - ROLLS - PERCENTAGE&#39;</span><span class="p">)</span>
<span class="c">35. </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfDice</span><span class="p">,</span> <span class="p">(</span><span class="n">numberOfDice</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="c">36. </span>    <span class="n">roll</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="c">37. </span>    <span class="n">percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c">38. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  </span><span class="si">{}</span><span class="s1"> - </span><span class="si">{}</span><span class="s1"> rolls - </span><span class="si">{}</span><span class="s1">%&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">roll</span><span class="p">,</span> <span class="n">percentage</span><span class="p">))</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Try rolling 8-, 10-, 12-, or 20-sided dice.</li>
<li class="calibre8">Try simulating two-sided coin tosses.</li>
</ul>
<h2 id="calibre_link-205" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">lastPrintTime + 1</code> on line 24 to <code class="calibre22">lastPrintTime + 2</code>?</li>
<li value="2" class="calibre8">What bug do you cause if you delete or comment out <code class="calibre22">results[total] = results[total] + 1</code> on line 31?</li>
<li value="3" class="calibre8">What error happens if the user types letters instead of a number for the number of six-sided dice to roll?</li>
</ol>
</section>
</div>








<a href="project45.html">Prev: Maze Runner 3D</a> | <a href="project47.html">Next: Mondrian Art Generator</a>
</body></html>