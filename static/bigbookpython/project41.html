<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Lucky Stars</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project40.html">Prev: Leetspeak</a> | <a href="project42.html">Next: Magic Fortune Ball</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-182">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#41</span><br class="calibre14" />
<span class="chaptertitle">Lucky Stars</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">In this push-your-luck game, you roll dice to collect stars. The more you roll, the more stars you can get, but if you get three skulls you lose everything! This quick multiplayer game can support as many players as you want, making it ideal for parties.</p>
<p class="calibre18">On your turn, you pull three random dice from the dice cup and roll them. You can roll Stars, Skulls, and Question Marks. If you end your turn, you get one point per Star. If you choose to roll again, you keep the Question Marks and pull new dice to replace the Stars and Skulls. If you collect three Skulls, you lose all your Stars and end your turn.</p>
<p class="calibre19">When a player gets 13 points, everyone else gets one more turn before the game ends. Whoever has the most points wins.</p>
<p class="calibre19">There are six gold dice, four silver dice, and three bronze dice in the cup. Gold dice have more Stars, bronze dice have more Skulls, and silver is even.</p>
<h2 id="calibre_link-183" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">luckystars.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Lucky Stars, by Al Sweigart al@inventwithpython.com
<var class="calibre27">--snip--</var>
SCORES: Alice=0, Bob=0
It is Alice's turn.

+-----------+ +-----------+ +-----------+
|           | |     .     | |           |
|           | |    ,O,    | |           |
|     ?     | | 'ooOOOoo' | |     ?     |
|           | |   `OOO`   | |           |
|           | |   O' 'O   | |           |
+-----------+ +-----------+ +-----------+
     GOLD          GOLD         BRONZE
Stars collected: 1   Skulls collected: 0
Do you want to roll again? Y/N
&gt; <b class="calibre6">y</b>

+-----------+ +-----------+ +-----------+
|     .     | |    ___    | |           |
|    ,O,    | |   /   \   | |           |
| 'ooOOOoo' | |  |() ()|  | |     ?     |
|   `OOO`   | |   \ ^ /   | |           |
|   O' 'O   | |    VVV    | |           |
+-----------+ +-----------+ +-----------+
     GOLD         BRONZE        BRONZE
Stars collected: 2   Skulls collected: 1
Do you want to roll again? Y/N
<var class="calibre27">--snip--</var></code></pre>
<h2 id="calibre_link-184" class="calibre5">How It Works</h2>
<p class="bodyfirst">The text-based graphics in this program are stored as strings in a list in the <code class="calibre22">STAR_FACE</code>, <code class="calibre22">SKULL_FACE</code>, and <code class="calibre22">QUESTION_FACE</code> variables. This format makes them easy to write in a code editor, while the code in lines 154 to 157 display them on the screen. Note that because three dice are shown together, this code must print each horizontal row of text on a die face at a time. Simply running code like <code class="calibre22">print(STAR_FACE)</code> would result in each of the three dice appearing on top of each other, instead of side by side.</p>
<div class="highlight"><pre><span></span>
<span class="c">  1. </span><span class="sd">&quot;&quot;&quot;Lucky Stars, by Al Sweigart al@inventwithpython.com</span>
<span class="c">  2. </span><span class="sd">A &quot;press your luck&quot; game where you roll dice to gather as many stars</span>
<span class="c">  3. </span><span class="sd">as possible. You can roll as many times as you want, but if you roll</span>
<span class="c">  4. </span><span class="sd">three skulls you lose all your stars.</span>
<span class="c">  5. </span>
<span class="c">  6. </span><span class="sd">Inspired by the Zombie Dice game from Steve Jackson Games.</span>
<span class="c">  7. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c">  8. </span><span class="sd">Tags: large, game, multiplayer&quot;&quot;&quot;</span>
<span class="c">  9. </span>
<span class="c"> 10. </span><span class="kn">import</span> <span class="nn">random</span>
<span class="c"> 11. </span>
<span class="c"> 12. </span><span class="c1"># Set up the constants:</span>
<span class="c"> 13. </span><span class="n">GOLD</span> <span class="o">=</span> <span class="s1">&#39;GOLD&#39;</span>
<span class="c"> 14. </span><span class="n">SILVER</span> <span class="o">=</span> <span class="s1">&#39;SILVER&#39;</span>
<span class="c"> 15. </span><span class="n">BRONZE</span> <span class="o">=</span> <span class="s1">&#39;BRONZE&#39;</span>
<span class="c"> 16. </span>
<span class="c"> 17. </span><span class="n">STAR_FACE</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;+-----------+&quot;</span><span class="p">,</span>
<span class="c"> 18. </span>             <span class="s2">&quot;|     .     |&quot;</span><span class="p">,</span>
<span class="c"> 19. </span>             <span class="s2">&quot;|    ,O,    |&quot;</span><span class="p">,</span>
<span class="c"> 20. </span>             <span class="s2">&quot;| &#39;ooOOOoo&#39; |&quot;</span><span class="p">,</span>
<span class="c"> 21. </span>             <span class="s2">&quot;|   `OOO`   |&quot;</span><span class="p">,</span>
<span class="c"> 22. </span>             <span class="s2">&quot;|   O&#39; &#39;O   |&quot;</span><span class="p">,</span>
<span class="c"> 23. </span>             <span class="s2">&quot;+-----------+&quot;</span><span class="p">]</span>
<span class="c"> 24. </span><span class="n">SKULL_FACE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;+-----------+&#39;</span><span class="p">,</span>
<span class="c"> 25. </span>              <span class="s1">&#39;|    ___    |&#39;</span><span class="p">,</span>
<span class="c"> 26. </span>              <span class="s1">&#39;|   /   </span><span class="se">\\</span><span class="s1">   |&#39;</span><span class="p">,</span>
<span class="c"> 27. </span>              <span class="s1">&#39;|  |() ()|  |&#39;</span><span class="p">,</span>
<span class="c"> 28. </span>              <span class="s1">&#39;|   </span><span class="se">\\</span><span class="s1"> ^ /   |&#39;</span><span class="p">,</span>
<span class="c"> 29. </span>              <span class="s1">&#39;|    VVV    |&#39;</span><span class="p">,</span>
<span class="c"> 30. </span>              <span class="s1">&#39;+-----------+&#39;</span><span class="p">]</span>
<span class="c"> 31. </span><span class="n">QUESTION_FACE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;+-----------+&#39;</span><span class="p">,</span>
<span class="c"> 32. </span>                 <span class="s1">&#39;|           |&#39;</span><span class="p">,</span>
<span class="c"> 33. </span>                 <span class="s1">&#39;|           |&#39;</span><span class="p">,</span>
<span class="c"> 34. </span>                 <span class="s1">&#39;|     ?     |&#39;</span><span class="p">,</span>
<span class="c"> 35. </span>                 <span class="s1">&#39;|           |&#39;</span><span class="p">,</span>
<span class="c"> 36. </span>                 <span class="s1">&#39;|           |&#39;</span><span class="p">,</span>
<span class="c"> 37. </span>                 <span class="s1">&#39;+-----------+&#39;</span><span class="p">]</span>
<span class="c"> 38. </span><span class="n">FACE_WIDTH</span> <span class="o">=</span> <span class="mi">13</span>
<span class="c"> 39. </span><span class="n">FACE_HEIGHT</span> <span class="o">=</span> <span class="mi">7</span>
<span class="c"> 40. </span>
<span class="c"> 41. </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;Lucky Stars, by Al Sweigart al@inventwithpython.com</span>
<span class="c"> 42. </span>
<span class="c"> 43. </span><span class="s2">A &quot;press your luck&quot; game where you roll dice with Stars, Skulls, and</span>
<span class="c"> 44. </span><span class="s2">Question Marks.</span>
<span class="c"> 45. </span>
<span class="c"> 46. </span><span class="s2">On your turn, you pull three random dice from the dice cup and roll</span>
<span class="c"> 47. </span><span class="s2">them. You can roll Stars, Skulls, and Question Marks. You can end your</span>
<span class="c"> 48. </span><span class="s2">turn and get one point per Star. If you choose to roll again, you keep</span>
<span class="c"> 49. </span><span class="s2">the Question Marks and pull new dice to replace the Stars and Skulls.</span>
<span class="c"> 50. </span><span class="s2">If you collect three Skulls, you lose all your Stars and end your turn.</span>
<span class="c"> 51. </span>
<span class="c"> 52. </span><span class="s2">When a player gets 13 points, everyone else gets one more turn before</span>
<span class="c"> 53. </span><span class="s2">the game ends. Whoever has the most points wins.</span>
<span class="c"> 54. </span>
<span class="c"> 55. </span><span class="s2">There are 6 Gold dice, 4 Silver dice, and 3 Bronze dice in the cup.</span>
<span class="c"> 56. </span><span class="s2">Gold dice have more Stars, Bronze dice have more Skulls, and Silver is</span>
<span class="c"> 57. </span><span class="s2">even.</span>
<span class="c"> 58. </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="c"> 59. </span>
<span class="c"> 60. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;How many players are there?&#39;</span><span class="p">)</span>
<span class="c"> 61. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Loop until the user enters a number.</span>
<span class="c"> 62. </span>    <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span>
<span class="c"> 63. </span>    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">isdecimal</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="c"> 64. </span>        <span class="n">numPlayers</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="c"> 65. </span>        <span class="k">break</span>
<span class="c"> 66. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter a number larger than 1.&#39;</span><span class="p">)</span>
<span class="c"> 67. </span>
<span class="c"> 68. </span><span class="n">playerNames</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># List of strings of player names.</span>
<span class="c"> 69. </span><span class="n">playerScores</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Keys are player names, values are integer scores.</span>
<span class="c"> 70. </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numPlayers</span><span class="p">):</span>
<span class="c"> 71. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep looping until a name is entered.</span>
<span class="c"> 72. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is player #&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">s name?&#39;</span><span class="p">)</span>
<span class="c"> 73. </span>        <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span>
<span class="c"> 74. </span>        <span class="k">if</span> <span class="n">response</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">response</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">playerNames</span><span class="p">:</span>
<span class="c"> 75. </span>            <span class="n">playerNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="c"> 76. </span>            <span class="n">playerScores</span><span class="p">[</span><span class="n">response</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 77. </span>            <span class="k">break</span>
<span class="c"> 78. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter a name.&#39;</span><span class="p">)</span>
<span class="c"> 79. </span><span class="nb">print</span><span class="p">()</span>
<span class="c"> 80. </span>
<span class="c"> 81. </span><span class="n">turn</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># The player at playerNames[0] will go first.</span>
<span class="c"> 82. </span><span class="c1"># (!) Uncomment to let a player named &#39;Al&#39; start with three points:</span>
<span class="c"> 83. </span><span class="c1">#playerScores[&#39;Al&#39;] = 3</span>
<span class="c"> 84. </span><span class="n">endGameWith</span> <span class="o">=</span> <span class="kc">None</span>
<span class="c"> 85. </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Main game loop.</span>
<span class="c"> 86. </span>    <span class="c1"># Display everyone&#39;s score:</span>
<span class="c"> 87. </span>    <span class="nb">print</span><span class="p">()</span>
<span class="c"> 88. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SCORES: &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c"> 89. </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">playerNames</span><span class="p">):</span>
<span class="c"> 90. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">playerScores</span><span class="p">[</span><span class="n">name</span><span class="p">]),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c"> 91. </span>        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">playerNames</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
<span class="c"> 92. </span>            <span class="c1"># All but the last player have commas separating their names.</span>
<span class="c"> 93. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c"> 94. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="c"> 95. </span>
<span class="c"> 96. </span>    <span class="c1"># Start the number of collected stars and skulls at 0.</span>
<span class="c"> 97. </span>    <span class="n">stars</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 98. </span>    <span class="n">skulls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"> 99. </span>    <span class="c1"># A cup has 6 gold, 4 silver, and 3 bronze dice:</span>
<span class="c">100. </span>    <span class="n">cup</span> <span class="o">=</span> <span class="p">([</span><span class="n">GOLD</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="p">([</span><span class="n">SILVER</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="p">([</span><span class="n">BRONZE</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
<span class="c">101. </span>    <span class="n">hand</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Your hand starts with no dice.</span>
<span class="c">102. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It is &#39;</span> <span class="o">+</span> <span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">s turn.&#39;</span><span class="p">)</span>
<span class="c">103. </span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Each iteration of this loop is rolling the dice.</span>
<span class="c">104. </span>        <span class="nb">print</span><span class="p">()</span>
<span class="c">105. </span>
<span class="c">106. </span>        <span class="c1"># Check that there&#39;s enough dice left in the cup:</span>
<span class="c">107. </span>        <span class="k">if</span> <span class="p">(</span><span class="mi">3</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">hand</span><span class="p">))</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">cup</span><span class="p">):</span>
<span class="c">108. </span>            <span class="c1"># End this turn because there are not enough dice:</span>
<span class="c">109. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There aren</span><span class="se">\&#39;</span><span class="s1">t enough dice left in the cup to &#39;</span>
<span class="c">110. </span>                <span class="o">+</span> <span class="s1">&#39;continue &#39;</span> <span class="o">+</span> <span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">s turn.&#39;</span><span class="p">)</span>
<span class="c">111. </span>            <span class="k">break</span>
<span class="c">112. </span>
<span class="c">113. </span>        <span class="c1"># Pull dice from the cup until you have 3 in your hand:</span>
<span class="c">114. </span>        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">cup</span><span class="p">)</span>  <span class="c1"># Shuffle the dice in the cup.</span>
<span class="c">115. </span>        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">hand</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
<span class="c">116. </span>            <span class="n">hand</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cup</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="c">117. </span>
<span class="c">118. </span>        <span class="c1"># Roll the dice:</span>
<span class="c">119. </span>        <span class="n">rollResults</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c">120. </span>        <span class="k">for</span> <span class="n">dice</span> <span class="ow">in</span> <span class="n">hand</span><span class="p">:</span>
<span class="c">121. </span>            <span class="n">roll</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="c">122. </span>            <span class="k">if</span> <span class="n">dice</span> <span class="o">==</span> <span class="n">GOLD</span><span class="p">:</span>
<span class="c">123. </span>                <span class="c1"># Roll a gold die (3 stars, 2 questions, 1 skull):</span>
<span class="c">124. </span>                <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">roll</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
<span class="c">125. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">STAR_FACE</span><span class="p">)</span>
<span class="c">126. </span>                    <span class="n">stars</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">127. </span>                <span class="k">elif</span> <span class="mi">4</span> <span class="o">&lt;=</span> <span class="n">roll</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
<span class="c">128. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QUESTION_FACE</span><span class="p">)</span>
<span class="c">129. </span>                <span class="k">else</span><span class="p">:</span>
<span class="c">130. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SKULL_FACE</span><span class="p">)</span>
<span class="c">131. </span>                    <span class="n">skulls</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">132. </span>            <span class="k">if</span> <span class="n">dice</span> <span class="o">==</span> <span class="n">SILVER</span><span class="p">:</span>
<span class="c">133. </span>                <span class="c1"># Roll a silver die (2 stars, 2 questions, 2 skulls):</span>
<span class="c">134. </span>                <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">roll</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
<span class="c">135. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">STAR_FACE</span><span class="p">)</span>
<span class="c">136. </span>                    <span class="n">stars</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">137. </span>                <span class="k">elif</span> <span class="mi">3</span> <span class="o">&lt;=</span> <span class="n">roll</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
<span class="c">138. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QUESTION_FACE</span><span class="p">)</span>
<span class="c">139. </span>                <span class="k">else</span><span class="p">:</span>
<span class="c">140. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SKULL_FACE</span><span class="p">)</span>
<span class="c">141. </span>                    <span class="n">skulls</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">142. </span>            <span class="k">if</span> <span class="n">dice</span> <span class="o">==</span> <span class="n">BRONZE</span><span class="p">:</span>
<span class="c">143. </span>                <span class="c1"># Roll a bronze die (1 star, 2 questions, 3 skulls):</span>
<span class="c">144. </span>                <span class="k">if</span> <span class="n">roll</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">145. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">STAR_FACE</span><span class="p">)</span>
<span class="c">146. </span>                    <span class="n">stars</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">147. </span>                <span class="k">elif</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">roll</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
<span class="c">148. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QUESTION_FACE</span><span class="p">)</span>
<span class="c">149. </span>                <span class="k">else</span><span class="p">:</span>
<span class="c">150. </span>                    <span class="n">rollResults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SKULL_FACE</span><span class="p">)</span>
<span class="c">151. </span>                    <span class="n">skulls</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="c">152. </span>
<span class="c">153. </span>        <span class="c1"># Display roll results:</span>
<span class="c">154. </span>        <span class="k">for</span> <span class="n">lineNum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">FACE_HEIGHT</span><span class="p">):</span>
<span class="c">155. </span>            <span class="k">for</span> <span class="n">diceNum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="c">156. </span>                <span class="nb">print</span><span class="p">(</span><span class="n">rollResults</span><span class="p">[</span><span class="n">diceNum</span><span class="p">][</span><span class="n">lineNum</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">157. </span>            <span class="nb">print</span><span class="p">()</span>  <span class="c1"># Print a newline.</span>
<span class="c">158. </span>
<span class="c">159. </span>        <span class="c1"># Display the type of dice each one is (gold, silver, bronze):</span>
<span class="c">160. </span>        <span class="k">for</span> <span class="n">diceType</span> <span class="ow">in</span> <span class="n">hand</span><span class="p">:</span>
<span class="c">161. </span>            <span class="nb">print</span><span class="p">(</span><span class="n">diceType</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">FACE_WIDTH</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">162. </span>        <span class="nb">print</span><span class="p">()</span>  <span class="c1"># Print a newline.</span>
<span class="c">163. </span>
<span class="c">164. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Stars collected:&#39;</span><span class="p">,</span> <span class="n">stars</span><span class="p">,</span> <span class="s1">&#39;  Skulls collected:&#39;</span><span class="p">,</span> <span class="n">skulls</span><span class="p">)</span>
<span class="c">165. </span>
<span class="c">166. </span>        <span class="c1"># Check if they&#39;ve collected 3 or more skulls:</span>
<span class="c">167. </span>        <span class="k">if</span> <span class="n">skulls</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<span class="c">168. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;3 or more skulls means you</span><span class="se">\&#39;</span><span class="s1">ve lost your stars!&#39;</span><span class="p">)</span>
<span class="c">169. </span>            <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to continue...&#39;</span><span class="p">)</span>
<span class="c">170. </span>            <span class="k">break</span>
<span class="c">171. </span>
<span class="c">172. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, do you want to roll again? Y/N&#39;</span><span class="p">)</span>
<span class="c">173. </span>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Keep asking the player until they enter Y or N:</span>
<span class="c">174. </span>            <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="c">175. </span>            <span class="k">if</span> <span class="n">response</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">response</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">):</span>
<span class="c">176. </span>                <span class="k">break</span>
<span class="c">177. </span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter Yes or No.&#39;</span><span class="p">)</span>
<span class="c">178. </span>
<span class="c">179. </span>        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;N&#39;</span><span class="p">):</span>
<span class="c">180. </span>            <span class="nb">print</span><span class="p">(</span><span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">],</span> <span class="s1">&#39;got&#39;</span><span class="p">,</span> <span class="n">stars</span><span class="p">,</span> <span class="s1">&#39;stars!&#39;</span><span class="p">)</span>
<span class="c">181. </span>            <span class="c1"># Add stars to this player&#39;s point total:</span>
<span class="c">182. </span>            <span class="n">playerScores</span><span class="p">[</span><span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]]</span> <span class="o">+=</span> <span class="n">stars</span>
<span class="c">183. </span>
<span class="c">184. </span>            <span class="c1"># Check if they&#39;ve reached 13 or more points:</span>
<span class="c">185. </span>            <span class="c1"># (!) Try changing this to 5 or 50 points.</span>
<span class="c">186. </span>            <span class="k">if</span> <span class="p">(</span><span class="n">endGameWith</span> <span class="o">==</span> <span class="kc">None</span>
<span class="c">187. </span>                <span class="ow">and</span> <span class="n">playerScores</span><span class="p">[</span><span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="mi">13</span><span class="p">):</span>
<span class="c">188. </span>                <span class="c1"># Since this player reached 13 points, play one more</span>
<span class="c">189. </span>                <span class="c1"># round for all other players:</span>
<span class="c">190. </span>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;!&#39;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">))</span>
<span class="c">191. </span>                <span class="nb">print</span><span class="p">(</span><span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; has reached 13 points!!!&#39;</span><span class="p">)</span>
<span class="c">192. </span>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Everyone else will get one more turn!&#39;</span><span class="p">)</span>
<span class="c">193. </span>                <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;!&#39;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="c">194. </span>                <span class="n">endGameWith</span> <span class="o">=</span> <span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]</span>
<span class="c">195. </span>            <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Press Enter to continue...&#39;</span><span class="p">)</span>
<span class="c">196. </span>            <span class="k">break</span>
<span class="c">197. </span>
<span class="c">198. </span>        <span class="c1"># Discard the stars and skulls, but keep the question marks:</span>
<span class="c">199. </span>        <span class="n">nextHand</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c">200. </span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="c">201. </span>            <span class="k">if</span> <span class="n">rollResults</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">QUESTION_FACE</span><span class="p">:</span>
<span class="c">202. </span>                <span class="n">nextHand</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hand</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1"># Keep the question marks.</span>
<span class="c">203. </span>        <span class="n">hand</span> <span class="o">=</span> <span class="n">nextHand</span>
<span class="c">204. </span>
<span class="c">205. </span>    <span class="c1"># Move on to the next player&#39;s turn:</span>
<span class="c">206. </span>    <span class="n">turn</span> <span class="o">=</span> <span class="p">(</span><span class="n">turn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">numPlayers</span>
<span class="c">207. </span>
<span class="c">208. </span>    <span class="c1"># If the game has ended, break out of this loop:</span>
<span class="c">209. </span>    <span class="k">if</span> <span class="n">endGameWith</span> <span class="o">==</span> <span class="n">playerNames</span><span class="p">[</span><span class="n">turn</span><span class="p">]:</span>
<span class="c">210. </span>        <span class="k">break</span>  <span class="c1"># End the game.</span>
<span class="c">211. </span>
<span class="c">212. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The game has ended...&#39;</span><span class="p">)</span>
<span class="c">213. </span>
<span class="c">214. </span><span class="c1"># Display everyone&#39;s score:</span>
<span class="c">215. </span><span class="nb">print</span><span class="p">()</span>
<span class="c">216. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SCORES: &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">217. </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">playerNames</span><span class="p">):</span>
<span class="c">218. </span>    <span class="nb">print</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">playerScores</span><span class="p">[</span><span class="n">name</span><span class="p">]),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">219. </span>    <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">playerNames</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">220. </span>        <span class="c1"># All but the last player have commas separating their names.</span>
<span class="c">221. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c">222. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="c">223. </span>
<span class="c">224. </span><span class="c1"># Find out who the winners are:</span>
<span class="c">225. </span><span class="n">highestScore</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c">226. </span><span class="n">winners</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c">227. </span><span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">playerScores</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="c">228. </span>    <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">highestScore</span><span class="p">:</span>
<span class="c">229. </span>        <span class="c1"># This player has the highest score:</span>
<span class="c">230. </span>        <span class="n">highestScore</span> <span class="o">=</span> <span class="n">score</span>
<span class="c">231. </span>        <span class="n">winners</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span>  <span class="c1"># Overwrite any previous winners.</span>
<span class="c">232. </span>    <span class="k">elif</span> <span class="n">score</span> <span class="o">==</span> <span class="n">highestScore</span><span class="p">:</span>
<span class="c">233. </span>        <span class="c1"># This player is tied with the highest score.</span>
<span class="c">234. </span>        <span class="n">winners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="c">235. </span>
<span class="c">236. </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">winners</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="c">237. </span>    <span class="c1"># There is only one winner:</span>
<span class="c">238. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The winner is &#39;</span> <span class="o">+</span> <span class="n">winners</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;!!!&#39;</span><span class="p">)</span>
<span class="c">239. </span><span class="k">else</span><span class="p">:</span>
<span class="c">240. </span>    <span class="c1"># There are multiple tied winners:</span>
<span class="c">241. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The winners are: &#39;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">winners</span><span class="p">))</span>
<span class="c">242. </span>
<span class="c">243. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Thanks for playing!&#39;</span><span class="p">)</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. The comments marked with <code class="calibre22">(!)</code> have suggestions for small changes you can make.</p>
<h2 id="calibre_link-185" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you delete or comment out <code class="calibre22">random.shuffle(cup)</code> on line 114?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">skulls &gt;= 3</code> on line 167 to <code class="calibre22">skulls &gt; 3</code>?</li>
<li value="3" class="calibre8">What error message do you get if you change <code class="calibre22">(turn + 1) % numPlayers</code> on line 206 to <code class="calibre22">(turn + 1)</code>?</li>
<li value="4" class="calibre8">What happens if you change <code class="calibre22">endGameWith = None</code> on line 84 to <code class="calibre22">endGameWith = playerNames[0]</code>?</li>
<li value="5" class="calibre8">What happens if you delete or comment out <code class="calibre22">break</code> on line 170?</li>
<li value="6" class="calibre8">What happens if you change <code class="calibre22">playerScores[response] = 0</code> on line 76 to <code class="calibre22">playerScores[response] = 10</code>?</li>
</ol>
</section>
</div>








<a href="project40.html">Prev: Leetspeak</a> | <a href="project42.html">Next: Magic Fortune Ball</a>
</body></html>