<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="pygments.css"><title>Ninety Nine Bottles</title></head><body style="background-color: #fffeee;">

<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="project49.html">Prev: Multiplication Table</a> | <a href="project51.html">Next: niNety nniinE BoOttels</a>





<div type="bodymatter chapter" class="calibre1" id="calibre_link-218">
<section class="toclist">
<header class="calibre10">
<h1 class="chapter">
<span class="chapternumber">#50</span><br class="calibre14" />
<span class="chaptertitle">Ninety-Nine Bottles</span></h1>
</header>
<figure class="opener">
<img src="images/000002.webp" alt="" class="calibre12" />
</figure>
<p class="chapterintro">“Ninety-Nine Bottles” is a folk song of undetermined origin known for its length and repetitiveness. The lyrics go, “Ninety-nine bottles of milk on the wall, ninety-nine bottles of milk. Take one down, pass it around, ninety-eight bottles of milk on the wall.” As the lyrics repeat, the number of bottles falls from ninety-eight to ninety-seven, then from ninety-seven to ninety-six, until it reaches zero: “One bottle of milk on the wall, one bottle of milk. Take it down, pass it around, no more bottles of milk on the wall!”</p>
<p class="calibre18">Luckily for us, computers are excellent at performing repetitive tasks, and this program reproduces all of the lyrics programmatically. An extended version of this program is in Project 51, “niNety-nniinE BoOttels.”</p>
<h2 id="calibre_link-219" class="calibre5">The Program in Action</h2>
<p class="bodyfirst">When you run <em class="calibre9">ninetyninebottles.py</em>, the output will look like this:</p>
<pre class="calibre24"><code class="calibre22">Ninety-Nine Bottles, by Al Sweigart al@inventwithpython.com

(Press Ctrl-C to quit.)
99 bottles of milk on the wall,
99 bottles of milk,
Take one down, pass it around,
98 bottles of milk on the wall!

98 bottles of milk on the wall,
98 bottles of milk,
Take one down, pass it around,
97 bottles of milk on the wall!
<var class="calibre27">--snip--</var></code></pre>
<h2 id="calibre_link-220" class="calibre5">How It Works</h2>
<p class="bodyfirst">The repetition in this song makes it easy to use a <code class="calibre22">for</code> loop (from lines 20 to 30) to display the first 98 stanzas. However, the last stanza has some minor differences and requires separate code to display (lines 33 to 39). This is because the last line, <code class="calibre22">'No more bottles of milk on the wall!'</code>, deviates from the line repeated in the loop, and because the word “bottle” is singular rather than plural.</p>
<div class="highlight"><pre><span></span>
<span class="c"> 1. </span><span class="sd">&quot;&quot;&quot;Ninety-Nine Bottles of Milk on the Wall</span>
<span class="c"> 2. </span><span class="sd">By Al Sweigart al@inventwithpython.com</span>
<span class="c"> 3. </span><span class="sd">Print the full lyrics to one of the longest songs ever! Press</span>
<span class="c"> 4. </span><span class="sd">Ctrl-C to stop.</span>
<span class="c"> 5. </span><span class="sd">This code is available at https://nostarch.com/big-book-small-python-programming</span>
<span class="c"> 6. </span><span class="sd">Tags: tiny, beginner, scrolling&quot;&quot;&quot;</span>
<span class="c"> 7. </span>
<span class="c"> 8. </span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span>
<span class="c"> 9. </span>
<span class="c">10. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Ninety-Nine Bottles, by Al Sweigart al@inventwithpython.com&#39;</span><span class="p">)</span>
<span class="c">11. </span><span class="nb">print</span><span class="p">()</span>
<span class="c">12. </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(Press Ctrl-C to quit.)&#39;</span><span class="p">)</span>
<span class="c">13. </span>
<span class="c">14. </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c">15. </span>
<span class="c">16. </span><span class="n">bottles</span> <span class="o">=</span> <span class="mi">99</span>  <span class="c1"># This is the starting number of bottles.</span>
<span class="c">17. </span><span class="n">PAUSE</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># (!) Try changing this to 0 to see the full song at once.</span>
<span class="c">18. </span>
<span class="c">19. </span><span class="k">try</span><span class="p">:</span>
<span class="c">20. </span>    <span class="k">while</span> <span class="n">bottles</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Keep looping and display the lyrics.</span>
<span class="c">21. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">bottles</span><span class="p">,</span> <span class="s1">&#39;bottles of milk on the wall,&#39;</span><span class="p">)</span>
<span class="c">22. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>  <span class="c1"># Pause for PAUSE number of seconds.</span>
<span class="c">23. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">bottles</span><span class="p">,</span> <span class="s1">&#39;bottles of milk,&#39;</span><span class="p">)</span>
<span class="c">24. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>
<span class="c">25. </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Take one down, pass it around,&#39;</span><span class="p">)</span>
<span class="c">26. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>
<span class="c">27. </span>        <span class="n">bottles</span> <span class="o">=</span> <span class="n">bottles</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># Decrease the number of bottles by one.</span>
<span class="c">28. </span>        <span class="nb">print</span><span class="p">(</span><span class="n">bottles</span><span class="p">,</span> <span class="s1">&#39;bottles of milk on the wall!&#39;</span><span class="p">)</span>
<span class="c">29. </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>
<span class="c">30. </span>        <span class="nb">print</span><span class="p">()</span>  <span class="c1"># Print a newline.</span>
<span class="c">31. </span>
<span class="c">32. </span>    <span class="c1"># Display the last stanza:</span>
<span class="c">33. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1 bottle of milk on the wall,&#39;</span><span class="p">)</span>
<span class="c">34. </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>
<span class="c">35. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1 bottle of milk,&#39;</span><span class="p">)</span>
<span class="c">36. </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>
<span class="c">37. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Take it down, pass it around,&#39;</span><span class="p">)</span>
<span class="c">38. </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">PAUSE</span><span class="p">)</span>
<span class="c">39. </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No more bottles of milk on the wall!&#39;</span><span class="p">)</span>
<span class="c">40. </span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="c">41. </span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>  <span class="c1"># When Ctrl-C is pressed, end the program.</span>
</pre></div>

<p class="calibre19">After entering the source code and running it a few times, try making experimental changes to it. On your own, you can also try to figure out how to do the following:</p>
<ul class="calibre25">
<li class="calibre8">Create a program for the repetitive song “The Twelve Days of Christmas.”</li>
<li class="calibre8">Create programs for other cumulative songs. You can find a list of them at <a href="https://en.wikipedia.org/wiki/Cumulative_song" class="linkurl">https://en.wikipedia.org/wiki/Cumulative_song</a>.</li>
</ul>
<h2 id="calibre_link-221" class="calibre5">Exploring the Program</h2>
<p class="bodyfirst">Try to find the answers to the following questions. Experiment with some modifications to the code and rerun the program to see what effect the changes have.</p>
<ol class="decimal">
<li value="1" class="calibre8">What happens if you change <code class="calibre22">bottles = bottles - 1</code> on line 27 to <code class="calibre22">bottles = bottles - 2</code>?</li>
<li value="2" class="calibre8">What happens if you change <code class="calibre22">while bottles &gt; 1:</code> on line 20 to <code class="calibre22">while bottles &lt; 1:</code>?</li>
</ol>
</section>
</div>








<a href="project49.html">Prev: Multiplication Table</a> | <a href="project51.html">Next: niNety nniinE BoOttels</a>
</body></html>