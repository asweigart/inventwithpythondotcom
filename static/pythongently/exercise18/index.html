<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../style_pythongently.css" rel="stylesheet" type="text/css" />
<title>Exercise 18 - Buy 8 Get 1 Free</title></head><body style="background-color: #fffeee;"><p><a href="../exercise17/">Prev - #17 Dice Roll</a> | <a href="../index.html">Table of Contents</a> | <a href="../exercise19/">Next - #19 Password Generator</a></p>




<h1><a name="_Toc115418687"></a><a name="_Toc115359998">Exercise #18: Buy 8 Get
1 Free</a></h1>
<p class="ChapterTitleCodeExample">   getCostOfCoffee(7, 2.50)  <span style="font-size:13.0pt">→ </span> 17.50<br/>
getCostOfCoffee(8, 2.50)  <span style="font-size:13.0pt">→ </span> 20<br/>
getCostOfCoffee(9, 2.50)  <span style="font-size:13.0pt">→ </span> 20</p>
<p class="ChapterTitleCodeExample"><span style='font-size:8.0pt;font-family:"MS Shell Dlg 2","sans-serif"'><img border="0" height="144" id="Picture 29" src="../images/image021.jpg" width="271"/></span></p>
<p class="Body">Let’s say a coffee shop punches holes into a customer’s card each
time they buy a coffee. After the card has eight hole punches, the customer can
use the card to get their 9<sup>th</sup> cup of coffee for free. In this
exercise, you’ll translate this into a simple calculation to see how much a
given quantity of coffees costs while considering this buy-8-get-1-free system.</p>
<p class="HeadA">Exercise Description</p>
<p class="Body">Write a function named <code>getCostOfCoffee()</code>
that has a parameters named <code>numberOfCoffees</code> and <span class="Literal">pricePerCoffee</span>. Given this information, the function
returns the total cost of the coffee order. This is not a simple multiplication
of cost and quantity, however, because the coffee shop has an offer where you
get one free coffee for every eight coffees you buy.</p>
<p class="Body">For example, buying eight coffees for $2.50 each costs $20 (or 8 ×
2.5). But buying nine coffees also costs $20, since the first eight makes the
ninth coffee free. Buying ten coffees calculates as follows: $20 for the first
eight coffees, a free ninth coffee, and $2.50 for the tenth coffee for a total
of $22.50.</p>
<p class="Body">These Python <code>assert</code> statements stop
the program if their condition is <code>False</code>. Copy them
to the bottom of your solution program. Your solution is correct if the following
<code>assert</code> statements’ conditions are all <span class="Literal">True</span>:</p>
<p class="CodeCxSpFirst">assert getCostOfCoffee(7, 2.50) == 17.50</p>
<p class="CodeCxSpMiddle">assert getCostOfCoffee(8, 2.50) == 20</p>
<p class="CodeCxSpMiddle">assert getCostOfCoffee(9, 2.50) == 20</p>
<p class="CodeCxSpMiddle">assert getCostOfCoffee(10, 2.50) == 22.50</p>
<p class="CodeCxSpMiddle"> </p>
<p class="CodeCxSpMiddle">for i in range(1, 4):</p>
<p class="CodeCxSpMiddle">    assert getCostOfCoffee(0, i) == 0</p>
<p class="CodeCxSpMiddle">    assert getCostOfCoffee(8, i) == 8 * i</p>
<p class="CodeCxSpMiddle">    assert getCostOfCoffee(9, i) == 8 * i</p>
<p class="CodeCxSpMiddle">    assert getCostOfCoffee(18, i) == 16 * i</p>
<p class="CodeCxSpMiddle">    assert getCostOfCoffee(19, i) == 17 * i</p>
<p class="CodeCxSpLast">    assert getCostOfCoffee(30, i) == 27 * i</p>
<p class="Body">Try to write a solution based on the information in this
description. If you still have trouble solving this exercise, read the <span class="Bold">Solution Design and Special Cases and Gotchas</span> sections for
additional hints.</p>
<p class="Body">Prerequisite concepts: <code>while</code> loops,
augmented assignment operator</p>
<p class="HeadA">Solution Design</p>
<p class="Body">I have two solutions for this exercise. The simpler one is a counting
approach to this exercise. First, we create variables to track how much the
total price is so far (this starts at <code>0</code>) and how
many cups until we get a free cup of coffee (this starts at <span class="Literal">8</span>). We then have a <code>while</code> loop
that continues looping as long as there are still cups of coffee to count.
Inside the loop, we decrement the <code>numberOfCoffees</code>
argument and check if this is a free cup of coffee. If it is, we reset the
number of cups to the next free cup back to 8. If it isn't a free coffee, we
increase the total price and decrement the number of cups to the next free cup.</p>
<p class="Body">After the loop finishes, the function returns the variable
tracking the total price.</p>
<p class="HeadA">Special Cases and Gotchas</p>
<p class="Body">There are several places where you can have an <span class="Italic"><span style='font-family:"serif"'>off-by-one</span></span>
error. These errors result from simple oversights that lead to slightly wrong
calculations.</p>
<p class="Body">First, note that you must buy eight cups of coffee to get the
ninth cup for free; you don't get the eighth cup for free. Also the free cup of
coffee doesn't count towards the eight cups you buy to get a free cup. The
price of eight cups and nine cups is the same: you can purposefully forego a
free cup of coffee.</p>
<p class="Body">Now try to write a solution based on the information in the
previous sections. If you still have trouble solving this exercise, read the <span class="Bold">Solution Template</span> section for additional hints.</p>
<p class="HeadA">Solution Template</p>
<p class="Body">Try to first write a solution from scratch. But if you have
difficulty, you can use the following partial program as a starting place. Copy
the following code from <span class="MsoHyperlink">https://invpy.com/buy8get1free-template.py</span>
and paste it into your code editor. Replace the underscores with code to make a
working program:</p>
<p class="CodeCxSpFirst">def getCostOfCoffee(numberOfCoffees, pricePerCoffee):</p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Track the total price:</span></p>
<p class="CodeCxSpMiddle">    totalPrice = ____</p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Track how many coffees we
have until we get a free one:</span></p>
<p class="CodeCxSpMiddle">    cupsUntilFreeCoffee = 8</p>
<p class="CodeCxSpMiddle"> </p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Loop until the number of
coffees to buy reaches 0:</span></p>
<p class="CodeCxSpMiddle">    while numberOfCoffees ____ 0:</p>
<p class="CodeCxSpMiddle">        <span class="CodeComment"># Decrement the number
of coffees left to buy:</span></p>
<p class="CodeCxSpMiddle">        ____ -= 1</p>
<p class="CodeCxSpMiddle"> </p>
<p class="CodeCxSpMiddle">        <span class="CodeComment"># If this cup of coffee
is free, reset the number to buy until</span></p>
<p class="CodeCxSpMiddle">        <span class="CodeComment"># a free cup back to 8:</span></p>
<p class="CodeCxSpMiddle">        if cupsUntilFreeCoffee == ____:</p>
<p class="CodeCxSpMiddle">            ____ = 8</p>
<p class="CodeCxSpMiddle">        <span class="CodeComment"># Otherwise, pay for a
cup of coffee:</span></p>
<p class="CodeCxSpMiddle">        else:</p>
<p class="CodeCxSpMiddle">            <span class="CodeComment"># Increase the
total price:</span></p>
<p class="CodeCxSpMiddle">            totalPrice += ____</p>
<p class="CodeCxSpMiddle">            <span class="CodeComment"># Decrement the
coffees left until we get a free coffee:</span></p>
<p class="CodeCxSpMiddle">            cupsUntilFreeCoffee -= ____</p>
<p class="CodeCxSpMiddle"> </p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Return the total price:</span></p>
<p class="CodeCxSpLast">    return ____</p>
<p class="Body">The complete solution for this exercise is given in Appendix A
and <span class="MsoHyperlink">https://invpy.com/buy8get1free.py</span>. You can
view each step of this program as it runs under a debugger at <span class="MsoHyperlink">https://invpy.com/buy8get1free-debug/</span>.</p>
<p class="HeadA">Another Solution Design</p>
<p class="Body">The counting solution design, while simple, gets slower the
larger the number of purchased coffees becomes. If you called <span class="Literal">getCostOfCoffee(1000000000, 2.50)</span> it could take a couple
of minutes before the function returns an answer. There’s a more direct way to
calculate the total price for these large coffee orders.</p>
<p class="Body">First, you can calculate the number of free coffees by integer
dividing <code>numberOfCoffees</code> by <code>9</code>.
For every nine coffees, one is a free coffee. Any remainder coffees don’t
matter for counting the number of free coffees, which is why you use the <span class="Literal">//</span> integer division operator instead of the <span class="Literal">/</span> regular division operator. Store this division result in
a variable named <code>numberOfFreeCoffees</code>.</p>
<p class="Body">To calculate the number of paid coffees, subtract <span class="Literal">numberOfFreeCoffees</span> from <code>numberOfCoffees</code>
and store this difference in a variable named <code>numberOfPaidCoffees</code>.
(This makes sense; coffees are either paid for or free, so the number of paid
and free coffees must add up to <code>numberOfCoffees</code>).
The final value to return is the <code>numberOfPaidCoffees</code>
times the <code>pricePerCoffee</code>.</p>
<p class="Body">The benefit of this solution design is that it does three
calculations (a division, a subtraction, and a multiplication) no matter how
big or small <code>numberOfCoffees</code>. Calling <span class="Literal">getCostOfCoffee(1000000000, 2.50)</span> with this implementation
finishes in milliseconds rather than minutes.</p>
<p class="HeadA">Another Solution Template</p>
<p class="Body">Try to first write a solution from scratch. But if you have
difficulty, you can use the following partial program as a starting place. Copy
the following code from <span class="MsoHyperlink">https://invpy.com/buy8get1free2-template.py</span>
and paste it into your code editor. Replace the underscores with code to make a
working program:</p>
<p class="CodeCxSpFirst">def getCostOfCoffee(numberOfCoffees, pricePerCoffee):</p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Calculate the number of
free coffees we get in this order:</span></p>
<p class="CodeCxSpMiddle">    numberOfFreeCoffees = ____ // 9</p>
<p class="CodeCxSpMiddle"> </p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Calculate the number of
coffees we will have to pay for in this order:</span></p>
<p class="CodeCxSpMiddle">    numberOfPaidCoffees = numberOfCoffees - ____</p>
<p class="CodeCxSpMiddle"> </p>
<p class="CodeCxSpMiddle">    <span class="CodeComment"># Calculate and return the
price:</span></p>
<p class="CodeCxSpLast">    return ____ * ____</p>
<p class="Body">The complete solution for this exercise is given in Appendix A and
<span class="MsoHyperlink">https://invpy.com/buy8get1free2.py</span>. You can
view each step of this program as it runs under a debugger at <span class="MsoHyperlink">https://invpy.com/buy8get1free2-debug/</span>.</p>



<p><a href="../exercise17/">Prev - #17 Dice Roll</a> | <a href="../index.html">Table of Contents</a> | <a href="../exercise19/">Next - #19 Password Generator</a></p></body></html>