<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="invent4thedstyleb.css" rel="stylesheet" type="text/css" /><title>Chapter 8 - Writing the Hangman Code</title></head><body style="background-color: #fffeee;">

<!--<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>-->


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.png" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.png" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.jpg" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="chapter7.html">Prev: Chapter 7 - Designing Hangman with Flowcharts</a> | <a href="chapter9.html">Next: Chapter 9 - Extending Hangman</a>



<div id="calibre_link-23" class="calibre">
<h2 class="h1" id="calibre_link-49"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-875" class="calibre1"></span><span class="big"><strong class="calibre2">8</strong></span><br class="calibre9" /><strong class="calibre2">WRITING THE HANGMAN CODE</strong></h2>
<div class="imagec"><img src="images/00016.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">This chapter’s game introduces many new concepts, but don’t worry: you’ll experiment with them in the interactive shell before actually programming the game. You’ll learn about <em class="calibre6">methods</em>, which are functions attached to values. You’ll also learn about a new data type called a <em class="calibre6">list</em>. Once you understand these concepts, it will be much easier to program Hangman.</p>
<div class="sidebar">
<p class="sidebart"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-327" class="calibre1"></span><strong class="calibre2">TOPICS COVERED IN THIS CHAPTER</strong></p>
<p class="bull">• Lists</p>
<p class="bull">• The <span class="literal1">in</span> operator</p>
<p class="bull">• Methods</p>
<p class="bull">• The <span class="literal1">split()</span>, <span class="literal1">lower()</span>, <span class="literal1">upper()</span>, <span class="literal1">startswith()</span>, and <span class="literal1">endswith()</span> string methods</p>
<p class="bull">• <span class="literal1">elif</span> statements</p>
</div>
<h3 class="h2" id="calibre_link-506"><strong class="calibre2">Source Code for Hangman</strong></h3>
<p class="noindent">This chapter’s game is a bit longer than the previous games, but much of it is the ASCII art for the hanging man pictures. Enter the following into the file editor and save it as <em class="calibre6">hangman.py</em>. If you get errors after entering the following code, compare the code you typed to the book’s code with the online diff tool at <em class="calibre6"><a href="https://www.nostarch.com/inventwithpython#diff" class="calibre4">https://www.nostarch.com/inventwithpython#diff</a></em>.</p>
<div class="image"><img src="images/00020.jpeg" alt="image" class="calibre3" /></div>
<p class="sidenote"><em class="calibre6">hangman.py</em></p>
<p class="programs">&nbsp;&nbsp;1. import random<br class="calibre7" />&nbsp;&nbsp;2. HANGMAN_PICS = ['''<br class="calibre7" />&nbsp;&nbsp;3.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;&nbsp;4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;&nbsp;5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;&nbsp;6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;&nbsp;7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />&nbsp;&nbsp;8.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;&nbsp;9.&nbsp;&nbsp;&nbsp;O&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />&nbsp;13.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;14.&nbsp;&nbsp;&nbsp;O&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;15.&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;16.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;17.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />&nbsp;18.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;19.&nbsp;&nbsp;&nbsp;O&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;20.&nbsp;&nbsp;/|&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;21.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;22.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />&nbsp;23.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;24.&nbsp;&nbsp;&nbsp;O&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;25.&nbsp;&nbsp;/|\&nbsp;&nbsp;|<br class="calibre7" />&nbsp;26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-876"></span>&nbsp;27.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />&nbsp;28.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;29.&nbsp;&nbsp;&nbsp;O&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;30.&nbsp;&nbsp;/|\&nbsp;&nbsp;|<br class="calibre7" />&nbsp;31.&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />&nbsp;33.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />&nbsp;34.&nbsp;&nbsp;&nbsp;O&nbsp;&nbsp;&nbsp;|<br class="calibre7" />&nbsp;35.&nbsp;&nbsp;/|\&nbsp;&nbsp;|<br class="calibre7" />&nbsp;36.&nbsp;&nbsp;/ \&nbsp;&nbsp;|<br class="calibre7" />&nbsp;37.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''']<br class="calibre7" />&nbsp;38. words = 'ant baboon badger bat bear beaver camel cat clam cobra cougar<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coyote crow deer dog donkey duck eagle ferret fox frog goat goose hawk<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lion lizard llama mole monkey moose mouse mule newt otter owl panda<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parrot pigeon python rabbit ram rat raven rhino salmon seal shark sheep<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skunk sloth snake spider stork swan tiger toad trout turkey turtle<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weasel whale wolf wombat zebra'.split()<br class="calibre7" />&nbsp;39.<br class="calibre7" />&nbsp;40. def getRandomWord(wordList):<br class="calibre7" />&nbsp;41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This function returns a random string from the passed list of<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.<br class="calibre7" />&nbsp;42.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wordIndex = random.randint(0, len(wordList) - 1)<br class="calibre7" />&nbsp;43.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return wordList[wordIndex]<br class="calibre7" />&nbsp;44.<br class="calibre7" />&nbsp;45. def displayBoard(missedLetters, correctLetters, secretWord):<br class="calibre7" />&nbsp;46.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(HANGMAN_PICS[len(missedLetters)])<br class="calibre7" />&nbsp;47.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()<br class="calibre7" />&nbsp;48.<br class="calibre7" />&nbsp;49.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Missed letters:', end=' ')<br class="calibre7" />&nbsp;50.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for letter in missedLetters:<br class="calibre7" />&nbsp;51.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(letter, end=' ')<br class="calibre7" />&nbsp;52.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()<br class="calibre7" />&nbsp;53.<br class="calibre7" />&nbsp;54.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blanks = '_' * len(secretWord)<br class="calibre7" />&nbsp;55.<br class="calibre7" />&nbsp;56.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for i in range(len(secretWord)): # Replace blanks with correctly<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guessed letters.<br class="calibre7" />&nbsp;57.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if secretWord[i] in correctLetters:<br class="calibre7" />&nbsp;58.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blanks = blanks[:i] + secretWord[i] + blanks[i+1:]<br class="calibre7" />&nbsp;59.<br class="calibre7" />&nbsp;60.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for letter in blanks: # Show the secret word with spaces in between<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each letter.<br class="calibre7" />&nbsp;61.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(letter, end=' ')<br class="calibre7" />&nbsp;62.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()<br class="calibre7" />&nbsp;63.<br class="calibre7" />&nbsp;64. def getGuess(alreadyGuessed):<br class="calibre7" />&nbsp;65.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Returns the letter the player entered. This function makes sure the<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;player entered a single letter and not something else.<br class="calibre7" />&nbsp;66.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while True:<br class="calibre7" />&nbsp;67.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Guess a letter.')<br class="calibre7" />&nbsp;68.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guess = input()<br class="calibre7" />&nbsp;69.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guess = guess.lower()<br class="calibre7" />&nbsp;70.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if len(guess) != 1:<br class="calibre7" />&nbsp;71.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Please enter a single letter.')<br class="calibre7" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-877"></span> 72.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif guess in alreadyGuessed:<br class="calibre7" />&nbsp;73.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You have already guessed that letter. Choose again.')<br class="calibre7" />&nbsp;74.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif guess not in 'abcdefghijklmnopqrstuvwxyz':<br class="calibre7" />&nbsp;75.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Please enter a LETTER.')<br class="calibre7" />&nbsp;76.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />&nbsp;77.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return guess<br class="calibre7" />&nbsp;78.<br class="calibre7" />&nbsp;79. def playAgain():<br class="calibre7" />&nbsp;80.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This function returns True if the player wants to play again;<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise, it returns False.<br class="calibre7" />&nbsp;81.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Do you want to play again? (yes or no)')<br class="calibre7" />&nbsp;82.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return input().lower().startswith('y')<br class="calibre7" />&nbsp;83.<br class="calibre7" />&nbsp;84.<br class="calibre7" />&nbsp;85. print('H A N G M A N')<br class="calibre7" />&nbsp;86. missedLetters = ''<br class="calibre7" />&nbsp;87. correctLetters = ''<br class="calibre7" />&nbsp;88. secretWord = getRandomWord(words)<br class="calibre7" />&nbsp;89. gameIsDone = False<br class="calibre7" />&nbsp;90.<br class="calibre7" />&nbsp;91. while True:<br class="calibre7" />&nbsp;92.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayBoard(missedLetters, correctLetters, secretWord)<br class="calibre7" />&nbsp;93.<br class="calibre7" />&nbsp;94.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Let the player enter a letter.<br class="calibre7" />&nbsp;95.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guess = getGuess(missedLetters + correctLetters)<br class="calibre7" />&nbsp;96.<br class="calibre7" />&nbsp;97.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if guess in secretWord:<br class="calibre7" />&nbsp;98.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctLetters = correctLetters + guess<br class="calibre7" />&nbsp;99.<br class="calibre7" />100.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if the player has won.<br class="calibre7" />101.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foundAllLetters = True<br class="calibre7" />102.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for i in range(len(secretWord)):<br class="calibre7" />103.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if secretWord[i] not in correctLetters:<br class="calibre7" />104.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foundAllLetters = False<br class="calibre7" />105.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br class="calibre7" />106.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if foundAllLetters:<br class="calibre7" />107.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Yes! The secret word is "' + secretWord +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'"! You have won!')<br class="calibre7" />108.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameIsDone = True<br class="calibre7" />109.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />110.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missedLetters = missedLetters + guess<br class="calibre7" />111.<br class="calibre7" />112.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if player has guessed too many times and lost.<br class="calibre7" />113.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if len(missedLetters) == len(HANGMAN_PICS) - 1:<br class="calibre7" />114.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayBoard(missedLetters, correctLetters, secretWord)<br class="calibre7" />115.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You have run out of guesses!\nAfter ' +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str(len(missedLetters)) + ' missed guesses and ' +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str(len(correctLetters)) + ' correct guesses,<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the word was "' + secretWord + '"')<br class="calibre7" />116.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameIsDone = True<br class="calibre7" />117.<br class="calibre7" /><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-257"></span>118.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ask the player if they want to play again (but only if the game is<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done).<br class="calibre7" />119.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if gameIsDone:<br class="calibre7" />120.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if playAgain():<br class="calibre7" />121.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missedLetters = ''<br class="calibre7" />122.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctLetters = ''<br class="calibre7" />123.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameIsDone = False<br class="calibre7" />124.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secretWord = getRandomWord(words)<br class="calibre7" />125.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />126.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</p>
<h3 class="h2" id="calibre_link-507"><strong class="calibre2">Importing the random Module</strong></h3>
<p class="noindent">The Hangman program randomly selects a secret word for the player to guess from a list of words. The <span class="literal1">random</span> module will provide this ability, so line 1 imports it.</p>
<p class="programs">1. import random</p>
<p class="indent">But the <span class="literal1">HANGMAN_PICS</span> variable on line 2 looks a little different from the variables we’ve seen so far. In order to understand what this code means, we need to learn about a few more concepts.</p>
<h3 class="h2" id="calibre_link-508"><strong class="calibre2">Constant Variables</strong></h3>
<p class="noindent">Lines 2 to 37 are one long assignment statement for the <span class="literal1">HANGMAN_PICS</span> variable.</p>
<p class="programs">2. HANGMAN_PICS = ['''<br class="calibre7" />3.&nbsp;&nbsp;&nbsp;+---+<br class="calibre7" />4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br class="calibre7" />7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''', '''<br class="calibre7" />--<span class="codeitalic">snip</span>--<br class="calibre7" />37.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;===''']</p>
<p class="indent">The <span class="literal1">HANGMAN_PICS</span> variable’s name is in all uppercase letters. This is the programming convention for constant variables. <em class="calibre6">Constants</em> are variables meant to have values that never change from their first assignment statement. Although you can change the value in <span class="literal1">HANGMAN_PICS</span> just as you can for any other variable, the all-uppercase name reminds you not to do so.</p>
<p class="indent">As with all conventions, you don’t <em class="calibre6">have</em> to follow this one. But doing so makes it easier for other programmers to read your code. They’ll know that <span class="literal1">HANGMAN_PICS</span> will always have the value it was assigned from lines 2 to 37.</p>
<h3 class="h2" id="calibre_link-509"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-169" class="calibre1"></span><strong class="calibre2">The Lists Data Type</strong></h3>
<p class="noindent"><span class="literal1">HANGMAN_PICS</span> contains several multiline strings. It can do this because it’s a list. Lists have a list value that can contain several other values. Enter this into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals = ['aardvark', 'anteater', 'antelope', 'albert']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals</span><br class="calibre7" />['aardvark', 'anteater', 'antelope', 'albert']</p>
<p class="indent">The list value in <span class="literal1">animals</span> contains four values. List values begin with a left square bracket, <span class="literal1">[</span>, and end with a right square bracket, <span class="literal1">]</span>. This is like how strings begin and end in quotation marks.</p>
<p class="indent">Commas separate the individual values inside of a list. These values are also called <em class="calibre6">items</em>. Each item in <span class="literal1">HANGMAN_PICS</span> is a multiline string.</p>
<p class="indent">Lists let you store several values without using a variable for each one. Without lists, the code would look like this:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals1 = 'aardvark'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals2 = 'anteater'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals3 = 'antelope'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals4 = 'albert'</span></p>
<p class="indent">This code would be hard to manage if you had hundreds or thousands of strings. But a list can easily contain any number of values.</p>
<h4 class="h3" id="calibre_link-510"><em class="calibre10"><strong class="calibre2">Accessing Items with Indexes</strong></em></h4>
<p class="noindenta">You can access an item inside a list by adding square brackets to the end of the list variable with a number between them. The number between the square brackets is the <em class="calibre6">index</em>. In Python, the index of the first item in a list is <span class="literal1">0</span>. The second item is at index <span class="literal1">1</span>, the third item is at index <span class="literal1">2</span>, and so on. Because the indexes begin at <span class="literal1">0</span> and not <span class="literal1">1</span>, we say that Python lists are <em class="calibre6">zero indexed</em>.</p>
<p class="indent">While we’re still in the interactive shell and working with the <span class="literal1">animals</span> list, enter <span class="literal1"><span class="codestrong">animals[0]</span></span>, <span class="literal1"><span class="codestrong">animals[1]</span></span>, <span class="literal1"><span class="codestrong">animals[2]</span></span>, and <span class="literal1"><span class="codestrong">animals[3]</span></span> to see how they evaluate:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals[0]</span><br class="calibre7" />'aardvark'<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals[1]</span><br class="calibre7" />'anteater'<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals[2]</span><br class="calibre7" />'antelope'<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals[3]</span><br class="calibre7" />'albert'</p>
<p class="indent">Notice that the first value in the list, <span class="literal1">'aardvark'</span>, is stored in index <span class="literal1">0</span> and not index <span class="literal1">1</span>. Each item in the list is numbered in order starting from <span class="literal1">0</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-297"></span>Using the square brackets, you can treat items in the list just like any other value. For example, enter <span class="literal1"><span class="codestrong">animals[0] + animals[2]</span></span> into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals[0] + animals[2]</span><br class="calibre7" />'aardvarkantelope'</p>
<p class="indent">Both variables at indexes <span class="literal1">0</span> and <span class="literal1">2</span> of <span class="literal1">animals</span> are strings, so the values are concatenated. The evaluation looks like this:</p>
<div class="image"><img src="images/00098.jpeg" alt="image" class="calibre3" /></div>
<h5 class="h4" id="calibre_link-878"><strong class="calibre2">Out-of-Range Indexes and IndexError</strong></h5>
<p class="noindent">If you try accessing an index that is too high to be in the list, you’ll get an <span class="literal1">IndexError</span> that will crash your program. To see an example of this error, enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals = ['aardvark', 'anteater', 'antelope', 'albert']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals[9999]</span><br class="calibre7" />Traceback (most recent call last):<br class="calibre7" />&nbsp;&nbsp;File "", line 1, in<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;animals[9999]<br class="calibre7" />IndexError: list index out of range</p>
<p class="indent">Because there is no value at index <span class="literal1">9999</span>, you get an error.</p>
<h5 class="h4" id="calibre_link-879"><strong class="calibre2">Changing List Items with Index Assignment</strong></h5>
<p class="noindent">You can also change the value of an item in a list using <em class="calibre6">index assignment</em>. Enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals = ['aardvark', 'anteater', 'antelope', 'albert']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals[1] = 'ANTEATER'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">animals</span><br class="calibre7" />['aardvark', 'ANTEATER', 'antelope', 'albert']</p>
<p class="indent">The new <span class="literal1">'ANTEATER'</span> string overwrites the second item in the <span class="literal1">animals</span> list. So typing <span class="literal1">animals[1]</span> by itself evaluates to the list’s current second item, but using it on the left side of an assignment operator assigns a new value to the list’s second item.</p>
<h4 class="h3" id="calibre_link-511"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-231" class="calibre1"></span><em class="calibre10"><strong class="calibre2">List Concatenation</strong></em></h4>
<p class="noindenta">You can join several lists into one list using the <span class="literal1">+</span> operator, just as you can with strings. Doing so is called <em class="calibre6">list concatenation</em>. To see this in action, enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">[1, 2, 3, 4] + ['apples', 'oranges'] + ['Alice', 'Bob']</span><br class="calibre7" />[1, 2, 3, 4, 'apples', 'oranges', 'Alice', 'Bob']</p>
<p class="indent"><span class="literal1">['apples'] + ['oranges']</span> will evaluate to <span class="literal1">['apples', 'oranges']</span>. But <span class="literal1">['apples'] + 'oranges'</span> will result in an error. You can’t add a list value and a string value with the <span class="literal1">+</span> operator. If you want to add values to the end of a list without using list concatenation, use the <span class="literal1">append()</span> method (described in “<a href="#calibre_link-24" class="calibre4">The <span class="literal1">reverse()</span> and <span class="literal1">append()</span> List Methods</a>” on <a href="#calibre_link-25" class="calibre4">page 95</a>).</p>
<h4 class="h3" id="calibre_link-512"><em class="calibre10"><strong class="calibre2">The in Operator</strong></em></h4>
<p class="noindenta">The <span class="literal1">in</span> operator can tell you whether a value is in a list or not. Expressions that use the <span class="literal1">in</span> operator return a Boolean value: <span class="literal1">True</span> if the value is in the list and <span class="literal1">False</span> if it isn’t. Enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">animals = ['aardvark', 'anteater', 'antelope', 'albert']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">'antelope' in animals</span><br class="calibre7" />True<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">'ant' in animals</span><br class="calibre7" />False</p>
<p class="indent">The expression <span class="literal1">'antelope' in animals</span> returns <span class="literal1">True</span> because the string <span class="literal1">'antelope'</span> is one of the values in the <span class="literal1">animals</span> list. It is located at index <span class="literal1">2</span>. But when you enter the expression <span class="literal1">'ant' in animals</span>, it returns <span class="literal1">False</span> because the string <span class="literal1">'ant'</span> doesn’t exist in the list.</p>
<p class="indent">The <span class="literal1">in</span> operator also works for strings, checking whether one string exists in another. Enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'hello' in 'Alice said hello to Bob.'</span><br class="calibre7" />True</p>
<p class="indent">Storing a list of multiline strings in the <span class="literal1">HANGMAN_PICS</span> variable covered a lot of concepts. For example, you saw that lists are useful for storing multiple values in a single variable. You also learned some techniques for working with lists, such as index assignment and list concatenation. Methods are another new concept you’ll learn how to use in the Hangman game; we’ll explore them next.</p>
<h3 class="h2" id="calibre_link-513"><strong class="calibre2">Calling Methods</strong></h3>
<p class="noindent">A <em class="calibre6">method</em> is a function attached to a value. To call a method, you must attach it to a specific value using a period. Python has many useful methods, and we’ll use some of them in the Hangman program.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-25"></span>But first, let’s look at some list and string methods.</p>
<h4 class="h3" id="calibre_link-24"><em class="calibre10"><strong class="calibre2">The reverse() and append() List Methods</strong></em></h4>
<p class="noindenta">The list data type has a couple of methods you’ll probably use a lot: <span class="literal1">reverse()</span> and <span class="literal1">append()</span>. The <span class="literal1">reverse()</span> method will reverse the order of the items in the list. Try entering <span class="literal1">spam = [1, 2, 3, 4, 5, 6, 'meow', 'woof']</span>, and then <span class="literal1">spam.reverse()</span> to reverse the list. Then enter <span class="literal1">spam</span> to view the contents of the variable.</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">spam = [1, 2, 3, 4, 5, 6, 'meow', 'woof']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam.reverse()</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam</span><br class="calibre7" />['woof', 'meow', 6, 5, 4, 3, 2, 1]</p>
<p class="indent">The most common list method you’ll use is <span class="literal1">append()</span>. This method will add the value you pass as an argument to the end of the list. Try entering the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">eggs = []</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">eggs.append('hovercraft')</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">eggs</span><br class="calibre7" />['hovercraft']<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">eggs.append('eels')</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">eggs</span><br class="calibre7" />['hovercraft', 'eels']</p>
<p class="indent">These methods do change the lists they are called on. They don’t return a new list. We say that these methods change the list <em class="calibre6">in place</em>.</p>
<h4 class="h3" id="calibre_link-514"><em class="calibre10"><strong class="calibre2">The split() String Method</strong></em></h4>
<p class="noindenta">The string data type has a <span class="literal1">split()</span> method, which returns a list of strings made from a string that has been split. Try using the <span class="literal1">split()</span> method by entering the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">sentence = input()</span><br class="calibre7" /><span class="codestrong">My very energetic mother just served us nachos.</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">sentence.split()</span><br class="calibre7" />['My', 'very', 'energetic', 'mother', 'just', 'served', 'us', 'nachos.']</p>
<p class="indent">The result is a list of eight strings, one string for each word in the original string. The splitting occurs wherever there is a space in the string. The spaces are not included in any of the items in the list.</p>
<p class="indent">Line 38 of the Hangman program also uses the <span class="literal1">split()</span> method, as shown next. The code is long, but it’s really just a simple assignment statement that has one long string of words separated by spaces, with a <span class="literal1">split()</span> method call at the end. The <span class="literal1">split()</span> method evaluates to a list with each word in the string as a single list item.</p>
<p class="programs"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-325"></span>38. words = 'ant baboon badger bat bear beaver camel cat clam cobra cougar<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coyote crow deer dog donkey duck eagle ferret fox frog goat goose hawk<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lion lizard llama mole monkey moose mouse mule newt otter owl panda<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parrot pigeon python rabbit ram rat raven rhino salmon seal shark sheep<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skunk sloth snake spider stork swan tiger toad trout turkey turtle<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weasel whale wolf wombat zebra'.split()</p>
<p class="indent">It’s easier to write this program using <span class="literal1">split()</span>. If you created a list to begin with, you would have to type <span class="literal1">['ant', 'baboon', 'badger',</span> and so on, with quotes and commas for every word.</p>
<p class="indent">You can also add your own words to the string on line 38 or remove any you don’t want to be in the game. Just make sure that spaces separate the words.</p>
<h3 class="h2" id="calibre_link-515"><strong class="calibre2">Getting a Secret Word from the Word List</strong></h3>
<p class="noindent">Line 40 defines the <span class="literal1">getRandomWord()</span> function. A list argument will be passed for its <span class="literal1">wordList</span> parameter. This function will return a single secret word from the list in <span class="literal1">wordList</span>.</p>
<p class="programs">40. def getRandomWord(wordList):<br class="calibre7" />41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This function returns a random string from the passed list of<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.<br class="calibre7" />42.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wordIndex = random.randint(0, len(wordList) - 1)<br class="calibre7" />43.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return wordList[wordIndex]</p>
<p class="indent">In line 42, we store a random index for this list in the <span class="literal1">wordIndex</span> variable by calling <span class="literal1">randint()</span> with two arguments. The first argument is <span class="literal1">0</span> (for the first possible index), and the second is the value that the expression <span class="literal1">len(wordList) - 1</span> evaluates to (for the last possible index in a <span class="literal1">wordList</span>).</p>
<p class="indent">Remember that list indexes start at <span class="literal1">0</span>, not <span class="literal1">1</span>. If you have a list of three items, the index of the first item is <span class="literal1">0</span>, the index of the second item is <span class="literal1">1</span>, and the index of the third item is <span class="literal1">2</span>. The length of this list is 3, but index <span class="literal1">3</span> would be after the last index. This is why line 42 subtracts <span class="literal1">1</span> from the length of <span class="literal1">wordList</span>. The code on line 42 will work no matter what the size of <span class="literal1">wordList</span> is. Now you can add or remove strings in <span class="literal1">wordList</span> if you like.</p>
<p class="indent">The <span class="literal1">wordIndex</span> variable will be set to a random index for the list passed as the <span class="literal1">wordList</span> parameter. Line 43 will return the element in <span class="literal1">wordList</span> at the integer stored in <span class="literal1">wordIndex</span>.</p>
<p class="indent">Let’s pretend <span class="literal1">['apple', 'orange', grape']</span> was passed as the argument to <span class="literal1">getRandomWord()</span> and that <span class="literal1">randint(0, 2)</span> returned the integer <span class="literal1">2</span>. That would mean that line 43 would evaluate to <span class="literal1">return wordList[2]</span>, and then evaluate to <span class="literal1">return 'grape'</span>. This is how <span class="literal1">getRandomWord()</span> returns a random string in <span class="literal1">wordList</span>.</p>
<p class="indent">So the input to <span class="literal1">getRandomWord()</span> is a list of strings, and the return value output is a randomly selected string from that list. In the Hangman game, this is how a secret word is selected for the player to guess.</p>
<h3 class="h2" id="calibre_link-516"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-294" class="calibre1"></span><strong class="calibre2">Displaying the Board to the Player</strong></h3>
<p class="noindent">Next, you need a function to print the Hangman board on the screen. It should also display how many letters the player has correctly (and incorrectly) guessed.</p>
<p class="programs">45. def displayBoard(missedLetters, correctLetters, secretWord):<br class="calibre7" />46.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(HANGMAN_PICS[len(missedLetters)])<br class="calibre7" />47.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()</p>
<p class="indentb">This code defines a new function named <span class="literal1">displayBoard()</span>. This function has three parameters:</p>
<p class="hang"><span class="literal1"><span class="codestrong">missedLetters</span></span> A string of the letters the player has guessed that are not in the secret word</p>
<p class="hang"><span class="literal1"><span class="codestrong">correctLetters</span></span> A string of the letters the player has guessed that are in the secret word</p>
<p class="hang"><span class="literal1"><span class="codestrong">secretWord</span></span> A string of the secret word that the player is trying to guess</p>
<p class="indentt">The first <span class="literal1">print()</span> function call will display the board. The global variable <span class="literal1">HANGMAN_PICS</span> has a list of strings for each possible board. (Remember that global variables can be read from inside a function.) <span class="literal1">HANGMAN_PICS[0]</span> shows an empty gallows, <span class="literal1">HANGMAN_PICS[1]</span> shows the head (when the player misses one letter), <span class="literal1">HANGMAN_PICS[2]</span> shows the head and body (when the player misses two letters), and so on until <span class="literal1">HANGMAN_PICS[6]</span>, which shows the full hanging man.</p>
<p class="indent">The number of letters in <span class="literal1">missedLetters</span> will reflect how many incorrect guesses the player has made. Call <span class="literal1">len(missedLetters)</span> to find out this number. So, if <span class="literal1">missedLetters</span> is <span class="literal1">'aetr'</span>, then <span class="literal1">len('aetr'</span>) will return <span class="literal1">4</span>. Printing <span class="literal1">HANGMAN_PICS[4]</span> will display the appropriate hanging man picture for four misses. This is what <span class="literal1">HANGMAN_PICS[len(missedLetters)]</span> on line 46 evaluates to.</p>
<p class="indent">Line 49 prints the string <span class="literal1">'Missed letters:'</span> with a space character at the end instead of a newline:</p>
<p class="programs">49.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Missed letters:', end=' ')<br class="calibre7" />50.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for letter in missedLetters:<br class="calibre7" />51.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(letter, end=' ')<br class="calibre7" />52.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()</p>
<p class="indent">The <span class="literal1">for</span> loop on line 50 will iterate over each character in the string <span class="literal1">missedLetters</span> and print it on the screen. Remember that <span class="literal1">end=' '</span> will replace the newline character that is printed after the string with a single space character. For example, if <span class="literal1">missedLetters</span> were <span class="literal1">'ajtw'</span>, this <span class="literal1">for</span> loop would display <span class="literal1">a j t w</span>.</p>
<p class="indent">The rest of the <span class="literal1">displayBoard()</span> function (lines 54 to 62) displays the missed letters and creates the string of the secret word with all of the not-yet-guessed letters as blanks. It does this using the <span class="literal1">range()</span> function and list slicing.</p>
<h4 class="h3" id="calibre_link-517"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-334" class="calibre1"></span><em class="calibre10"><strong class="calibre2">The list() and range() Functions</strong></em></h4>
<p class="noindenta">When called with one argument, <span class="literal1">range()</span> will return a range object of integers from <span class="literal1">0</span> up to (but not including) the argument. This range object is used in <span class="literal1">for</span> loops but can also be converted to the more familiar list data type with the <span class="literal1">list()</span> function. Enter <span class="literal1">list(range(10))</span> into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">list(range(10))</span><br class="calibre7" />[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">list('Hello')</span><br class="calibre7" />['H', 'e', 'l', 'l', 'o']</p>
<p class="indent">The <span class="literal1">list()</span> function is similar to the <span class="literal1">str()</span> or <span class="literal1">int()</span> functions. It takes the value it’s passed and returns a list. It’s easy to generate huge lists with the <span class="literal1">range()</span> function. For example, enter <span class="literal1"><span class="codestrong">list(range(10000))</span></span> into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">list(range(10000))</span><br class="calibre7" />[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,...<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<span class="codeitalic">snip</span>--<br class="calibre7" />...9989, 9990, 9991, 9992, 9993, 9994, 9995, 9996, 9997, 9998, 9999]</p>
<p class="indent">The list is so huge, it won’t even fit onto the screen. But you can store the list in a variable:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">spam = list(range(10000))</span></p>
<p class="indent">If you pass two integer arguments to <span class="literal1">range()</span>, the range object it returns is from the first integer argument up to (but not including) the second integer argument. Next enter <span class="literal1"><span class="codestrong">list(range(10, 20))</span></span> into the interactive shell as follows:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">list(range(10, 20))</span><br class="calibre7" />[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</p>
<p class="indent">As you can see, our list only goes up to 19 and does not include 20.</p>
<h4 class="h3" id="calibre_link-518"><em class="calibre10"><strong class="calibre2">List and String Slicing</strong></em></h4>
<p class="noindenta"><em class="calibre6">List slicing</em> creates a new list value using a subset of another list’s items. To slice a list, specify two indexes (the beginning and end) with a colon in the square brackets after the list name. For example, enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">spam = ['apples', 'bananas', 'carrots', 'dates']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam[1:3]</span><br class="calibre7" />['bananas', 'carrots']</p>
<p class="indent">The expression <span class="literal1">spam[1:3]</span> evaluates to a list with items in <span class="literal1">spam</span> from index <span class="literal1">1</span> up to (but not including) index <span class="literal1">3</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-320"></span>If you leave out the first index, Python will automatically think you want index <span class="literal1">0</span> for the first index:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">spam = ['apples', 'bananas', 'carrots', 'dates']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam[:2]</span><br class="calibre7" />['apples', 'bananas']</p>
<p class="indent">If you leave out the second index, Python will automatically think you want the rest of the list:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">spam = ['apples', 'bananas', 'carrots', 'dates']</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam[2:]</span><br class="calibre7" />['carrots', 'dates']</p>
<p class="indent">You can also use slices with strings in the same way you use them with lists. Each character in the string is like an item in the list. Enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">myName = 'Zophie the Fat Cat'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">myName[4:12]</span><br class="calibre7" />'ie the F'<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">myName[:10]</span><br class="calibre7" />'Zophie the'<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">myName[7:]</span><br class="calibre7" />'the Fat Cat'</p>
<p class="indent">The next part of the Hangman code uses slicing.</p>
<h4 class="h3" id="calibre_link-519"><em class="calibre10"><strong class="calibre2">Displaying the Secret Word with Blanks</strong></em></h4>
<p class="noindenta">Now you want to print the secret word, but with blank lines for the letters that haven’t been guessed. You can use the underscore character (<span class="literal1">_</span>) for this. First create a string with nothing but one underscore for each letter in the secret word. Then replace the blanks for each letter in <span class="literal1">correctLetters</span>.</p>
<p class="indent">So if the secret word were <span class="literal1">'otter'</span>, then the blanked-out string would be <span class="literal1">'_____'</span> (five underscores). If <span class="literal1">correctLetters</span> were the string <span class="literal1">'rt'</span>, you would change the string to <span class="literal1">'_tt_r'</span>. Lines 54 to 58 are the part of the code that does that:</p>
<p class="programs">54.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blanks = '_' * len(secretWord)<br class="calibre7" />55.<br class="calibre7" />56.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for i in range(len(secretWord)): # Replace blanks with correctly<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guessed letters.<br class="calibre7" />57.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if secretWord[i] in correctLetters:<br class="calibre7" />58.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blanks = blanks[:i] + secretWord[i] + blanks[i+1:]</p>
<p class="indent">Line 54 creates the <span class="literal1">blanks</span> variable full of underscores using string replication. Remember that the <span class="literal1">*</span> operator can be used on a string and an integer, so the expression <span class="literal1">'_' * 5</span> evaluates to <span class="literal1">'_____'</span>. This will ensure that <span class="literal1">blanks</span> has the same number of underscores as <span class="literal1">secretWord</span> has letters.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-880"></span>Line 56 has a <span class="literal1">for</span> loop that goes through each letter in <span class="literal1">secretWord</span> and replaces the underscore with the actual letter if it exists in <span class="literal1">correctLetters</span>.</p>
<p class="indent">Let’s take another look at the previous example, where the value of <span class="literal1">secretWord</span> is <span class="literal1">'otter'</span> and the value in <span class="literal1">correctLetters</span> is <span class="literal1">'tr'</span>. You would want the string <span class="literal1">'_tt_r'</span> displayed to the player. Let’s figure out how to create this string.</p>
<p class="indent">Line 56’s <span class="literal1">len(secretWord)</span> call would return <span class="literal1">5</span>. The <span class="literal1">range(len(secretWord))</span> call becomes <span class="literal1">range(5)</span>, which makes the <span class="literal1">for</span> loop iterate over <span class="literal1">0</span>, <span class="literal1">1</span>, <span class="literal1">2</span>, <span class="literal1">3</span>, and <span class="literal1">4</span>.</p>
<p class="indent">Because the value of <span class="literal1">i</span> will take on each value in <span class="literal1">[0, 1, 2, 3, 4]</span>, the code in the <span class="literal1">for</span> loop looks like this:</p>
<p class="programs">if secretWord[0] in correctLetters:<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;blanks = blanks[:0] + secretWord[0] + blanks[1:]<br class="calibre7" /><br class="calibre7" />if secretWord[1] in correctLetters:<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;blanks = blanks[:1] + secretWord[1] + blanks[2:]<br class="calibre7" />--<span class="codeitalic">snip</span>--</p>
<p class="indent">We’re showing only the first two iterations of the <span class="literal1">for</span> loop, but starting with <span class="literal1">0</span>, <span class="literal1">i</span> will take the value of each number in the range. In the first iteration, <span class="literal1">i</span> takes the value <span class="literal1">0</span>, so the <span class="literal1">if</span> statement checks whether the letter in <span class="literal1">secretWord</span> at index <span class="literal1">0</span> is in <span class="literal1">correctLetters</span>. The loop does this for every letter in the <span class="literal1">secretWord</span>, one letter at a time.</p>
<p class="indent">If you are confused about the value of something like <span class="literal1">secretWord[0]</span> or <span class="literal1">blanks[3:]</span>, look at <a href="#calibre_link-26" class="calibre4">Figure 8-1</a>. It shows the value of the <span class="literal1">secretWord</span> and <span class="literal1">blanks</span> variables and the index for each letter in the string.</p>
<div class="image"><img src="images/00100.jpeg" alt="image" class="calibre3" /></div>
<p class="figcap"><a id="calibre_link-26" class="calibre4"></a><em class="calibre6">Figure 8-1: The indexes of the</em> <span class="literal"><span class="codeitalic">blanks</span></span> <em class="calibre6">and</em> <span class="literal"><span class="codeitalic">secretWord</span></span> <em class="calibre6">strings</em></p>
<p class="indent">If you replace the list slices and the list indexes with the values they represent, the loop code looks like this:</p>
<p class="programs">if 'o' in 'tr': # False<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;blanks = '' + 'o' + '____' # This line is skipped.<br class="calibre7" />--<span class="codeitalic">snip</span>--<br class="calibre7" />if 'r' in 'tr': # True<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;blanks = '_tt_' + 'r' + '' # This line is executed.<br class="calibre7" /><br class="calibre7" /># blanks now has the value '_tt_r'.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-324"></span>The preceding code examples all do the <em class="calibre6">same thing</em> when <span class="literal1">secretWord</span> is <span class="literal1">'otter'</span> and <span class="literal1">correctLetters</span> is <span class="literal1">'tr'</span>. The next few lines of code print the new value of <span class="literal1">blanks</span> with spaces between each letter:</p>
<p class="programs">60.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for letter in blanks: # Show the secret word with spaces in between<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each letter.<br class="calibre7" />61.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(letter, end=' ')<br class="calibre7" />62.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()</p>
<p class="indent">Notice that the <span class="literal1">for</span> loop on line 60 doesn’t call the <span class="literal1">range()</span> function. Instead of iterating on the range object this function call would return, it iterates on the string value in the <span class="literal1">blanks</span> variable. On each iteration, the <span class="literal1">letter</span> variable takes on a new character from the <span class="literal1">'otter'</span> string in <span class="literal1">blanks</span>.</p>
<p class="indent">The printed output after the spaces are added would be <span class="literal1">'_ t t _ r'</span>.</p>
<h3 class="h2" id="calibre_link-520"><strong class="calibre2">Getting the Player’s Guess</strong></h3>
<p class="noindent">The <span class="literal1">getGuess()</span> function will be called so that the player can enter a letter to guess. The function returns the letter the player guessed as a string. Further, <span class="literal1">getGuess()</span> will make sure that the player types a valid letter before it returns from the function.</p>
<p class="programs">64. def getGuess(alreadyGuessed):<br class="calibre7" />65.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Returns the letter the player entered. This function makes sure the<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;player entered a single letter and not something else.</p>
<p class="indent">A string of the letters the player has guessed is passed as the argument for the <span class="literal1">alreadyGuessed</span> parameter. Then the <span class="literal1">getGuess()</span> function asks the player to guess a single letter. This single letter will be <span class="literal1">getGuess()</span>’s return value. Now, because Python is case sensitive, we need to make sure the player’s guess is a lowercase letter so we can check it against the secret word. That’s where the <span class="literal1">lower()</span> method comes in.</p>
<h4 class="h3" id="calibre_link-521"><em class="calibre10"><strong class="calibre2">The lower() and upper() String Methods</strong></em></h4>
<p class="noindenta">Enter <span class="literal1"><span class="codestrong">'Hello world!'.lower()</span></span> into the interactive shell to see an example of the <span class="literal1">lower()</span> method:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'Hello world!'.lower()</span><br class="calibre7" />'hello world!'</p>
<p class="indent">The <span class="literal1">lower()</span> method returns a string with all the characters in lowercase. There is also an <span class="literal1">upper()</span> method for strings, which returns a string with all the characters in uppercase. Try it out by entering <span class="literal1"><span class="codestrong">'Hello world!'.upper()</span></span> into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'Hello world!'.upper()</span><br class="calibre7" />'HELLO WORLD!'</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-396"></span>Because the <span class="literal1">upper()</span> method returns a string, you can also call a method on that string.</p>
<p class="indent">Now enter this into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'Hello world!'.upper().lower()</span><br class="calibre7" />'hello world!'</p>
<p class="indent"><span class="literal1">'Hello world!'.upper()</span> evaluates to the string <span class="literal1">'HELLO WORLD!'</span>, and then the string’s <span class="literal1">lower()</span> method is called. This returns the string <span class="literal1">'hello world!'</span>, which is the final value in the evaluation:</p>
<div class="image"><img src="images/00102.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">The order is important. <span class="literal1">'Hello world!'.lower().upper()</span> isn’t the same as <span class="literal1">'Hello world!'.upper().lower()</span>:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'Hello world!'.lower().upper()</span><br class="calibre7" />'HELLO WORLD!'</p>
<p class="indent">That evaluation looks like this:</p>
<div class="image"><img src="images/00103.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">If a string is stored in a variable, you can also call a string method on that variable:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">spam = 'Hello world!'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam.upper()</span><br class="calibre7" />'HELLO WORLD!'</p>
<p class="indent">This code does not change the value in <span class="literal1">spam</span>. The <span class="literal1">spam</span> variable will still contain <span class="literal1">'Hello world!'</span>.</p>
<p class="indent">Going back to the Hangman program, we use <span class="literal1">lower()</span> when we ask for the player’s guess:</p>
<p class="programs">66.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while True:<br class="calibre7" />67.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Guess a letter.')<br class="calibre7" />68.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guess = input()<br class="calibre7" />69.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guess = guess.lower()</p>
<p class="indent">Now, even if the player enters an uppercase letter as a guess, the <span class="literal1">getGuess()</span> function will return a lowercase letter.</p>
<h4 class="h3" id="calibre_link-522"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-291" class="calibre1"></span><em class="calibre10"><strong class="calibre2">Leaving the while Loop</strong></em></h4>
<p class="noindenta">Line 66’s <span class="literal1">while</span> loop will keep asking the player for a letter until they enter a single letter that hasn’t been guessed previously.</p>
<p class="indent">The condition for the <span class="literal1">while</span> loop is simply the Boolean value <span class="literal1">True</span>. That means the only way the execution will ever leave this loop is by executing a <span class="literal1">break</span> statement, which leaves the loop, or a <span class="literal1">return</span> statement, which leaves not just the loop but the entire function.</p>
<p class="indent">The code inside the loop asks the player to enter a letter, which is stored in the variable <span class="literal1">guess</span>. If the player entered an uppercase letter, it would be overwritten with a lowercase letter on line 69.</p>
<h3 class="h2" id="calibre_link-523"><strong class="calibre2">elif Statements</strong></h3>
<p class="noindent">The next part of the Hangman program uses <span class="literal1">elif</span> statements. You can think of <span class="literal1">elif</span> or “else-if” statements as saying, “If this is true, do this. Or else if this next condition is true, do that. Or else if none of them is true, do this last thing.” Take a look at the following code:</p>
<p class="programs">if catName == 'Fuzzball':<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is fuzzy.')<br class="calibre7" />elif catName == 'Spots':<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is spotted.')<br class="calibre7" />else:<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is not fuzzy or spotted.')</p>
<p class="indent">If the <span class="literal1">catName</span> variable is equal to the string <span class="literal1">'Fuzzball'</span>, then the <span class="literal1">if</span> statement’s condition is <span class="literal1">True</span> and the <span class="literal1">if</span> block tells the user that their cat is fuzzy. However, if this condition is <span class="literal1">False</span>, then Python tries the <span class="literal1">elif</span> statement’s condition next. If <span class="literal1">catName</span> is <span class="literal1">'Spots'</span>, then the string <span class="literal1">'Your cat is spotted.'</span> is printed to the screen. If both are <span class="literal1">False</span>, then the code tells the user their cat isn’t fuzzy or spotted.</p>
<p class="indent">You can have as many <span class="literal1">elif</span> statements as you want:</p>
<p class="programs">if catName == 'Fuzzball':<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is fuzzy.')<br class="calibre7" />elif catName == 'Spots':<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is spotted.')<br class="calibre7" />elif catName == 'Chubs':<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is chubby.')<br class="calibre7" />elif catName == 'Puff':<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is puffy.')<br class="calibre7" />else:<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Your cat is neither fuzzy nor spotted nor chubby nor puffy.')</p>
<p class="indent">When one of the <span class="literal1">elif</span> conditions is <span class="literal1">True</span>, its code is executed, and then the execution jumps to the first line past the <span class="literal1">else</span> block. So <em class="calibre6">one</em>, <em class="calibre6">and only one</em>, of the blocks in the <span class="literal1">if</span>-<span class="literal1">elif</span>-<span class="literal1">else</span> statements will be executed. You can also leave off the <span class="literal1">else</span> block if you don’t need one and just have <span class="literal1">if</span>-<span class="literal1">elif</span> statements.</p>
<h3 class="h2" id="calibre_link-524"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-317" class="calibre1"></span><strong class="calibre2">Making Sure the Player Entered a Valid Guess</strong></h3>
<p class="noindent">The <span class="literal1">guess</span> variable contains the player’s letter guess. The program needs to make sure they entered a valid guess: one, and only one, letter that has not yet been guessed. If they didn’t, the execution will loop back and ask them for a letter again.</p>
<p class="programs">70.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if len(guess) != 1:<br class="calibre7" />71.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Please enter a single letter.')<br class="calibre7" />72.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif guess in alreadyGuessed:<br class="calibre7" />73.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You have already guessed that letter. Choose again.')<br class="calibre7" />74.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif guess not in 'abcdefghijklmnopqrstuvwxyz':<br class="calibre7" />75.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Please enter a LETTER.')<br class="calibre7" />76.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />77.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return guess</p>
<p class="indent">Line 70’s condition checks whether <span class="literal1">guess</span> is not one character long, line 72’s condition checks whether <span class="literal1">guess</span> already exists inside the <span class="literal1">alreadyGuessed</span> variable, and line 74’s condition checks whether <span class="literal1">guess</span> is not a letter in the standard English alphabet. If any of these conditions are <span class="literal1">True</span>, the game prompts the player to enter a new guess.</p>
<p class="indent">If all of these conditions are <span class="literal1">False</span>, then the <span class="literal1">else</span> statement’s block executes, and <span class="literal1">getGuess()</span> returns the value in <span class="literal1">guess</span> on line 77.</p>
<p class="indent">Remember, only one of the blocks in an <span class="literal1">if</span>-<span class="literal1">elif</span>-<span class="literal1">else</span> statement will be executed.</p>
<h3 class="h2" id="calibre_link-525"><strong class="calibre2">Asking the Player to Play Again</strong></h3>
<p class="noindent">The <span class="literal1">playAgain()</span> function has just a <span class="literal1">print()</span> function call and a <span class="literal1">return</span> statement:</p>
<p class="programs">79. def playAgain():<br class="calibre7" />80.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This function returns True if the player wants to play again;<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise, it returns False.<br class="calibre7" />81.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Do you want to play again? (yes or no)')<br class="calibre7" />82.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return input().lower().startswith('y')</p>
<p class="indent">The <span class="literal1">return</span> statement has an expression that looks complicated, but you can break it down. Here’s a step-by-step look at how Python evaluates this expression if the user enters <span class="literal1">YES</span>:</p>
<div class="image"><img src="images/00104.jpeg" alt="image" class="calibre3" /></div>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-295"></span>The point of the <span class="literal1">playAgain()</span> function is to let the player enter yes or no to tell the program if they want to play another round of Hangman. The player should be able to type <span class="literal1">YES</span>, <span class="literal1">yes</span>, <span class="literal1">Y</span>, or anything else that begins with a <span class="literal1">y</span> in order to mean “yes.” If the player enters <span class="literal1">YES</span>, then the return value of <span class="literal1">input()</span> is the string <span class="literal1">'YES'</span>. And <span class="literal1">'YES'.lower()</span> returns the lowercase version of the attached string. So the return value of <span class="literal1">'YES'.lower()</span> is <span class="literal1">'yes'</span>.</p>
<p class="indent">But there’s the second method call, <span class="literal1">startswith('y')</span>. This function returns <span class="literal1">True</span> if the associated string begins with the string parameter between the parentheses and <span class="literal1">False</span> if it doesn’t. The return value of <span class="literal1">'yes'.startswith('y')</span> is <span class="literal1">True</span>.</p>
<p class="indent">That’s it&mdash;you evaluated this expression! It lets the player enter a response, sets the response in lowercase, checks whether it begins with the letter <span class="literal1">y</span>, and then returns <span class="literal1">True</span> if it does and <span class="literal1">False</span> if it doesn’t.</p>
<p class="indent">On a side note, there’s also an <span class="literal1">endswith(<span class="codeitalic">someString</span>)</span> string method that will return <span class="literal1">True</span> if the string ends with the string in <span class="literal1"><span class="codeitalic">someString</span></span> and <span class="literal1">False</span> if it doesn’t. <span class="literal1">endswith()</span> is sort of like the opposite of <span class="literal1">startswith()</span>.</p>
<h3 class="h2" id="calibre_link-526"><strong class="calibre2">Review of the Hangman Functions</strong></h3>
<p class="noindentb">That’s all the functions we’re creating for this game! Let’s review them:</p>
<p class="hang"><span class="literal1"><span class="codestrong">getRandomWord(wordList)</span></span> Takes a list of strings passed to it and returns one string from it. That is how a word is chosen for the player to guess.</p>
<p class="hang"><span class="literal1"><span class="codestrong">displayBoard(missedLetters, correctLetters, secretWord)</span></span> Shows the current state of the board, including how much of the secret word the player has guessed so far and the wrong letters the player has guessed. This function needs three parameters passed to it to work correctly. <span class="literal1">correctLetters</span> and <span class="literal1">missedLetters</span> are strings made up of the letters that the player has guessed that are in and not in the secret word, respectively. And <span class="literal1">secretWord</span> is the secret word the player is trying to guess. This function has no return value.</p>
<p class="hang"><span class="literal1"><span class="codestrong">getGuess(alreadyGuessed)</span></span> Takes a string of letters the player has already guessed and will keep asking the player for a letter that isn’t in <span class="literal1">alreadyGuessed</span>. This function returns the string of the valid letter the player guessed.</p>
<p class="hang"><span class="literal1"><span class="codestrong">playAgain()</span></span> Asks if the player wants to play another round of Hangman. This function returns <span class="literal1">True</span> if the player does, <span class="literal1">False</span> if they don’t.</p>
<p class="indentt">After the functions, the code for the main part of the program begins at line 85. Everything up to this point has been just function definitions and a large assignment statement for <span class="literal1">HANGMAN_PICS</span>.</p>
<h3 class="h2" id="calibre_link-527"><strong class="calibre2">The Game Loop</strong></h3>
<p class="noindent">The main part of the Hangman program displays the name of the game, sets up some variables, and executes a <span class="literal1">while</span> loop. This section walks through the remainder of the program step by step.</p>
<p class="programs"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-319"></span>85. print('H A N G M A N')<br class="calibre7" />86. missedLetters = ''<br class="calibre7" />87. correctLetters = ''<br class="calibre7" />88. secretWord = getRandomWord(words)<br class="calibre7" />89. gameIsDone = False</p>
<p class="indent">Line 85 is the first <span class="literal1">print()</span> call that executes when the game is run. It displays the title of the game. Next, blank strings are assigned to the variables <span class="literal1">missedLetters</span> and <span class="literal1">correctLetters</span> since the player hasn’t guessed any missed or correct letters yet.</p>
<p class="indent">The <span class="literal1">getRandomWord(words)</span> call at line 88 will evaluate to a randomly selected word from the <span class="literal1">words</span> list.</p>
<p class="indent">Line 89 sets <span class="literal1">gameIsDone</span> to <span class="literal1">False</span>. The code will set <span class="literal1">gameIsDone</span> to <span class="literal1">True</span> when it wants to signal that the game is over and ask the player whether they want to play again.</p>
<h4 class="h3" id="calibre_link-528"><em class="calibre10"><strong class="calibre2">Calling the displayBoard() Function</strong></em></h4>
<p class="noindenta">The remainder of the program consists of a <span class="literal1">while</span> loop. The loop’s condition is always <span class="literal1">True</span>, which means it will loop forever until it encounters a <span class="literal1">break</span> statement. (This happens later on line 126.)</p>
<p class="programs">91. while True:<br class="calibre7" />92.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayBoard(missedLetters, correctLetters, secretWord)</p>
<p class="indent">Line 92 calls the <span class="literal1">displayBoard()</span> function, passing it the three variables set on lines 86, 87, and 88. Based on how many letters the player has correctly guessed and missed, this function displays the appropriate Hangman board to the player.</p>
<h4 class="h3" id="calibre_link-529"><em class="calibre10"><strong class="calibre2">Letting the Player Enter Their Guess</strong></em></h4>
<p class="noindenta">Next the <span class="literal1">getGuess()</span> function is called so the player can enter their guess.</p>
<p class="programs">94.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Let the player enter a letter.<br class="calibre7" />95.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guess = getGuess(missedLetters + correctLetters)</p>
<p class="indent">The <span class="literal1">getGuess()</span> function requires an <span class="literal1">alreadyGuessed</span> parameter so it can check whether the player enters a letter they’ve already guessed. Line 95 concatenates the strings in the <span class="literal1">missedLetters</span> and <span class="literal1">correctLetters</span> variables and passes the result as the argument for the <span class="literal1">alreadyGuessed</span> parameter.</p>
<h4 class="h3" id="calibre_link-530"><em class="calibre10"><strong class="calibre2">Checking Whether the Letter Is in the Secret Word</strong></em></h4>
<p class="noindenta">If the <span class="literal1">guess</span> string exists in <span class="literal1">secretWord</span>, then this code concatenates <span class="literal1">guess</span> to the end of the <span class="literal1">correctLetters</span> string:</p>
<p class="programs">97.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if guess in secretWord:<br class="calibre7" />98.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctLetters = correctLetters + guess</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-318"></span>This string will be the new value of <span class="literal1">correctLetters</span>.</p>
<h4 class="h3" id="calibre_link-531"><em class="calibre10"><strong class="calibre2">Checking Whether the Player Won</strong></em></h4>
<p class="noindenta">How does the program know whether the player has guessed every letter in the secret word? Well, <span class="literal1">correctLetters</span> has each letter that the player correctly guessed, and <span class="literal1">secretWord</span> is the secret word itself. But you can’t simply check whether <span class="literal1">correctLetters == secretWord</span>. If <span class="literal1">secretWord</span> were the string <span class="literal1">'otter'</span> and <span class="literal1">correctLetters</span> were the string <span class="literal1">'orte'</span>, then <span class="literal1">correctLetters == secretWord</span> would be <span class="literal1">False</span> even though the player <em class="calibre6">has</em> guessed each letter in the secret word.</p>
<p class="indent">The only way you can be sure the player has won is to iterate over each letter in <span class="literal1">secretWord</span> and see if it exists in <span class="literal1">correctLetters</span>. If, and only if, every letter in <span class="literal1">secretWord</span> exists in <span class="literal1">correctLetters</span> has the player won.</p>
<p class="programs">100.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if the player has won.<br class="calibre7" />101.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foundAllLetters = True<br class="calibre7" />102.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for i in range(len(secretWord)):<br class="calibre7" />103.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if secretWord[i] not in correctLetters:<br class="calibre7" />104.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foundAllLetters = False<br class="calibre7" />105.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</p>
<p class="indent">If you find a letter in <span class="literal1">secretWord</span> that doesn’t exist in <span class="literal1">correctLetters</span>, you know that the player has <em class="calibre6">not</em> guessed all the letters. The new variable <span class="literal1">foundAllLetters</span> is set to <span class="literal1">True</span> on line 101 before the loop begins. The loop starts out assuming that all the letters in the secret word have been found. But the loop’s code on line 104 will change <span class="literal1">foundAllLetters</span> to <span class="literal1">False</span> the first time it finds a letter in <span class="literal1">secretWord</span> that isn’t in <span class="literal1">correctLetters</span>.</p>
<p class="indent">If all the letters in the secret word have been found, the player is told they have won, and <span class="literal1">gameIsDone</span> is set to <span class="literal1">True</span>:</p>
<p class="programs">106.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if foundAllLetters:<br class="calibre7" />107.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Yes! The secret word is "' + secretWord +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'"! You have won!')<br class="calibre7" />108.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameIsDone = True</p>
<h4 class="h3" id="calibre_link-532"><em class="calibre10"><strong class="calibre2">Handling an Incorrect Guess</strong></em></h4>
<p class="noindenta">Line 109 is the start of the <span class="literal1">else</span> block.</p>
<p class="programs">109.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />110.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missedLetters = missedLetters + guess</p>
<p class="indent">Remember, the code in this block will execute if the condition was <span class="literal1">False</span>. But which condition? To find out, point your finger at the start of the <span class="literal1">else</span> keyword and move it straight up. You’ll see that the <span class="literal1">else</span> keyword’s indentation is the same as the <span class="literal1">if</span> keyword’s indentation on line 97:</p>
<p class="programs">97.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if guess in secretWord:<br class="calibre7" />--<span class="codeitalic">snip</span>--<br class="calibre7" />109.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />110.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missedLetters = missedLetters + guess</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-196"></span>So if the condition on line 97 (<span class="literal1">guess in secretWord</span>) were <span class="literal1">False</span>, then the execution would move into this <span class="literal1">else</span> block.</p>
<p class="indent">Wrongly guessed letters are concatenated to the <span class="literal1">missedLetters</span> string on line 110. This is like what line 98 did for letters the player guessed correctly.</p>
<h4 class="h3" id="calibre_link-533"><em class="calibre10"><strong class="calibre2">Checking Whether the Player Lost</strong></em></h4>
<p class="noindenta">Each time the player guesses incorrectly, the code concatenates the wrong letter to the string in <span class="literal1">missedLetters</span>. So the length of <span class="literal1">missedLetters</span>&mdash;or, in code, <span class="literal1">len(missedLetters)</span>&mdash;is also the number of wrong guesses.</p>
<p class="programs">112.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if player has guessed too many times and lost.<br class="calibre7" />113.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if len(missedLetters) == len(HANGMAN_PICS) - 1:<br class="calibre7" />114.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayBoard(missedLetters, correctLetters, secretWord)<br class="calibre7" />115.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You have run out of guesses!\nAfter ' +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str(len(missedLetters)) + ' missed guesses and ' +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str(len(correctLetters)) + ' correct guesses,<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the word was "' + secretWord + '"')<br class="calibre7" />116.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameIsDone = True</p>
<p class="indent">The <span class="literal1">HANGMAN_PICS</span> list has seven ASCII art strings. So when the length of the <span class="literal1">missedLetters</span> string is equal to <span class="literal1">len(HANGMAN_PICS) - 1</span> (that is, <span class="literal1">6</span>), the player has run out of guesses. You know the player has lost because the hanging man picture will be finished. Remember, <span class="literal1">HANGMAN_PICS[0]</span> is the first item in the list, and <span class="literal1">HANGMAN_PICS[6]</span> is the last one.</p>
<p class="indent">Line 115 prints the secret word, and line 116 sets the <span class="literal1">gameIsDone</span> variable to <span class="literal1">True</span>.</p>
<p class="programs">118.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ask the player if they want to play again (but only if the game is<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done).<br class="calibre7" />119.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if gameIsDone:<br class="calibre7" />120.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if playAgain():<br class="calibre7" />121.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missedLetters = ''<br class="calibre7" />122.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctLetters = ''<br class="calibre7" />123.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameIsDone = False<br class="calibre7" />124.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secretWord = getRandomWord(words)</p>
<h4 class="h3" id="calibre_link-534"><em class="calibre10"><strong class="calibre2">Ending or Resetting the Game</strong></em></h4>
<p class="noindenta">Whether the player won or lost after guessing their letter, the game should ask the player if they want to play again. The <span class="literal1">playAgain()</span> function handles getting a yes or no from the player, so it is called on line 120.</p>
<p class="indent">If the player does want to play again, the values in <span class="literal1">missedLetters</span> and <span class="literal1">correctLetters</span> must be reset to blank strings, <span class="literal1">gameIsDone</span> reset to <span class="literal1">False</span>, and a new secret word stored in <span class="literal1">secretWord</span>. This way, when the execution loops back to the beginning of the <span class="literal1">while</span> loop on line 91, the board will be reset to a fresh game.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-219"></span>If the player didn’t enter something that began with <span class="literal1">y</span> when asked whether they wanted to play again, then line 120’s condition would be <span class="literal1">False</span>, and the <span class="literal1">else</span> block would execute:</p>
<p class="programs">125.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />126.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</p>
<p class="indent">The <span class="literal1">break</span> statement causes the execution to jump to the first instruction after the loop. But because there are no more instructions after the loop, the program terminates.</p>
<h3 class="h2" id="calibre_link-535"><strong class="calibre2">Summary</strong></h3>
<p class="noindent">Hangman has been our most advanced game yet, and you’ve learned several new concepts while making it. As your games get more and more complex, it’s a good idea to sketch out a flowchart of what should happen in your program.</p>
<p class="indent">Lists are values that can contain other values. Methods are functions attached to a value. Lists have an <span class="literal1">append()</span> method. Strings have <span class="literal1">lower()</span>, <span class="literal1">upper()</span>, <span class="literal1">split()</span>, <span class="literal1">startswith()</span>, and <span class="literal1">endswith()</span> methods. You’ll learn about many more data types and methods in the rest of this book.</p>
<p class="indent">The <span class="literal1">elif</span> statement lets you add an “or else-if” clause to the middle of your <span class="literal1">if</span>-<span class="literal1">else</span> statements.<span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-881"></span></p>
</div>



<a href="chapter7.html">Prev: Chapter 7 - Designing Hangman with Flowcharts</a> | <a href="chapter9.html">Next: Chapter 9 - Extending Hangman</a>
</body></html>