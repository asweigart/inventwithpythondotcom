<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="invent4thedstyleb.css" rel="stylesheet" type="text/css" /><title>Chapter 5 - Dragon Realm</title></head><body style="background-color: #fffeee;">

<!--<script type="text/javascript">
//<![CDATA[

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-5459430-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//]]>
</script>-->


<div style="background-color: #eeeddd; float: right; height: 310px; font-family: sans-serif;" id="otherbooks">
  <a href="#" onclick="document.getElementById('otherbooks').outerHTML='';" style="vertical-align: top;">(close)</a><br />

  <a target="_blank" href="https://nostarch.com/automatestuff2" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src="/images/cover_automate2_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/big-book-small-python-projects" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_bigbookpython.link');"><img src="/images/cover_bigbookpython_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/beyond-basic-stuff-python" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_beyond.link');"><img src="/images/cover_beyond_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/inventwithpython" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src="/images/cover_invent4th_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&amp;tag=playwithpyth-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1469901730" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src="/images/cover_makinggames_thumb.webp" style="height: 200px; border: solid black 1px; /"></a>
  <a target="_blank" href="https://nostarch.com/crackingcodes" onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src="/images/cover_crackingcodes_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/scratchplayground"><img src="/images/cover_scratchprogrammingplayground_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <a target="_blank" href="https://nostarch.com/codingwithminecraft"><img src="/images/cover_codingwithminecraft_thumb.webp" style="height: 200px; border: solid black 1px;" /></a>
  <br />
  <a href="https://inventwithpython.com/automateudemy">Use this link to get 70% off the Automate the Boring Stuff online video course.</a><br />
  <a href="https://www.patreon.com/AlSweigart">Support me on Patreon</a>
</div>

<a href="chapter4.html">Prev: Chapter 4 - A Joke-Telling Program</a> | <a href="chapter6.html">Next: Chapter 6 - Using the Debugger</a>




<div id="calibre_link-795" class="calibre">
<h2 class="h1" id="calibre_link-52"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-289" class="calibre1"></span><span class="big"><strong class="calibre2">5</strong></span><br class="calibre9" /><strong class="calibre2">DRAGON REALM</strong></h2>
<div class="imagec"><img src="images/00016.jpeg" alt="image" class="calibre3" /></div>
<p class="noindent">The game you will create in this chapter is called Dragon Realm. The player decides between two caves, which hold either treasure or certain doom.</p>
<h3 class="h2" id="calibre_link-461"><strong class="calibre2">How to Play Dragon Realm</strong></h3>
<p class="noindent">In this game, the player is in a land full of dragons. The dragons all live in caves with their large piles of collected treasure. Some dragons are friendly and share their treasure. Other dragons are hungry and eat anyone who enters their cave. The player approaches two caves, one with a friendly dragon and the other with a hungry dragon, but doesn’t know which dragon is in which cave. The player must choose between the two.</p>
<div class="sidebar">
<p class="sidebart"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-288" class="calibre1"></span><strong class="calibre2">TOPICS COVERED IN THIS CHAPTER</strong></p>
<p class="bull">• Flowcharts</p>
<p class="bull">• Creating your own functions with the <span class="literal1">def</span> keyword</p>
<p class="bull">• Multiline strings</p>
<p class="bull">• <span class="literal1">while</span> statements</p>
<p class="bull">• The <span class="literal1">and</span>, <span class="literal1">or</span>, and <span class="literal1">not</span> Boolean operators</p>
<p class="bull">• Truth tables</p>
<p class="bull">• The <span class="literal1">return</span> keyword</p>
<p class="bull">• Global and local variable scope</p>
<p class="bull">• Parameters and arguments</p>
<p class="bull">• The <span class="literal1">sleep()</span> function</p>
</div>
<h3 class="h2" id="calibre_link-462"><strong class="calibre2">Sample Run of Dragon Realm</strong></h3>
<p class="noindent">Here’s what the Dragon Realm game looks like when it’s run. The player’s input is in bold.</p>
<p class="programs">You are in a land full of dragons. In front of you,<br class="calibre7" />you see two caves. In one cave, the dragon is friendly<br class="calibre7" />and will share his treasure with you. The other dragon<br class="calibre7" />is greedy and hungry, and will eat you on sight.<br class="calibre7" />Which cave will you go into? (1 or 2)<br class="calibre7" /><span class="codestrong">1</span><br class="calibre7" />You approach the cave...<br class="calibre7" />It is dark and spooky...<br class="calibre7" />A large dragon jumps out in front of you! He opens his jaws and...<br class="calibre7" />Gobbles you down in one bite!<br class="calibre7" />Do you want to play again? (yes or no)<br class="calibre7" /><span class="codestrong">no</span></p>
<h3 class="h2" id="calibre_link-463"><strong class="calibre2">Flowchart for Dragon Realm</strong></h3>
<p class="noindent">It often helps to write down everything you want your game or program to do before you start writing code. When you do this, you are <em class="calibre6">designing the program</em>.</p>
<p class="indent">For example, it may help to draw a flowchart. A <em class="calibre6">flowchart</em> is a diagram that shows every possible action that can happen in the game and which actions are connected. <a href="#calibre_link-50" class="calibre4">Figure 5-1</a> is a flowchart for Dragon Realm.</p>
<p class="indent">To see what happens in the game, put your finger on the START box. Then follow one arrow from that box to another box. Your finger is like the program execution. The program terminates when your finger lands on the END box.</p>
<div class="image"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-51"></span><img src="images/00061.jpeg" alt="image" class="calibre3" /></div>
<p class="figcap"><a id="calibre_link-50" class="calibre4"></a><em class="calibre6">Figure 5-1: Flowchart for the Dragon Realm game</em></p>
<p class="indent">When you get to the “Check for friendly or hungry dragon” box, you can go to the “Player wins” box or the “Player loses” box. At this branching point, the program can go in different directions. Either way, both paths will eventually end up at the “Ask to play again” box.</p>
<h3 class="h2" id="calibre_link-464"><strong class="calibre2">Source Code for Dragon Realm</strong></h3>
<p class="noindent">Open a new file editor window by clicking <strong class="calibre5">File</strong> <img src="images/00042.jpeg" alt="image" class="calibre3" /> <strong class="calibre5">New Window</strong>. Enter the source code and save it as <em class="calibre6">dragon.py</em>. Then run the program by pressing F5. If you get errors, compare the code you typed to the book’s code with the online diff tool at <em class="calibre6"><a href="https://www.nostarch.com/inventwithpython#diff" class="calibre4">https://www.nostarch.com/inventwithpython#diff</a></em>.</p>
<div class="image"><img src="images/00062.jpeg" alt="image" class="calibre3" /></div>
<p class="sidenote"><em class="calibre6">dragon.py</em></p>
<p class="programs">&nbsp;1. import random<br class="calibre7" />&nbsp;2. import time<br class="calibre7" />&nbsp;3.<br class="calibre7" />&nbsp;4. def displayIntro():<br class="calibre7" />&nbsp;5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('''You are in a land full of dragons. In front of you,<br class="calibre7" />&nbsp;6. you see two caves. In one cave, the dragon is friendly<br class="calibre7" />&nbsp;7. and will share his treasure with you. The other dragon<br class="calibre7" />&nbsp;8. is greedy and hungry, and will eat you on sight.''')<br class="calibre7" />&nbsp;9. print()<br class="calibre7" />10.<br class="calibre7" />11. def chooseCave():<br class="calibre7" />12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cave = ''<br class="calibre7" />13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while cave != '1' and cave != '2':<br class="calibre7" />14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Which cave will you go into? (1 or 2)')<br class="calibre7" />15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cave = input()<br class="calibre7" />16.<br class="calibre7" />17.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return cave<br class="calibre7" />18.<br class="calibre7" />19. def checkCave(chosenCave):<br class="calibre7" />20.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You approach the cave...')<br class="calibre7" />21.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)<br class="calibre7" />22.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('It is dark and spooky...')<br class="calibre7" />23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)<br class="calibre7" />24.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('A large dragon jumps out in front of you! He opens his jaws<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and...')<br class="calibre7" />25.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()<br class="calibre7" />26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)<br class="calibre7" />27.<br class="calibre7" />28.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;friendlyCave = random.randint(1, 2)<br class="calibre7" />29.<br class="calibre7" />30.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if chosenCave == str(friendlyCave):<br class="calibre7" />31.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Gives you his treasure!')<br class="calibre7" />32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />33.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Gobbles you down in one bite!')<br class="calibre7" />34.<br class="calibre7" />35. playAgain = 'yes'<br class="calibre7" />36. while playAgain == 'yes' or playAgain == 'y':<br class="calibre7" />37.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayIntro()<br class="calibre7" />38.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caveNumber = chooseCave()<br class="calibre7" />39.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkCave(caveNumber)<br class="calibre7" />40.<br class="calibre7" />41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Do you want to play again? (yes or no)')<br class="calibre7" />42.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;playAgain = input()</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-290"></span>Let’s look at the source code in more detail.</p>
<h3 class="h2" id="calibre_link-465"><strong class="calibre2">Importing the random and time Modules</strong></h3>
<p class="noindent">This program imports two modules:</p>
<p class="programs">1. import random<br class="calibre7" />2. import time</p>
<p class="indent">The <span class="literal1">random</span> module provides the <span class="literal1">randint()</span> function, which we used in the Guess the Number game from <a href="#calibre_link-40" class="calibre4">Chapter 3</a>. Line 2 imports the <span class="literal1">time</span> module, which contains time-related functions.</p>
<h3 class="h2" id="calibre_link-466"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-229" class="calibre1"></span><strong class="calibre2">Functions in Dragon Realm</strong></h3>
<p class="noindent">Functions let you run the same code multiple times without having to copy and paste that code over and over again. Instead, you put that code inside a function and call the function whenever you need to. Because you write the code only once in the function, if the function’s code has a mistake, you only have to change it in one place in the program.</p>
<p class="indent">You’ve already used a few functions, like <span class="literal1">print()</span>, <span class="literal1">input()</span>, <span class="literal1">randint()</span>, <span class="literal1">str()</span>, and <span class="literal1">int()</span>. Your programs have called these functions to execute the code inside them. In the Dragon Realm game, you’ll write your own functions using <span class="literal1">def</span> statements.</p>
<h4 class="h3" id="calibre_link-467"><em class="calibre10"><strong class="calibre2">def Statements</strong></em></h4>
<p class="noindenta">Line 4 is a <span class="literal1">def</span> statement:</p>
<p class="programs">4. def displayIntro():<br class="calibre7" />5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('''You are in a land full of dragons. In front of you,<br class="calibre7" />6. you see two caves. In one cave, the dragon is friendly<br class="calibre7" />7. and will share his treasure with you. The other dragon<br class="calibre7" />8. is greedy and hungry, and will eat you on sight.''')<br class="calibre7" />9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()</p>
<p class="indent">The <span class="literal1">def</span> statement defines a new function (in this case, the <span class="literal1">displayIntro()</span> function), which you can call later in the program.</p>
<p class="indent"><a href="#calibre_link-796" class="calibre4">Figure 5-2</a> shows the parts of a <span class="literal1">def</span> statement. It has the <span class="literal1">def</span> keyword followed by a function name with parentheses, and then a colon (<span class="literal1">:</span>). The block after the <span class="literal1">def</span> statement is called the <span class="literal1">def</span> block.</p>
<div class="image"><img src="images/00064.jpeg" alt="image" class="calibre3" /></div>
<p class="figcap"><a id="calibre_link-796" class="calibre4"></a><em class="calibre6">Figure 5-2: Parts of a</em> <span class="literal"><span class="codeitalic">def</span></span> <em class="calibre6">statement</em></p>
<h4 class="h3" id="calibre_link-468"><em class="calibre10"><strong class="calibre2">Calling a Function</strong></em></h4>
<p class="noindenta">When you <em class="calibre6">define</em> a function, you specify the instructions for it to run in the following block. When you <em class="calibre6">call</em> a function, the code inside the <span class="literal1">def</span> block executes. Unless you call the function, the instructions in the <span class="literal1">def</span> block will not execute.</p>
<p class="indent">In other words, when the execution reaches a <span class="literal1">def</span> statement, it skips down to the first line after the <span class="literal1">def</span> block. But when a function is called, the execution moves inside of the function to the first line of the <span class="literal1">def</span> block.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-269"></span>For example, look at the call to the <span class="literal1">displayIntro()</span> function on line 37:</p>
<p class="programs">37.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayIntro()</p>
<p class="indent">Calling this function runs the <span class="literal1">print()</span> call, which displays the “You are in a land full of dragons ...” introduction.</p>
<h4 class="h3" id="calibre_link-469"><em class="calibre10"><strong class="calibre2">Where to Put Function Definitions</strong></em></h4>
<p class="noindenta">A function’s <span class="literal1">def</span> statement and <span class="literal1">def</span> block must come <em class="calibre6">before</em> you call the function, just as you must assign a value to a variable before you use that variable. If you put the function call before the function definition, you’ll get an error. Let’s look at a short program as an example. Open a new file editor window, enter this code, save it as <em class="calibre6">example.py</em>, and run it:</p>
<p class="programs">sayGoodbye()<br class="calibre7" /><br class="calibre7" />def sayGoodbye():<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Goodbye!')</p>
<p class="indent">If you try to run this program, Python will give you an error message that looks like this:</p>
<p class="programs">Traceback (most recent call last):<br class="calibre7" />&nbsp;&nbsp;File "C:/Users/Al/AppData/Local/Programs/Python/Python36/example.py",<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;line 1, in &lt;module&gt;<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;sayGoodbye()<br class="calibre7" />NameError: name 'sayGoodbye' is not defined</p>
<p class="indent">To fix this error, move the function definition before the function call:</p>
<p class="programs">def sayGoodbye():<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Goodbye!')<br class="calibre7" /><br class="calibre7" />sayGoodbye()</p>
<p class="indent">Now, the function is defined before it is called, so Python will know what <span class="literal1">sayGoodbye()</span> should do. Otherwise, Python won’t have the instructions for <span class="literal1">sayGoodbye()</span> when it is called and so won’t be able to run it.</p>
<h3 class="h2" id="calibre_link-470"><strong class="calibre2">Multiline Strings</strong></h3>
<p class="noindent">So far, all of the strings in our <span class="literal1">print()</span> function calls have been on one line and have had one quote character at the start and end. However, if you use three quotes at the start and end of a string, then it can go across several lines. These are <em class="calibre6">multiline strings</em>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-302"></span>Enter the following into the interactive shell to see how multiline strings work:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">fizz = '''Dear Alice,</span><br class="calibre7" /><span class="codestrong">I will return to Carol's house at the end of the month.</span><br class="calibre7" /><span class="codestrong">Your friend,</span><br class="calibre7" /><span class="codestrong">Bob'''</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">print(fizz)</span><br class="calibre7" />Dear Alice,<br class="calibre7" />I will return to Carol's house at the end of the month.<br class="calibre7" />Your friend,<br class="calibre7" />Bob</p>
<p class="indent">Note the line breaks in the printed string. In a multiline string, the newline characters are included as part of the string. You don’t have to use the <span class="literal1">\n</span> escape character or escape quotes as long as you don’t use three quotes together. These line breaks make the code easier to read when large amounts of text are involved.</p>
<h3 class="h2" id="calibre_link-471"><strong class="calibre2">How to Loop with while Statements</strong></h3>
<p class="noindent">Line 11 defines another function called <span class="literal1">chooseCave()</span>:</p>
<p class="programs">11. def chooseCave():</p>
<p class="indent">This function’s code asks the player which cave they want to go in, either <span class="literal1">1</span> or <span class="literal1">2</span>. We’ll need to use a <span class="literal1">while</span> statement to ask the player to choose a cave, which marks the start of a new kind of loop: a <span class="literal1">while</span> loop.</p>
<p class="indent">Unlike a <span class="literal1">for</span> loop, which loops a specific number of times, a <span class="literal1">while</span> loop repeats as long as a certain condition is <span class="literal1">True</span>. When the execution reaches a <span class="literal1">while</span> statement, it evaluates the condition next to the <span class="literal1">while</span> keyword. If the condition evaluates to <span class="literal1">True</span>, the execution moves inside the following block, called the <span class="literal1">while</span> block. If the condition evaluates to <span class="literal1">False</span>, the execution moves past the <span class="literal1">while</span> block.</p>
<p class="indent">You can think of a <span class="literal1">while</span> statement as being almost the same as an <span class="literal1">if</span> statement. The program execution enters the blocks of both statements if their condition is <span class="literal1">True</span>. But when the condition reaches the end of the block in a <span class="literal1">while</span> loop, it moves back to the <span class="literal1">while</span> statement to recheck the condition.</p>
<p class="indent">Look at the <span class="literal1">def</span> block for <span class="literal1">chooseCave()</span> to see a <span class="literal1">while</span> loop in action:</p>
<p class="programs">12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cave = ''<br class="calibre7" />13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while cave != '1' and cave != '2':</p>
<p class="indent">Line 12 creates a new variable called <span class="literal1">cave</span> and stores a blank string in it. Then a <span class="literal1">while</span> loop begins on line 13. The <span class="literal1">chooseCave()</span> function needs to <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-182"></span>make sure the player entered <span class="literal1">1</span> or <span class="literal1">2</span> and not something else. A loop here keeps asking the player which cave they choose until they enter one of these two valid responses. This is called <em class="calibre6">input validation</em>.</p>
<p class="indent">The condition also contains a new operator you haven’t seen before: <span class="literal1">and</span>. Just as <span class="literal1">-</span> and <span class="literal1">*</span> are mathematical operators, and <span class="literal1">==</span> and <span class="literal1">!=</span> are comparison operators, the <span class="literal1">and</span> operator is a Boolean operator. Let’s take a closer look at Boolean operators.</p>
<h3 class="h2" id="calibre_link-472"><strong class="calibre2">Boolean Operators</strong></h3>
<p class="noindent">Boolean logic deals with things that are either true or false. Boolean operators compare values and evaluate to a single Boolean value.</p>
<p class="indent">Think of the sentence “Cats have whiskers and dogs have tails.” “Cats have whiskers” is true, and “dogs have tails” is also true, so the entire sentence “Cats have whiskers <em class="calibre6">and</em> dogs have tails” is true.</p>
<p class="indent">But the sentence “Cats have whiskers and dogs have wings” would be false. Even though “cats have whiskers” is true, dogs don’t have wings, so “dogs have wings” is false. In Boolean logic, things can only be entirely true or entirely false. Because of the word <em class="calibre6">and</em>, the entire sentence is true only if <em class="calibre6">both</em> parts are true. If one or both parts are false, then the entire sentence is false.</p>
<h4 class="h3" id="calibre_link-473"><em class="calibre10"><strong class="calibre2">The and Operator</strong></em></h4>
<p class="noindenta">The <span class="literal1">and</span> operator in Python also requires the whole Boolean expression to be <span class="literal1">True</span> or <span class="literal1">False</span>. If the Boolean values on both sides of the <span class="literal1">and</span> keyword are <span class="literal1">True</span>, then the expression evaluates to <span class="literal1">True</span>. If either or both of the Boolean values are <span class="literal1">False</span>, then the expression evaluates to <span class="literal1">False</span>.</p>
<p class="indent">Enter the following expressions with the <span class="literal1">and</span> operator into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">True and True</span><br class="calibre7" />True<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">True and False</span><br class="calibre7" />False<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">False and True</span><br class="calibre7" />False<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">False and False</span><br class="calibre7" />False<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">spam = 'Hello'</span><br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">10 &lt; 20 and spam == 'Hello'</span><br class="calibre7" />True</p>
<p class="indent">The <span class="literal1">and</span> operator can be used to evaluate any two Boolean expressions. In the last example, <span class="literal1">10 &lt; 20</span> evaluates to <span class="literal1">True</span> and <span class="literal1">spam == 'Hello'</span> also evaluates to <span class="literal1">True</span>, so the two Boolean expressions joined by the <span class="literal1">and</span> operator evaluate as <span class="literal1">True</span>.</p>
<p class="indent">If you ever forget how a Boolean operator works, you can look at its <em class="calibre6">truth table</em>, which shows how every combination of Boolean values evaluates. <a href="#calibre_link-797" class="calibre4">Table 5-1</a> shows every combination for the <span class="literal1">and</span> operator.</p>
<p class="tablecap"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-339"></span><a id="calibre_link-797" class="calibre4"></a><strong class="calibre5">Table 5-1:</strong> The <span class="literal">and</span> Operator’s Truth Table</p>
<table class="topbot">
<thead class="calibre14">
<tr class="calibre15">
<td class="table_th"><p class="table"><strong class="calibre5">A</strong> <span class="literal1"><span class="codestrong">and</span></span> <strong class="calibre5">B</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Evaluates to</strong></p></td>
</tr>
</thead>
<tbody class="calibre16">
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">True and True</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">True</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">True and False</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">False</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">False and True</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">False</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">False and False</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">False</span></p></td>
</tr>
</tbody>
</table>
<h4 class="h3" id="calibre_link-474"><em class="calibre10"><strong class="calibre2">The or Operator</strong></em></h4>
<p class="noindenta">The <span class="literal1">or</span> operator is similar to the <span class="literal1">and</span> operator, except it evaluates to <span class="literal1">True</span> if <em class="calibre6">either</em> of the two Boolean values is <span class="literal1">True</span>. The only time the <span class="literal1">or</span> operator evaluates to <span class="literal1">False</span> is if <em class="calibre6">both</em> of the Boolean values are <span class="literal1">False</span>.</p>
<p class="indent">Now enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">True or True</span><br class="calibre7" />True<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">True or False</span><br class="calibre7" />True<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">False or True</span><br class="calibre7" />True<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">False or False</span><br class="calibre7" />False<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">10 &gt; 20 or 20 &gt; 10</span><br class="calibre7" />True</p>
<p class="indent">In the last example, <span class="literal1">10</span> is not greater than <span class="literal1">20</span> but <span class="literal1">20</span> is greater than <span class="literal1">10</span>, so the first expression evaluates to <span class="literal1">False</span> and the second expression evaluates to <span class="literal1">True</span>. Because the second expression is <span class="literal1">True</span>, this whole expression evaluates as <span class="literal1">True</span>.</p>
<p class="indent">The <span class="literal1">or</span> operator’s truth table is shown in <a href="#calibre_link-798" class="calibre4">Table 5-2</a>.</p>
<p class="tablecap"><a id="calibre_link-798" class="calibre4"></a><strong class="calibre5">Table 5-2:</strong> The <span class="literal">or</span> Operator’s Truth Table</p>
<table class="topbot">
<thead class="calibre14">
<tr class="calibre15">
<td class="table_th"><p class="table"><strong class="calibre5">A</strong> <span class="literal1"><span class="codestrong">or</span></span> <strong class="calibre5">B</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Evaluates to</strong></p></td>
</tr>
</thead>
<tbody class="calibre16">
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">True or True</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">True</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">True or False</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">True</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">False or True</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">True</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">False or False</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">False</span></p></td>
</tr>
</tbody>
</table>
<h4 class="h3" id="calibre_link-475"><em class="calibre10"><strong class="calibre2">The not Operator</strong></em></h4>
<p class="noindenta">Instead of combining two values, the <span class="literal1">not</span> operator works on only one value. The <span class="literal1">not</span> operator evaluates to the opposite Boolean value: <span class="literal1">True</span> expressions evaluate to <span class="literal1">False</span>, and <span class="literal1">False</span> expressions evaluate to <span class="literal1">True</span>.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-285"></span>Enter the following into the interactive shell:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">not True</span><br class="calibre7" />False<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">not False</span><br class="calibre7" />True<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">not ('black' == 'white')</span><br class="calibre7" />True</p>
<p class="indent">The <span class="literal1">not</span> operator can also be used on any Boolean expression. In the last example, the expression <span class="literal1">'black' == 'white'</span> evaluates to <span class="literal1">False</span>. This is why <span class="literal1">not ('black' == 'white')</span> is <span class="literal1">True</span>.</p>
<p class="indent">The <span class="literal1">not</span> operator’s truth table is shown in <a href="#calibre_link-799" class="calibre4">Table 5-3</a>.</p>
<p class="tablecap"><a id="calibre_link-799" class="calibre4"></a><strong class="calibre5">Table 5-3:</strong> The <span class="literal">not</span> Operator’s Truth Table</p>
<table class="topbot">
<thead class="calibre14">
<tr class="calibre15">
<td class="table_th"><p class="table"><span class="literal1"><span class="codestrong">not</span></span> <strong class="calibre5">A</strong></p></td>
<td class="table_th"><p class="table"><strong class="calibre5">Evaluates to</strong></p></td>
</tr>
</thead>
<tbody class="calibre16">
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">not True</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">False</span></p></td>
</tr>
<tr class="calibre15">
<td class="table_3a"><p class="table"><span class="literal1">not False</span></p></td>
<td class="table_3a"><p class="table"><span class="literal1">True</span></p></td>
</tr>
</tbody>
</table>
<h4 class="h3" id="calibre_link-476"><em class="calibre10"><strong class="calibre2">Evaluating Boolean Operators</strong></em></h4>
<p class="noindenta">Look at line 13 of the Dragon Realm game again:</p>
<p class="programs">13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while cave != '1' and cave != '2':</p>
<p class="indent">The condition has two parts connected by the <span class="literal1">and</span> Boolean operator. The condition is <span class="literal1">True</span> only if both parts are <span class="literal1">True</span>.</p>
<p class="indent">The first time the <span class="literal1">while</span> statement’s condition is checked, <span class="literal1">cave</span> is set to the blank string, <span class="literal1">''</span>. The blank string is not equal to the string <span class="literal1">'1'</span>, so the left side evaluates to <span class="literal1">True</span>. The blank string is also not equal to the string <span class="literal1">'2'</span>, so the right side evaluates to <span class="literal1">True</span>.</p>
<p class="indent">So the condition then turns into <span class="literal1">True and True</span>. Because both values are <span class="literal1">True</span>, the whole condition evaluates to <span class="literal1">True</span>, so the program execution enters the <span class="literal1">while</span> block, where the program will attempt to assign a nonblank value for <span class="literal1">cave</span>.</p>
<p class="indent">Line 14 asks the player to choose a cave:</p>
<p class="programs">13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while cave != '1' and cave != '2':<br class="calibre7" />14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Which cave will you go into? (1 or 2)')<br class="calibre7" />15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cave = input()</p>
<p class="indent">Line 15 lets the player type their response and press <small class="calibre11">ENTER</small>. This response is stored in <span class="literal1">cave</span>. After this code is executed, the execution loops back to the top of the <span class="literal1">while</span> statement and rechecks the condition at line 13.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-270"></span>If the player entered <span class="literal1">1</span> or <span class="literal1">2</span>, then <span class="literal1">cave</span> will be either <span class="literal1">'1'</span> or <span class="literal1">'2'</span> (since <span class="literal1">input()</span> always returns strings). This makes the condition <span class="literal1">False</span>, and the program execution will continue past the <span class="literal1">while</span> loop. For example, if the user entered <span class="literal1">'1'</span>, then the evaluation would look like this:</p>
<div class="image"><img src="images/00067.jpeg" alt="image" class="calibre3" /></div>
<p class="indent">But if the player entered <span class="literal1">3</span> or <span class="literal1">4</span> or <span class="literal1">HELLO</span>, that response would be invalid. The condition would then be <span class="literal1">True</span> and would enter the <span class="literal1">while</span> block to ask the player again. The program keeps asking the player which cave they choose until they enter <span class="literal1">1</span> or <span class="literal1">2</span>. This guarantees that once the execution moves on, the <span class="literal1">cave</span> variable contains a valid response.</p>
<h3 class="h2" id="calibre_link-477"><strong class="calibre2">Return Values</strong></h3>
<p class="noindent">Line 17 has something new called a <span class="literal1">return</span> statement:</p>
<p class="programs">17.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return cave</p>
<p class="indent">A <span class="literal1">return</span> statement appears only inside <span class="literal1">def</span> blocks where a function&mdash;in this case, <span class="literal1">chooseCave()</span>&mdash;is defined. Remember how the <span class="literal1">input()</span> function returns a string value that the player entered? The <span class="literal1">chooseCave()</span> function will also return a value. Line 17 returns the string that is stored in <span class="literal1">cave</span>, either <span class="literal1">'1'</span> or <span class="literal1">'2'</span>.</p>
<p class="indent">Once the <span class="literal1">return</span> statement executes, the program execution jumps immediately out of the <span class="literal1">def</span> block (just as the <span class="literal1">break</span> statement makes the execution jump out of a <span class="literal1">while</span> block). The program execution moves back to the line with the function call. The function call itself will evaluate to the function’s return value.</p>
<p class="indent">Skip down to line 38 for a moment where the <span class="literal1">chooseCave()</span> function is called:</p>
<p class="programs">38.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caveNumber = chooseCave()</p>
<p class="indent">On line 38, when the program calls the function <span class="literal1">chooseCave()</span>, which was defined on line 11, the function call evaluates to the string inside of <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-312"></span><span class="literal1">cave</span>, which is then stored in <span class="literal1">caveNumber</span>. The <span class="literal1">while</span> loop inside <span class="literal1">chooseCave()</span> guarantees that <span class="literal1">chooseCave()</span> will return only either <span class="literal1">'1'</span> or <span class="literal1">'2'</span> as its return value. So <span class="literal1">caveNumber</span> can have only one of these two values.</p>
<h3 class="h2" id="calibre_link-478"><strong class="calibre2">Global Scope and Local Scope</strong></h3>
<p class="noindent">There is something special about variables that are created inside functions, like the <span class="literal1">cave</span> variable in the <span class="literal1">chooseCave()</span> function on line 12:</p>
<p class="programs">12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cave = ''</p>
<p class="indent">A <em class="calibre6">local scope</em> is created whenever a function is called. Any variables assigned in this function exist within the local scope. Think of a <em class="calibre6">scope</em> as a container for variables. What makes variables in local scopes special is that they are forgotten when the function returns and they will be re-created if the function is called again. The value of a local variable isn’t remembered between function calls.</p>
<p class="indent">Variables that are assigned outside of functions exist in the <em class="calibre6">global scope</em>. There is only one global scope, and it is created when your program begins. When your program terminates, the global scope is destroyed, and all its variables are forgotten. Otherwise, the next time you ran your program, the variables would remember their values from the last time you ran it.</p>
<p class="indent">A variable that exists in a local scope is called a <em class="calibre6">local variable</em>, while a variable that exists in the global scope is called a <em class="calibre6">global variable</em>. A variable must be one or the other; it cannot be both local and global.</p>
<p class="indent">The variable <span class="literal1">cave</span> is created inside the <span class="literal1">chooseCave()</span> function. This means it is created in the <span class="literal1">chooseCave()</span> function’s local scope. It will be forgotten when <span class="literal1">chooseCave()</span> returns and will be re-created if <span class="literal1">chooseCave()</span> is called a second time.</p>
<p class="indent">Local and global variables can have the same name, but they are different variables because they are in different scopes. Let’s write a new program to illustrate these concepts:</p>
<p class="programs">&nbsp;&nbsp;&nbsp;def bacon():<br class="calibre7" /><span class="ent">➊</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spam = 99&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Creates a local variable named spam<br class="calibre7" /><span class="ent">➋</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(spam)&nbsp;&nbsp;&nbsp;&nbsp;# Prints 99<br class="calibre7" /><br class="calibre7" /><span class="ent">➌</span> spam = 42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Creates a global variable named spam<br class="calibre7" /><span class="ent">➍</span> print(spam)&nbsp;&nbsp;&nbsp;&nbsp;# Prints 42<br class="calibre7" /><span class="ent">➎</span> bacon()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Calls the bacon() function and prints 99<br class="calibre7" /><span class="ent">➏</span> print(spam)&nbsp;&nbsp;&nbsp;&nbsp;# Prints 42</p>
<p class="indent">We first make a function called <span class="literal1">bacon()</span>. In <span class="literal1">bacon()</span>, we create a variable called <span class="literal1">spam</span> and assign it <span class="literal1">99</span> <span class="ent">➊</span>. At <span class="ent">➋</span>, we call <span class="literal1">print()</span> to print this local <span class="literal1">spam</span> variable, which is <span class="literal1">99</span>. At <span class="ent">➌</span>, a global variable called <span class="literal1">spam</span> is also declared and set to <span class="literal1">42</span>. This variable is global because it is outside of all functions. <span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-309"></span>When the global <span class="literal1">spam</span> variable is passed to <span class="literal1">print()</span> at <span class="ent">➍</span>, it prints <span class="literal1">42</span>. When the <span class="literal1">bacon()</span> function is called at <span class="ent">➎</span>, <span class="ent">➊</span> and <span class="ent">➋</span> are executed, and the local <span class="literal1">spam</span> variable is created, set, and then printed. So calling <span class="literal1">bacon()</span> prints the value <span class="literal1">99</span>. After the <span class="literal1">bacon()</span> function call returns, the local <span class="literal1">spam</span> variable is forgotten. If we print <span class="literal1">spam</span> at <span class="ent">➏</span>, we are printing the global variable, so the output there is <span class="literal1">42</span>.</p>
<p class="indent">When run, this code will output the following:</p>
<p class="programs">42<br class="calibre7" />99<br class="calibre7" />42</p>
<p class="indent">Where a variable is created determines what scope it is in. Keep this in mind when writing your programs.</p>
<h3 class="h2" id="calibre_link-479"><strong class="calibre2">Function Parameters</strong></h3>
<p class="noindent">The next function defined in the Dragon Realm program is named <span class="literal1">checkCave()</span>.</p>
<p class="programs">19. def checkCave(chosenCave):</p>
<p class="indent">Notice the text <span class="literal1">chosenCave</span> between the parentheses. This is a <em class="calibre6">parameter</em>: a local variable that is used by the function’s code. When the function is called, the call’s arguments are the values assigned to the parameters.</p>
<p class="indent">Let’s go back to the interactive shell for a moment. Remember that for some function calls, like <span class="literal1">str()</span> or <span class="literal1">randint()</span>, you would pass one or more arguments between the parentheses:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">str(5)</span><br class="calibre7" />'5'<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">random.randint(1, 20)</span><br class="calibre7" />14<br class="calibre7" />&gt;&gt;&gt; <span class="codestrong">len('Hello')</span><br class="calibre7" />5</p>
<p class="indent">This example includes a Python function you haven’t seen yet: <span class="literal1">len()</span>. The <span class="literal1">len()</span> function returns an integer indicating how many characters are in the string passed to it. In this case, it tells us that the string <span class="literal1">'Hello'</span> has <span class="literal1">5</span> characters.</p>
<p class="indent">You will also pass an argument when you call <span class="literal1">checkCave()</span>. This argument is stored in a new variable named <span class="literal1">chosenCave</span>, which is <span class="literal1">checkCave()</span>’s parameter.</p>
<p class="indent">Here is a short program that demonstrates defining a function (<span class="literal1">sayHello</span>) with a parameter (<span class="literal1">name</span>):</p>
<p class="programs">def sayHello(name):<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;print('Hello, ' + name + '. Your name has ' + str(len(name)) +<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' letters.')<br class="calibre7" />sayHello('Alice')<br class="calibre7" />sayHello('Bob')<br class="calibre7" />spam = 'Carol'<br class="calibre7" />sayHello(spam)</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-287"></span>When you call <span class="literal1">sayHello()</span> with an argument in the parentheses, the argument is assigned to the <span class="literal1">name</span> parameter, and the code in the function is executed. There’s just one line of code in the <span class="literal1">sayHello()</span> function, which is a <span class="literal1">print()</span> function call. Inside the <span class="literal1">print()</span> function call are some strings and the <span class="literal1">name</span> variable, along with a call to the <span class="literal1">len()</span> function. Here, <span class="literal1">len()</span> is used to count the number of characters in <span class="literal1">name</span>. If you run the program, the output looks like this:</p>
<p class="programs">Hello, Alice. Your name has 5 letters.<br class="calibre7" />Hello, Bob. Your name has 3 letters.<br class="calibre7" />Hello, Carol. Your name has 5 letters.</p>
<p class="indent">For each call to <span class="literal1">sayHello()</span>, a greeting and the length of the <span class="literal1">name</span> argument are printed. Notice that because the string <span class="literal1">'Carol'</span> is assigned to the <span class="literal1">spam</span> variable, <span class="literal1">sayHello(spam)</span> is equivalent to <span class="literal1">sayHello('Carol')</span>.</p>
<h3 class="h2" id="calibre_link-480"><strong class="calibre2">Displaying the Game Results</strong></h3>
<p class="noindent">Let’s go back to the Dragon Realm game’s source code:</p>
<p class="programs">20.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You approach the cave...')<br class="calibre7" />21.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)</p>
<p class="indent">The <span class="literal1">time</span> module has a function called <span class="literal1">sleep()</span> that pauses the program. Line 21 passes the integer value <span class="literal1">2</span> so that <span class="literal1">time.sleep()</span> will pause the program for 2 seconds.</p>
<p class="programs">22.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('It is dark and spooky...')<br class="calibre7" />23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)</p>
<p class="indent">Here the code prints some more text and waits for another 2 seconds. These short pauses add suspense to the game instead of displaying the text all at once. In <a href="#calibre_link-21" class="calibre4">Chapter 4</a>’s Jokes program, you called the <span class="literal1">input()</span> function to pause until the player pressed <small class="calibre11">ENTER</small>. Here, the player doesn’t have to do anything except wait a couple of seconds.</p>
<p class="programs">24.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('A large dragon jumps out in front of you! He opens his jaws<br class="calibre7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and...')<br class="calibre7" />25.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print()<br class="calibre7" />26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-286"></span>With the suspense building, our program will next determine which cave has the friendly dragon.</p>
<h3 class="h2" id="calibre_link-481"><strong class="calibre2">Deciding Which Cave Has the Friendly Dragon</strong></h3>
<p class="noindent">Line 28 calls the <span class="literal1">randint()</span> function, which will randomly return either <span class="literal1">1</span> or <span class="literal1">2</span>.</p>
<p class="programs">28.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;friendlyCave = random.randint(1, 2)</p>
<p class="indent">This integer value is stored in <span class="literal1">friendlyCave</span> and indicates the cave with the friendly dragon.</p>
<p class="programs">30.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if chosenCave == str(friendlyCave):<br class="calibre7" />31.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Gives you his treasure!')</p>
<p class="indent">Line 30 checks whether the player’s chosen cave in the <span class="literal1">chosenCave</span> variable (<span class="literal1">'1'</span> or <span class="literal1">'2'</span>) is equal to the friendly dragon cave.</p>
<p class="indent">But the value in <span class="literal1">friendlyCave</span> is an integer because <span class="literal1">randint()</span> returns integers. You can’t compare strings and integers with the <span class="literal1">==</span> sign, because they will <em class="calibre6">never</em> be equal to each other: <span class="literal1">'1'</span> is not equal to <span class="literal1">1</span>, and <span class="literal1">'2'</span> is not equal to <span class="literal1">2</span>.</p>
<p class="indent">So <span class="literal1">friendlyCave</span> is passed to the <span class="literal1">str()</span> function, which returns the string value of <span class="literal1">friendlyCave</span>. Now the values will have the same data type and can be meaningfully compared to each other. We could have also converted <span class="literal1">chosenCave</span> to an integer value instead. Then line 30 would have looked like this:</p>
<p class="programs">&nbsp;&nbsp;&nbsp;&nbsp;if int(chosenCave) == friendlyCave:</p>
<p class="indent">If <span class="literal1">chosenCave</span> is equal to <span class="literal1">friendlyCave</span>, the condition evaluates to <span class="literal1">True</span>, and line 31 tells the player they have won the treasure.</p>
<p class="indent">Now we have to add some code to run if the condition is false. Line 32 is an <span class="literal1">else</span> statement:</p>
<p class="programs">32.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br class="calibre7" />33.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Gobbles you down in one bite!')</p>
<p class="indent">An <span class="literal1">else</span> statement can come only after an <span class="literal1">if</span> block. The <span class="literal1">else</span> block executes if the <span class="literal1">if</span> statement’s condition is <span class="literal1">False</span>. Think of this as the program’s way of saying, “If this condition is true, then execute the <span class="literal1">if</span> block or else execute the <span class="literal1">else</span> block.”</p>
<p class="indent">In this case, the <span class="literal1">else</span> statement runs when <span class="literal1">chosenCave</span> is not equal to <span class="literal1">friendlyCave</span>. Then, the <span class="literal1">print()</span> function call on line 33 is run, telling the player that they’ve been eaten by the dragon.</p>
<h3 class="h2" id="calibre_link-482"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-230" class="calibre1"></span><strong class="calibre2">The Game Loop</strong></h3>
<p class="noindent">The first part of the program defines several functions but doesn’t run the code inside of them. Line 35 is where the main part of the program begins because it is the first line that runs:</p>
<p class="programs">35. playAgain = 'yes'<br class="calibre7" />36. while playAgain == 'yes' or playAgain == 'y':</p>
<p class="indent">This line is where the main part of the program begins. The previous <span class="literal1">def</span> statements merely defined the functions. They didn’t run the code inside of those functions.</p>
<p class="indent">Lines 35 and 36 are setting up a loop that contains the rest of the game code. At the end of the game, the player can tell the program whether they want to play again. If they do, the execution enters the <span class="literal1">while</span> loop to run the entire game all over again. If they don’t, the <span class="literal1">while</span> statement’s condition will be <span class="literal1">False</span>, and the execution will move to the end of the program and terminate.</p>
<p class="indent">The first time the execution comes to this <span class="literal1">while</span> statement, line 35 will have just assigned <span class="literal1">'yes'</span> to the <span class="literal1">playAgain</span> variable. That means the condition will be <span class="literal1">True</span> at the start of the program. This guarantees that the execution enters the loop at least once.</p>
<h4 class="h3" id="calibre_link-483"><em class="calibre10"><strong class="calibre2">Calling the Functions in the Program</strong></em></h4>
<p class="noindenta">Line 37 calls the <span class="literal1">displayIntro()</span> function:</p>
<p class="programs">37.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayIntro()</p>
<p class="indent">This isn’t a Python function&mdash;it is the function that you defined earlier on line 4. When this function is called, the program execution jumps to the first line in the <span class="literal1">displayIntro()</span> function on line 5. When all the lines in the function have been executed, the execution jumps back to line 37 and continues moving down.</p>
<p class="indent">Line 38 also calls a function that you defined:</p>
<p class="programs">38.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caveNumber = chooseCave()</p>
<p class="indent">Remember that the <span class="literal1">chooseCave()</span> function lets the player choose the cave they want to enter. When line 17’s <span class="literal1">return cave</span> executes, the program execution jumps back to line 38. The <span class="literal1">chooseCave()</span> call then evaluates to the return value, which will be an integer value representing the cave the player chose to enter. This return value is stored in a new variable named <span class="literal1">caveNumber</span>.</p>
<p class="indent">Then the program execution moves on to line 39:</p>
<p class="programs">39.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkCave(caveNumber)</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-238"></span>Line 39 calls the <span class="literal1">checkCave()</span> function, passing the value in <span class="literal1">caveNumber</span> as an argument. Not only does the execution jump to line 20, but the value in <span class="literal1">caveNumber</span> is copied to the parameter <span class="literal1">chosenCave</span> inside the <span class="literal1">checkCave()</span> function. This is the function that will display either <span class="literal1">'Gives you his treasure!'</span> or <span class="literal1">'Gobbles you down in one bite!'</span> depending on the cave the player chooses to enter.</p>
<h4 class="h3" id="calibre_link-484"><em class="calibre10"><strong class="calibre2">Asking the Player to Play Again</strong></em></h4>
<p class="noindenta">Whether the player won or lost, they are asked if they want to play again.</p>
<p class="programs">41.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Do you want to play again? (yes or no)')<br class="calibre7" />42.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;playAgain = input()</p>
<p class="indent">The variable <span class="literal1">playAgain</span> stores what the player types. Line 42 is the last line of the <span class="literal1">while</span> block, so the program jumps back to line 36 to check the <span class="literal1">while</span> loop’s condition: <span class="literal1">playAgain == 'yes' or playAgain == 'y'</span>.</p>
<p class="indent">If the player enters the string <span class="literal1">'yes'</span> or <span class="literal1">'y'</span>, then the execution enters the loop again at line 37.</p>
<p class="indent">If the player enters <span class="literal1">'no'</span> or <span class="literal1">'n'</span> or something silly like <span class="literal1">'Abraham Lincoln'</span>, then the condition is <span class="literal1">False</span>, and the program execution continues to the line after the <span class="literal1">while</span> block. But since there aren’t any lines after the <span class="literal1">while</span> block, the program terminates.</p>
<p class="indent">One thing to note: the string <span class="literal1">'YES'</span> is not equal to the string <span class="literal1">'yes'</span> since the computer does not consider upper- and lowercase letters the same. If the player entered the string <span class="literal1">'YES'</span>, then the <span class="literal1">while</span> statement’s condition would evaluate to <span class="literal1">False</span> and the program would still terminate. Later, the Hangman program will show you how to avoid this problem. (See “<a href="#calibre_link-521" class="calibre4">The <span class="literal1">lower()</span> and <span class="literal1">upper()</span> String Methods</a>” on <a href="#calibre_link-324" class="calibre4">page 101</a>.)</p>
<p class="indent">You’ve just completed your second game! In Dragon Realm, you used a lot of what you learned in the Guess the Number game and picked up a few new tricks. If you didn’t understand some of the concepts in this program, go over each line of the source code again and try changing the code to see how the program changes.</p>
<p class="indent">In <a href="#calibre_link-143" class="calibre4">Chapter 6</a>, you won’t create another game. Instead, you will learn how to use a feature of IDLE called the <em class="calibre6">debugger</em>.</p>
<h3 class="h2" id="calibre_link-485"><strong class="calibre2">Summary</strong></h3>
<p class="noindent">In the Dragon Realm game, you created your own functions. A function is a mini-program within your program. The code inside the function runs when the function is called. By breaking up your code into functions, you can organize your code into shorter and easier-to-understand sections.</p>
<p class="indent">Arguments are values copied to the function’s parameters when the function is called. The function call itself evaluates to the return value.</p>
<p class="indent"><span {http://www.idpf.org/2007/ops}type="pagebreak" id="calibre_link-861"></span>You also learned about variable scopes. Variables created inside of a function exist in the local scope, and variables created outside of all functions exist in the global scope. Code in the global scope cannot make use of local variables. If a local variable has the same name as a global variable, Python considers it a separate variable. Assigning new values to the local variable won’t change the value in the global variable.</p>
<p class="indent">Variable scopes might seem complicated, but they are useful for organizing functions as separate pieces of code from the rest of the program. Because each function has its own local scope, you can be sure that the code in one function won’t cause bugs in other functions.</p>
<p class="indent">Almost every program has functions because they are so useful. By understanding how functions work, you can save yourself a lot of typing and make bugs easier to fix.</p>
</div>


<a href="chapter4.html">Prev: Chapter 4 - A Joke-Telling Program</a> | <a href="chapter6.html">Next: Chapter 6 - Using the Debugger</a>
</body></html>