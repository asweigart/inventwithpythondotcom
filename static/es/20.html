<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:24.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	color:#1F497D;
	font-weight:bold;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:#1F497D;
	font-weight:bold;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:44.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:55.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:66.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:77.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:88.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-link:"No Spacing Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:24.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman","serif";
	color:#1F497D;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Times New Roman","serif";
	color:#1F497D;
	font-weight:bold;
	font-style:italic;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.Definition
	{mso-style-name:Definition;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
span.NoSpacingChar
	{mso-style-name:"No Spacing Char";
	mso-style-link:"No Spacing";
	font-family:"Times New Roman","serif";}
span.URL
	{mso-style-name:URL;
	text-decoration:underline;}
span.Literal
	{mso-style-name:Literal;
	font-family:"Lucida Sans Typewriter";}
p.TopicsCoveredbox, li.TopicsCoveredbox, div.TopicsCoveredbox
	{mso-style-name:"Topics Covered box";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpFirst, li.TopicsCoveredboxCxSpFirst, div.TopicsCoveredboxCxSpFirst
	{mso-style-name:"Topics Covered boxCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpMiddle, li.TopicsCoveredboxCxSpMiddle, div.TopicsCoveredboxCxSpMiddle
	{mso-style-name:"Topics Covered boxCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpLast, li.TopicsCoveredboxCxSpLast, div.TopicsCoveredboxCxSpLast
	{mso-style-name:"Topics Covered boxCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.CodeExample, li.CodeExample, div.CodeExample
	{mso-style-name:"Code Example";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.CodeExampleCxSpFirst, li.CodeExampleCxSpFirst, div.CodeExampleCxSpFirst
	{mso-style-name:"Code ExampleCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.CodeExampleCxSpMiddle, li.CodeExampleCxSpMiddle, div.CodeExampleCxSpMiddle
	{mso-style-name:"Code ExampleCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.CodeExampleCxSpLast, li.CodeExampleCxSpLast, div.CodeExampleCxSpLast
	{mso-style-name:"Code ExampleCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCode, li.SourceCode, div.SourceCode
	{mso-style-name:"Source Code";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeCxSpFirst, li.SourceCodeCxSpFirst, div.SourceCodeCxSpFirst
	{mso-style-name:"Source CodeCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeCxSpMiddle, li.SourceCodeCxSpMiddle, div.SourceCodeCxSpMiddle
	{mso-style-name:"Source CodeCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeCxSpLast, li.SourceCodeCxSpLast, div.SourceCodeCxSpLast
	{mso-style-name:"Source CodeCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRun, li.SampleRun, div.SampleRun
	{mso-style-name:"Sample Run";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpFirst, li.SampleRunCxSpFirst, div.SampleRunCxSpFirst
	{mso-style-name:"Sample RunCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpMiddle, li.SampleRunCxSpMiddle, div.SampleRunCxSpMiddle
	{mso-style-name:"Sample RunCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpLast, li.SampleRunCxSpLast, div.SampleRunCxSpLast
	{mso-style-name:"Sample RunCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
span.SampleRunResponse
	{mso-style-name:"Sample Run Response";
	color:#1F497D;
	font-weight:bold;}
span.SourceLineNumber
	{mso-style-name:"Source Line Number";
	color:#7F7F7F;}
span.SourceCodeComment
	{mso-style-name:"Source Code Comment";
	color:#7F7F7F;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Times New Roman","serif";}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"Times New Roman","serif";}
p.TableHeading, li.TableHeading, div.TableHeading
	{mso-style-name:"Table Heading";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
p.TableListing, li.TableListing, div.TableListing
	{mso-style-name:"Table Listing";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.ImportantNote, li.ImportantNote, div.ImportantNote
	{mso-style-name:"Important Note";
	margin-top:0in;
	margin-right:.5in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
span.StrongBoxed
	{mso-style-name:"Strong & Boxed";
	border:solid windowtext 1.0pt;
	padding:0in;
	font-weight:bold;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Franklin Gothic Demi","sans-serif";
	letter-spacing:.25pt;}
p.ChapterNumber, li.ChapterNumber, div.ChapterNumber
	{mso-style-name:"Chapter Number";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:26.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";}
p.Body, li.Body, div.Body
	{mso-style-name:Body;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.BodyFirst, li.BodyFirst, div.BodyFirst
	{mso-style-name:"Body First";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
span.Keycap
	{mso-style-name:Keycap;
	font-variant:small-caps;
	color:blue;}
span.FigureImageBorder
	{mso-style-name:"Figure Image Border";
	border:solid windowtext 1.0pt;
	padding:0in;}
p.SourceCodeFilename, li.SourceCodeFilename, div.SourceCodeFilename
	{mso-style-name:"Source Code Filename";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFilenameCxSpFirst, li.SourceCodeFilenameCxSpFirst, div.SourceCodeFilenameCxSpFirst
	{mso-style-name:"Source Code FilenameCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFilenameCxSpMiddle, li.SourceCodeFilenameCxSpMiddle, div.SourceCodeFilenameCxSpMiddle
	{mso-style-name:"Source Code FilenameCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFilenameCxSpLast, li.SourceCodeFilenameCxSpLast, div.SourceCodeFilenameCxSpLast
	{mso-style-name:"Source Code FilenameCxSpLast";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Lucida Sans Typewriter";}
p.Non-TOCHeading3, li.Non-TOCHeading3, div.Non-TOCHeading3
	{mso-style-name:"Non-TOC Heading 3";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:#1F497D;
	font-weight:bold;
	font-style:italic;}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.0in 10.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=101 rowspan=2 valign=top style='width:60.85pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=ChapterNumber><img width=84 height=96 id="Picture 161"
  src="20_files/image001.jpg"></p>
  </td>
  <td width=637 valign=top style='width:381.95pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=ChapterNumber>Capítulo 20</p>
  </td>
 </tr>
 <tr>
  <td width=637 valign=top style='width:381.95pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <h1 style='line-height:normal'><a name="_Toc428130737"><span
  style='font-variant:normal !important;text-transform:uppercase'>Evasor</span></a></h1>
  </td>
 </tr>
</table>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#DBE5F1'>

<p class=TopicsCoveredboxCxSpFirst style='background:#DBE5F1;border:none;
padding:0in'><span lang=ES-MX>Temas Tratados En Este Capítulo:</span></p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>La bandera <span class=Literal><span style='font-size:9.0pt'>pygame.FULLSCREEN</span></span></p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span lang=ES-MX style='font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES-MX>Variables constantes de Pygame para las teclas</span></p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span lang=ES-MX style='font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES-MX>El método </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt'>Rect.move_ip()</span></span></p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span lang=ES-MX style='font-family:
Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=ES-MX>La función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt'>pygame.mouse.set_pos()</span></span></p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Implementando códigos de trucos</p>

<p class=TopicsCoveredboxCxSpLast style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Modificando el juego Evasor</p>

</div>

<p class=Body><span lang=ES-MX>En los últimos tres capítulos hemos repasado el
módulo Pygame y demostrado cómo usar sus múltiples características. En este
capítulo, usaremos ese conocimiento para crear un juego gráfico llamado Evasor.</span></p>

<p class=Body><span lang=ES-MX>En el juego Evasor el jugador controla a una
pequeña persona (a quien llamamos el personaje del jugador) que debe evadir a
un montón de villanos que caen desde el borde superior de la pantalla. Cuanto
más tiempo consiga el jugador evadir a los villanos mejor puntaje obtendrá en
el juego.</span></p>

<p class=Body><span lang=ES-MX>Sólo por diversión, hemos agregado también al
juego algunos trucos. Si el jugador mantiene pulsada la tecla “x”, los villanos
comienzan a moverse super lento. Si el jugador mantiene pulsada la tecla “z”,
los villanos revertirán su trayectoria y se moverán hacia arriba en lugar de
hacia abajo.</span></p>

<h2><a name="_Toc428130738"><span lang=ES-MX>Revisión de los Tipos de Datos
Básicos Pygame</span></a></h2>

<p class=Body><span lang=ES-MX>Revisemos algunos de los tipos de datos básicos
usados en Pygame:</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.Rect</span></span><span lang=ES-MX> - Los objetos Rect
representan la ubicación y el tamaño de un espacio rectangular. La ubicación
puede determinarse a partir de su atributo </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>topleft</span></span><span
lang=ES-MX> (o los atributos </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>topright</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>bottomleft</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>bottomright</span></span><span
lang=ES-MX>). Estos atributos esquina son una tupla de enteros corresopndientes
a las coordenadas X e Y. El tamaño puede determinarse a partir de los atributos
</span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:
115%'>width</span></span><span lang=ES-MX> y </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>height</span></span><span
lang=ES-MX>, números enteros que indican cuántos píxeles de ancho y cuántos de
alto tiene el área rectangular. Los objetos Rect tienen un método </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>colliderect()</span></span><span
lang=ES-MX> para comprobar si colisionan con otro objeto Rect.</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.Surface</span></span><span lang=ES-MX> - Los objetos
Surface son áreas de píxeles coloreados. Los objetos Surface representan una
imagen rectangular, mientras que los objetos Rect sólo representan un espacio
rectangular y su ubicación. Los objetos Surface tienen un método </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>blit()</span></span><span
lang=ES-MX> que se usa para dibujar la imagen de un objeto Surface sobre otro
objeto Surface. El objeto Surface devuelto por la función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.set_mode()</span></span><span
lang=ES-MX> es especial porque cualquier cosa que dibujemos sobre ese objeto
Surface se muestra en la pantalla del usuario al llamar a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span><span
lang=ES-MX>.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.event.Event</span></span><span lang=ES-MX> - El módulo
pygame.event genera objetos Event cada vez que el usuario provee entradas de
teclado, ratón o cualquier otro tipo de entradas. La función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.event.get()</span></span><span
lang=ES-MX> devuelve una lista de estos objetos Event. Puedes ver a qué tipo de
evento corresponde el objeto Event mirando su atributo type. </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>KEYDOWN</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>MOUSEBUTTONUP</span></span><span
lang=ES-MX> son algunos ejemplos de tipos de eventos.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
lang=ES-MX style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.font.Font</span></span><span lang=ES-MX> - El módulo </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.font</span></span><span
lang=ES-MX> tiene el tipo de datos Font que representa la fuente (tipografía)
del texto en Pygame. Los argumentos que recibe </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.font.SysFont()</span></span><span
lang=ES-MX> son una cadena con el nombre de la fuente y un entero con el tamaño
de letra. Sin embargo es común ingresar </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>None</span></span><span
lang=ES-MX> como nombre de la fuente para utilizar la fuente por defecto del
sistema.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.time.Clock</span></span><span lang=ES-MX> - El objeto
Clock del módulo pygame.time es útil para evitar que nuestros juegos se
ejecuten a la máxima velocidad posible. El objeto Clock tiene un método </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>tick()</span></span><span
lang=ES-MX>, al cual le pasamos a cuántos cuadros por segundo (FPS) queremos
que se ejecute el juego. Cuanto más alto sea el valor FPS, más rápido se
ejecutará el juego.</span></p>

<h2><a name="_Toc428130739"><span lang=ES-MX>Código Fuente de Evasor</span></a></h2>

<p class=Body><span lang=ES-MX>Escribe el siguiente código y guárdalo en un
archivo llamado <em>evasor.py</em>. Este juego requiere además otros archivos
de sonido e imagen que puedes descargar de la URL <span class=URL><u>http://invpy.com/es/diff/dodger</u></span>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeFilename>evasor.py</p>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>  1.</span> import
pygame, random, sys</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>  2.</span> from
pygame.locals import *</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>  3. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>  4.</span>
ANCHOVENTANA = 600</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>  </span><span
class=SourceLineNumber><span lang=ES-MX>5.</span></span><span lang=ES-MX>
ALTOVENTANA = 600</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 
6.</span></span><span lang=ES-MX> COLORVENTANA = (255, 255, 255)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 
7.</span></span><span lang=ES-MX> COLORFONDO = (0, 0, 0)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 
8.</span></span><span lang=ES-MX> FPS = 40</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>  9.</span></span><span
lang=ES-MX> TAMAÑOMINVILLANO = 10</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 10.</span></span><span
lang=ES-MX> TAMAÑOMAXVILLANO = 40</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 11.</span></span><span
lang=ES-MX> VELOCIDADMINVILLANO = 1</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 12.</span></span><span
lang=ES-MX> VELOCIDADMAXVILLANO = 8</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 13.</span></span><span
lang=ES-MX> TASANUEVOVILLANO = 6</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 14.</span></span><span
lang=ES-MX> TASAMOVIMIENTOJUGADOR = 5</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> </span>15.
</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 16.</span> def
terminar():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 17.</span>    
pygame.quit()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 18.</span>    
sys.exit()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 19. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 20.</span> def
esperarTeclaJugador():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 21.</span>    
while True:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 22.</span>        
for evento in pygame.event.get():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 23.</span>            
if evento.type == QUIT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 24.</span>                
terminar()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> </span><span
class=SourceLineNumber><span lang=ES-MX>25.</span></span><span lang=ES-MX>            
if evento.type == KEYDOWN:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 26.</span></span><span
lang=ES-MX>                 if evento.key == K_ESCAPE: <span
class=SourceCodeComment># Sale del juego al presionar ESCAPE</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 27.</span></span><span
lang=ES-MX>                     terminar()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 28.</span></span><span
lang=ES-MX>                 return</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 29.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 30.</span></span><span
lang=ES-MX> def jugadorGolpeaVillano(rectanguloJugador, villanos):</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> </span>31.</span>    
for v in villanos:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 32.</span>        
if rectanguloJugador.colliderect(v['rect']):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 33.</span>            
return True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> </span><span
class=SourceLineNumber><span lang=ES-MX>34.</span></span><span lang=ES-MX>    
return False</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 35.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 36.</span></span><span
lang=ES-MX> def dibujarTexto(texto, fuente, superficie, x, y):</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 37.</span></span><span
lang=ES-MX>     objetotexto = fuente.render(texto, 1, COLORVENTANA)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 38.</span></span><span
lang=ES-MX>     rectangulotexto = objetotexto .get_rect()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 39.</span></span><span
lang=ES-MX>     rectangulotexto.topleft = (x, y)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 40.</span></span><span
lang=ES-MX>     superficie.blit(objetotexto, rectangulotexto)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 41.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 42.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece un pygame, la ventana y
el cursor del ratón</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 43.</span></span><span
lang=ES-MX> pygame.init()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 44.</span></span><span
lang=ES-MX> relojPrincipal = pygame.time.Clock()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 45.</span></span><span
lang=ES-MX> superficieVentana = pygame.display.set_mode((ANCHOVENTANA,
ALTOVENTANA))</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> </span>46.</span>
pygame.display.set_caption('Evasor')</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 47.</span>
pygame.mouse.set_visible(False)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> </span><span
class=SourceLineNumber><span lang=ES-MX>48. </span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 49.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece las fuentes</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 50.</span></span><span
lang=ES-MX> fuente = pygame.font.SysFont(None, 48)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 51.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 52.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece los sonidos</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 53.</span></span><span
lang=ES-MX> sonidoJuegoTerminado = pygame.mixer.Sound('juegoterminado.wav')</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 54.</span></span><span
lang=ES-MX> pygame.mixer.music.load('musicaDeFondo.mid')</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 55.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 56.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece las imagenes</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 57.</span></span><span
lang=ES-MX> imagenJugador = pygame.image.load('jugador.png')</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 58.</span></span><span
lang=ES-MX> rectanguloJugador = imagenJugador.get_rect()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 59.</span></span><span
lang=ES-MX> imagenVillano = pygame.image.load('villano.png')</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 60.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 61.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># Muestra la pantalla inicial</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 62.</span></span><span
lang=ES-MX> dibujarTexto('Evasor', fuente, superficieVentana, (ANCHOVENTANA /
3)+40, (ALTOVENTANA / 3))</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 63.</span></span><span
lang=ES-MX> dibujarTexto('Presione una tecla para comenzar.', fuente,
superficieVentana, (ANCHOVENTANA / 3) - 180, (ALTOVENTANA / 3) + 50)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 64.</span></span><span
lang=ES-MX> pygame.display.update()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 65.</span></span><span
lang=ES-MX> esperarTeclaJugador()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 66.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 67.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 68.</span></span><span
lang=ES-MX> puntajeMax = 0</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 69.</span></span><span
lang=ES-MX> while True:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 70.</span></span><span
lang=ES-MX>     <span class=SourceCodeComment># establece el comienzo del juego</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 71.</span></span><span
lang=ES-MX>     villanos = []</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 72.</span></span><span
lang=ES-MX>     puntaje = 0</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 73.</span></span><span
lang=ES-MX>     rectanguloJugador.topleft = (ANCHOVENTANA / 2, ALTOVENTANA -
50)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 74.</span></span><span
lang=ES-MX>     moverIzquierda = moverDerecha = moverArriba = moverAbajo =
False</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 75.</span></span><span
lang=ES-MX>     trucoReversa = trucoLento = False</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 76.</span></span><span
lang=ES-MX>     contadorAgregarVillano = 0</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 77.</span></span><span
lang=ES-MX>     pygame.mixer.music.play(-1, 0.0)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 78.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 79.</span></span><span
lang=ES-MX>     while True: <span class=SourceCodeComment># el ciclo del juego
se mantiene mientras se este jugando</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 80.</span></span><span
lang=ES-MX>         puntaje += 1 <span class=SourceCodeComment># incrementa el
puntaje</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 81.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 82.</span></span><span
lang=ES-MX>         for evento in pygame.event.get():</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> </span>83.</span>            
if evento.type == QUIT:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 84.</span>                
terminar()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 85. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 86.</span>            
if evento.type == KEYDOWN:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 87.</span>                
if evento.key == ord('z'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 88.</span>                    
trucoReversa = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 89.</span>                
if evento.key == ord('x'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 90.</span>                    
trucoLento = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 91.</span>                
if evento.key == K_LEFT or evento.key == ord('a'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 92.</span>                    
moverDerecha = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 93.</span>                     moverIzquierda
= True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 94.</span>                
if evento.key == K_RIGHT or evento.key == ord('d'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 95.</span>                    
moverIzquierda = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 96.</span>                    
moverDerecha = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 97.</span>                
if evento.key == K_UP or evento.key == ord('w'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 98.</span>                    
moverAbajo = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 99.</span>                    
moverArriba = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>100.</span>                
if evento.key == K_DOWN or evento.key == ord('s'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>101.</span>                    
moverArriba = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>102.</span>                    
moverAbajo = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>103. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>104.</span>            
if evento.type == KEYUP:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>105.</span>                
if evento.key == ord('z'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>106.</span>                    
trucoReversa = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>107.</span>                    
puntaje = 0</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>108.</span>              
  if evento.key == ord('x'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>109.</span>                    
trucoLento = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>110.</span>                    
puntaje = 0</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>111.</span>                
if evento.key == K_ESCAPE:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>112.</span>                        
terminar()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>113. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>114.</span>                
if evento.key == K_LEFT or evento.key == ord('a'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>115.</span>                    
moverIzquierda = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>116.</span>                
if evento.key == K_RIGHT or evento.key == ord('d'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>117.</span>                    
moverDerecha = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>118.</span>                
if evento.key == K_UP or evento.key == ord('w'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>119.</span>                    
moverArriba = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>120.</span>                
if evento.key == K_DOWN or evento.key == ord('s'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>121.</span>                    
moverAbajo = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>122. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>123.</span>            
if evento.type == MOUSEMOTION:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>124.</span></span><span
lang=ES-MX>                 <span class=SourceCodeComment># Si se mueve el ratón,
este se mueve al lugar donde esté el cursor.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>125.</span></span><span
lang=ES-MX>                 rectanguloJugador.move_ip(evento.pos[0] -
rectanguloJugador.centerx, evento.pos[1] - rectanguloJugador.centery)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>126.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>127.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Añade villanos en la parte
superior de la pantalla, de ser necesarios.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>128.</span>        
if not trucoReversa and not trucoLento:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>129.</span></span><span
lang=ES-MX>             contadorAgregarVillano += 1</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>130.</span></span><span
lang=ES-MX>         if contadorAgregarVillano == TASANUEVOVILLANO:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>131.</span></span><span
lang=ES-MX>             contadorAgregarVillano = 0</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>132.</span></span><span
lang=ES-MX>             tamañoVillano = random.randint(TAMAÑOMINVILLANO,
TAMAÑOMAXVILLANO)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>133.</span></span><span
lang=ES-MX>             nuevoVillano = {'rect': pygame.Rect(random.randint(0,
ANCHOVENTANA-tamañoVillano), 0 - tamañoVillano, tamañoVillano, tamañoVillano),</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>134.</span></span><span
lang=ES-MX>                         'velocidad': random.randint(VELOCIDADMINVILLANO,
VELOCIDADMAXVILLANO),</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>135.</span></span><span
lang=ES-MX>                         'superficie':pygame.transform.scale(imagenVillano,
(tamañoVillano, tamañoVillano)),</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>136.</span></span><span
lang=ES-MX>                         }</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>137.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>138.</span></span><span
lang=ES-MX>             villanos.append(nuevoVillano)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>139.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>140.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Mueve el jugador.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>141.</span></span><span
lang=ES-MX>         if moverIzquierda and rectanguloJugador.left &gt; 0:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>142.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(-1 * TASAMOVIMIENTOJUGADOR,
0)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>143.</span>        
if moverDerecha and rectanguloJugador.right &lt; ANCHOVENTANA:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>144.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(TASAMOVIMIENTOJUGADOR, 0)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>145.</span></span><span
lang=ES-MX>         if moverArriba and rectanguloJugador.top &gt; 0:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>146.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(0, -1 *
TASAMOVIMIENTOJUGADOR)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>147.</span></span><span
lang=ES-MX>         if moverAbajo and rectanguloJugador.bottom &lt; ALTOVENTANA:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>148.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(0, TASAMOVIMIENTOJUGADOR)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>149.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>150.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Mueve el cursor del ratón
hacia el jugador.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>151.</span></span><span
lang=ES-MX>         pygame.mouse.set_pos(rectanguloJugador.centerx,
rectanguloJugador.centery)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>152.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>153.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Mueve los villanos hacia
abajo.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>154.</span>        
for v in villanos:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>155.</span>            
if not trucoReversa and not trucoLento:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>156.</span>                
v['rect'].move_ip(0, v['velocidad'])</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>157.</span>            
elif trucoReversa:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>158.</span>                
v['rect'].move_ip(0, -5)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>159.</span>            
elif trucoLento:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>160.</span>                
v['rect'].move_ip(0, 1)</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>161.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>162.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Elimina los villanos que
han caido por debajo.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>163.</span>        
for v in villanos[:]:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>164.</span>            
if v['rect'].top &gt; ALTOVENTANA:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>165.</span></span><span
lang=ES-MX>                 villanos.remove(v)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>166.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>167.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja el mundo del juego
en la ventana.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>168.</span></span><span
lang=ES-MX>         superficieVentana.fill(COLORFONDO)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>169.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>170.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja el puntaje y el
puntaje máximo</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>171.</span></span><span
lang=ES-MX>         dibujarTexto('Puntaje: %s' % (puntaje), fuente,
superficieVentana, 10, 0)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>172.</span></span><span
lang=ES-MX>         dibujarTexto('Puntaje Máximo: %s' % (puntajeMax), fuente,
superficieVentana, 10, 40)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>173.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>174.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja el rectángulo del
jugador</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>175.</span></span><span
lang=ES-MX>         superficieVentana.blit(imagenJugador, rectanguloJugador)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>176.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>177.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja cada villano</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>178.</span>        
for v in villanos:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>179.</span>            
superficieVentana.blit(v['superficie'], v['rect'])</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>180. </span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>181.</span>        
pygame.display.update()</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>182.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>183.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Verifica si algún villano
impactó en el jugador.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>184.</span></span><span
lang=ES-MX>         if jugadorGolpeaVillano(rectanguloJugador, villanos):</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>185.</span></span><span
lang=ES-MX>             if puntaje &gt; puntajeMax:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>186.</span></span><span
lang=ES-MX>                 puntajeMax = puntaje <span class=SourceCodeComment>#
Establece nuevo puntaje máximo</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>187.</span></span><span
lang=ES-MX>             break</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>188.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>189.</span></span><span
lang=ES-MX>         relojPrincipal.tick(FPS)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>190.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>191.</span></span><span
lang=ES-MX>     <span class=SourceCodeComment># Detiene el juego y muestra
&quot;Juego Terminado&quot;</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>192.</span></span><span
lang=ES-MX>     pygame.mixer.music.stop()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>193.</span></span><span
lang=ES-MX>     sonidoJuegoTerminado.play()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>194.
</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>195.</span></span><span
lang=ES-MX>     dibujarTexto('Juego Terminado', fuente, superficieVentana,
(ANCHOVENTANA / 3), (ALTOVENTANA / 3))</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>196.</span></span><span
lang=ES-MX>     dibujarTexto('Presione una tecla jugar de nuevo.', fuente,
superficieVentana, (ANCHOVENTANA / 3) - 80, (ALTOVENTANA / 3) + 50)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>197.</span></span><span
lang=ES-MX>     pygame.display.update()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>198.</span></span><span
lang=ES-MX>     esperarTeclaJugador()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>199.
</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>200.</span></span><span
lang=ES-MX>     sonidoJuegoTerminado.stop()</span></p>

</div>

<p class=Body><span lang=ES-MX>Cuando ejecutes este programa, el juego se verá
como en la Figura 20-1.</span></p>

<p class=MsoNormal align=center style='text-align:center'><img width=337
height=352 id="Picture 112" src="20_files/image002.jpg"></p>

<p class=MsoCaption><span lang=ES-MX>Figura 20-1: Una captura de pantalla
modificada del juego Evasor.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Importando los módulos</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>  1.</span></span><span
lang=ES-MX> import pygame, random, sys</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>  2.</span></span><span
lang=ES-MX> from pygame.locals import *</span></p>

</div>

<p class=Body><span lang=ES-MX>El juego Evasor importa los mismos módulos que
nuestros programas anteriores de Pygame: </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>random</span></span><span lang=ES-MX>, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>sys</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>pygame.locals</span></span><span lang=ES-MX>. El módulo
</span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:
115%'>pygame.locals</span></span><span lang=ES-MX> contiene unas cuantas
variables constantes que Pygame usa, tales como tipos de eventos (</span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>KEYDOWN</span></span><span lang=ES-MX>, etc.) y botones del
teclado (</span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>K_ESCAPE</span></span><span lang=ES-MX>, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>K_LEFT</span></span><span
lang=ES-MX>, etc.). Usando la sintáxis </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>from pygame.locals import *</span></span><span
lang=ES-MX>, podemos escribir </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span lang=ES-MX> en
el código fuente en lugar de </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.locals.QUIT</span></span><span
lang=ES-MX>.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Configurando las Variables Constantes</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>  4.</span></span><span
lang=ES-MX> ANCHOVENTANA = 600</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 
5.</span></span><span lang=ES-MX> ALTOVENTANA = 600</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 
6.</span></span><span lang=ES-MX> COLORVENTANA = (255, 255, 255)</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>  7.</span></span><span
lang=ES-MX> COLORFONDO = (0, 0, 0)</span></p>

</div>

<p class=Body><span lang=ES-MX>Las variables constantes de las líneas 4 a 14
son mucho más descriptivas que lo que sería simplemente escribir sus valores.
Por ejemplo, la línea </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>superficieVentana.fill(COLORFONDO)</span></span><span
lang=ES-MX> es mucho más entendible que </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>superficieVentana.fill((0,
0, 0))</span></span><span lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Puedes modificar fácilmente el juego cambiando
las variables constantes. Al cambiar </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>ANCHOVENTANA</span></span><span
lang=ES-MX> en la línea 4, automáticamente modificas el código en cualquier
lugar donde se use </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>ANCHOVENTANA</span></span><span
lang=ES-MX>. Si hubieras usado en su lugar el valor </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>600</span></span><span
lang=ES-MX>, tendrías que cambiar cada ocurrencia del valor </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>600</span></span><span
lang=ES-MX> en el código. Es más fácil cambiar una vez valor en la constante.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX>  8.</span></span><span
lang=ES-MX> FPS = 40</span></p>

</div>

<p class=Body><span lang=ES-MX>La llamada al método </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>relojPrincipal.tick()</span></span><span
lang=ES-MX> en la línea 189 reducirá la velocidad del juego lo suficiente para
que sea jugable. Debes pasar un entero a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>relojPrincipal.tick()</span></span><span
lang=ES-MX> para que la función sepa cuánto tiempo debe pausar el programa.
Este entero (que se almacena en </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>FPS</span></span><span lang=ES-MX>) es
el número de cuadros por segundo en el que quieres que se ejecute el juego.</span></p>

<p class=Body><span lang=ES-MX>Un “cuadro” es el proceso de dibujar los
gráficos en la pantalla durante una iteración del bucle del juego. Puedes
establecer un valor </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>FPS</span></span><span lang=ES-MX> de </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>40</span></span><span
lang=ES-MX>, y llamar siempre a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>relojPrincipal.tick(FPS)</span></span><span
lang=ES-MX>. Entonces puedes cambiar </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>FPS</span></span><span
lang=ES-MX> por un valor más alto para hacer que el juego se ejecute más
rápido, o por un valor más bajo para reducir la velocidad del juego.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>  9.</span></span><span
lang=ES-MX> TAMAÑOMINVILLANO = 10</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 10.</span></span><span
lang=ES-MX> TAMAÑOMAXVILLANO = 40</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 11.</span></span><span
lang=ES-MX> VELOCIDADMINVILLANO = 1</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 12.</span></span><span
lang=ES-MX> VELOCIDADMAXVILLANO = 8</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 13.</span></span><span
lang=ES-MX> TASANUEVOVILLANO = 6</span></p>

</div>

<p class=Body><span lang=ES-MX>Las líneas 9 a 13 establecen más variables
constantes que describen a los villanos que caen. El ancho y alto de los
villanos estará comprendido entre </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>TAMAÑOMINVILLANO</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>TAMAÑOMAXVILLANO</span></span><span lang=ES-MX>. La
velocidad a la que los villanos bajan por la pantalla estará entre </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>VELOCIDADMINVILLANO</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>VELOCIDADMAXVILLANO</span></span><span lang=ES-MX>
píxeles por iteración del bucle del juego. Y un nuevo villano será agregado en
la parte superior de la ventana cada </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>TASANUEVOVILLANO</span></span><span
lang=ES-MX> iteraciones del bucle de juego.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> 14.</span></span><span
lang=ES-MX> TASAMOVIMIENTOJUGADOR = 5</span></p>

</div>

<p class=Body><span lang=ES-MX>La </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>TASAMOVIMIENTOJUGADOR</span></span><span
lang=ES-MX> almacenará el número de píxeles que el personaje del jugador se
desplaza sobre la ventana por cada iteración del bucle de juego si es que el
personaje está moviéndose. Incrementando este número puedes aumentar la
velocidad a la que el jugador se mueve.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Definiendo Funciones</span></p>

<p class=Body><span lang=ES-MX>Hay varias funciones que crearás para el juego:</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> </span>16.</span>
def terminar():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 17.</span>    
pygame.quit()</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 18.</span>    
sys.exit()</p>

</div>

<p class=Body><span lang=ES-MX>Pygame requiere que llames a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.quit()</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>sys.exit()</span></span><span lang=ES-MX>. Coloca a
ambos en una función llamada </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>terminar()</span></span><span
lang=ES-MX>. Ahora sólo necesitas llamar a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>terminar()</span></span><span
lang=ES-MX>, en lugar de tener que llamar a las dos funciones </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.quit()</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>sys.exit()</span></span><span lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> </span>20.</span>
def esperarTeclaJugador():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 21.</span>    
while True:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 22.</span>        
for evento in pygame.event.get():</p>

</div>

<p class=Body><span lang=ES-MX>En ocasiones desearás poner el juego en pausa
hasta que el jugador pulse una tecla. Crea una nueva función llamada </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>esperarTeclaJugador()</span></span><span
lang=ES-MX>. Dentro de esta función, hay un bucle infinito del que sólo se sale
al recibir un evento </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>KEYDOWN</span></span><span lang=ES-MX>
o </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>QUIT</span></span><span lang=ES-MX>. Al comienzo del bucle, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.event.get()</span></span><span
lang=ES-MX> regresa una lista de objetos Event a revisar.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> </span>23.</span>            
if evento.type == QUIT:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 24.</span>                
terminar()</p>

</div>

<p class=Body><span lang=ES-MX>Si el jugador cierra la ventana mientras el
programa espera que el jugador pulse una tecla, Pygame generará un evento </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span
lang=ES-MX>. En ese caso, la línea 24 llama a la función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>terminar()</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 25.</span></span><span
lang=ES-MX>             if evento.type == KEYDOWN:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 26.</span></span><span
lang=ES-MX>                 if evento.key == K_ESCAPE: <span
class=SourceCodeComment># Sale del juego al presionar ESCAPE</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 27.</span></span><span
lang=ES-MX>                     terminar()</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 28.</span></span><span
lang=ES-MX>                 return</span></p>

</div>

<p class=Body><span lang=ES-MX>Si recibes un evento </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>KEYDOWN</span></span><span
lang=ES-MX>, deberías primero comprobar si la tecla pulsada ha sido <span
class=Keycap><span style='font-variant:normal !important;text-transform:uppercase'>esc</span></span>.
Si el jugador pulsa la tecla <span class=Keycap><span style='font-variant:normal !important;
text-transform:uppercase'>esc</span></span>, el programa debería terminar. Si
no ha sido ese el caso, entonces la ejecución omitirá el bloque if de la línea
27 y proseguirá directamente a la sentencia </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>return</span></span><span
lang=ES-MX>, la cual sale de la función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>esperarTeclaJugador()</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Si no se genera ningún evento </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span
lang=ES-MX> o </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>KEYDOWN</span></span><span lang=ES-MX>, el código
continúa recorriendo el bucle. Como el bucle no hace nada, esto dará la
impresión de que el juego se ha congelado hasta que el jugador pulse una tecla.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 30.</span></span><span
lang=ES-MX> def jugadorGolpeaVillano(rectanguloJugador, villanos):</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 31.</span></span><span
lang=ES-MX>     for v in villanos:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> </span>32.</span>        
if rectanguloJugador.colliderect(v['rect']):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 33.</span>            
return True</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> </span><span
class=SourceLineNumber><span lang=ES-MX>34.</span></span><span lang=ES-MX>    
return False</span></p>

</div>

<p class=Body><span lang=ES-MX>La función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>jugadorGolpeaVillano()</span></span><span
lang=ES-MX> devolverá </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX> si
el personaje del jugador ha colisionado con uno de los villanos. El parámetro </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>villanos</span></span><span
lang=ES-MX> es una lista de estructuras de datos &quot;villano&quot;. Cada uno
de estos diccionarios contiene una clave </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>'rect'</span></span><span
lang=ES-MX>, y el valor correspondiente a esa clave es un objeto Rect que
representa el tamaño y la ubicación del villano.</span></p>

<p class=Body><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>rectanguloJugador</span></span><span lang=ES-MX> también es
un objeto Rect. Los objetos Rect tienen un método llamado </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>colliderect()</span></span><span
lang=ES-MX> que devuelve </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX> si
este objeto Rect ha colisionado con el objeto Rect que se le pasa como
parámetro. En caso contrario, </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>colliderect()</span></span><span
lang=ES-MX> devuelve </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>False</span></span><span lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>El bucle for de la línea 31 itera sobre cada
diccionario </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>villano</span></span><span lang=ES-MX> en la lista. Si alguno
de estos villanos colisiona con el personaje del jugador, entonces </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>jugadorGolpeaVillano()</span></span><span
lang=ES-MX> devolverá </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX>.
Si el código consigue iterar por toda la lista de villanos en la lista sin
detectar una colisión con alguno de ellos, devolverá </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 36.</span></span><span
lang=ES-MX> def dibujarTexto(texto, fuente, superficie, x, y):</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 37.</span></span><span
lang=ES-MX>     objetotexto = fuente.render(texto, 1, COLORVENTANA)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 38.</span></span><span
lang=ES-MX>     rectangulotexto = objetotexto .get_rect()</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 39.</span></span><span
lang=ES-MX>     rectangulotexto.topleft = (x, y)</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 40.</span></span><span
lang=ES-MX>     superficie.blit(objetotexto, rectangulotexto)</span></p>

</div>

<p class=Body><span lang=ES-MX>Dibujar texto en la ventana involucra varios
pasos. Primero, la llamada al método </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>render()</span></span><span
lang=ES-MX> en la línea 37 crea un objeto Surface sobre el cual se dibuja el
texto con una fuente específica.</span></p>

<p class=Body><span lang=ES-MX>A continuación necesitas saber el tamaño y la
ubicación del objeto Surface. Puedes obtener un objeto Rect con esta
información a partir del método </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>get_rect()</span></span><span
lang=ES-MX> de la clase Surface.</span></p>

<p class=Body><span lang=ES-MX>El objeto Rect devuelto en la línea 38 por la
función </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>get_rect()</span></span><span lang=ES-MX> tiene una copia de
la información de ancho y alto del objeto Surface. La línea 39 cambia la
ubicación del objeto Rect estableciendo un nuevo valor de tupla para su
atributo </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>topleft</span></span><span lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Finalmente, la línea 40 dibuja el objeto Surface
del texto renderizado sobre el objeto Surface que recibió como argumento la
función </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>dibujarTexto()</span></span><span lang=ES-MX>. Mostrar texto
en Pygame requiere más pasos que simplemente llamar a la función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>print()</span></span><span
lang=ES-MX>. Pero si encapsulas este código dentro de una sola función llamada </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>dibujarTexto()</span></span><span
lang=ES-MX>, entonces sólo necesitas llamar a esta función para mostrar texto
en la pantalla.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Iniciando Pygame y Configurando la
Ventana</span></p>

<p class=Body><span lang=ES-MX>Ahora que las variables constantes y las
funciones han sido definidas, comenzamos a llamar a las funciones de Pygame que
configuran la ventana y el reloj.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 42.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece un pygame, la ventana y
el cursor del ratón</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 43.</span></span><span
lang=ES-MX> pygame.init()</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 44.</span></span><span
lang=ES-MX> relojPrincipal = pygame.time.Clock()</span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 43 configura Pygame llamando a la
función </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.init()</span></span><span lang=ES-MX>. La línea 44
crea un objeto </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>pygame.time.Clock()</span></span><span lang=ES-MX> y lo
almacena en la variable </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>relojPrincipal</span></span><span
lang=ES-MX>. Este objeto nos ayudará a evitar que el programa se ejecute
demasiado rápido.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> 45.</span></span><span
lang=ES-MX> superficieVentana = pygame.display.set_mode((ANCHOVENTANA,
ALTOVENTANA))</span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 45 crea un nuevo objeto Surface el cual
es utilizado por la ventana mostrada en la pantalla. Puedes especificar el
ancho y la altura de este objeto Surface (y de la ventana) pasando como argumento
una tupla con las variables constantes </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>ANCHOVENTANA</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>ALTOVENTANA</span></span><span lang=ES-MX>. Observa que
</span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:
115%'>pygame.display.set_mode()</span></span><span lang=ES-MX> recibe sólo un
argumento: una tupla. El argumento de </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.set_mode()</span></span><span
lang=ES-MX> no consiste en dos enteros sino una tupla de dos enteros.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> </span>46.</span>
pygame.display.set_caption('Evasor')</p>

</div>

<p class=Body><span lang=ES-MX>La línea 46 establece la cadena </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>'Evasor'</span></span><span
lang=ES-MX> como título de la ventana. Este título aparecerá en la barra de
título en la parte superior de la ventana.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> </span>47.</span>
pygame.mouse.set_visible(False)</p>

</div>

<p class=Body><span lang=ES-MX>En Evasor, el cursor del ratón no debería ser
visible. La razón de esto es que quieres usar el ratón para mover el personaje
del jugador por la pantalla, pero el cursor del ratón interferiría con la
imagen del personaje en la pantalla. Llamando a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.mouse.set_visible(False)</span></span><span
lang=ES-MX> indicamos a Pygame que el cursor no debe ser visible.</span></p>

<h2><a name="_Toc428130740"><span lang=ES-MX>Modo Pantalla Completa</span></a></h2>

<p class=Body><span lang=ES-MX>La función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.set_mode()</span></span><span
lang=ES-MX> recibe opcionalmente un segundo parámetro. Puedes pasar la
constante </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.FULLSCREEN</span></span><span lang=ES-MX> para hacer
que la ventana tome la pantalla completa en lugar de ser una ventana. Observa
esta modificación en la línea 45:</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> 45.</span></span><span
lang=ES-MX> superficieVentana = pygame.display.set_mode((ANCHOVENTANA,
ALTOVENTANA), pygame.FULLSCREEN)</span></p>

</div>

<p class=Body><span lang=ES-MX>El ancho y la altura de la ventana en píxeles
seguirán siendo </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>ANCHOVENTANA</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>ALTOVENTANA</span></span><span
lang=ES-MX>, pero la imagen se estirará hasta el tamaño de la pantalla. Prueba
ejecutar el programa con y sin el modo pantalla completa.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 49.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece las fuentes</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 50.</span></span><span
lang=ES-MX> fuente = pygame.font.SysFont(None, 48)</span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 49 crea un objeto Font a utilizar
llamando a </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>pygame.font.SysFont()</span></span><span lang=ES-MX>. El
argumento </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>None</span></span><span lang=ES-MX> denota la fuente por
defecto del sistema. El entero 48 hace que la fuente tenga un tamaño de 48
puntos.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 52.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece los sonidos</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 53.</span></span><span
lang=ES-MX> sonidoJuegoTerminado = pygame.mixer.Sound('juegoterminado.wav')</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 54.</span></span><span
lang=ES-MX> pygame.mixer.music.load('musicaDeFondo.mid')</span></p>

</div>

<p class=Body><span lang=ES-MX>A continuación, creamos los objetos Sound y
establecemos la música de fondo. La música de fondo se reproducirá
constantemente durante el juego, pero los objetos Sound se reproducirán sólo
cuando el jugador pierda.</span></p>

<p class=Body><span lang=ES-MX>Puedes usar cualquier archivo <em>.wav</em> o <em>.mid</em>
para este juego. Algunos archivos de sonido están disponibles en el sitio web
de este libro en <span class=URL><u>http://invpy.com/es</u></span>. O también
puedes usar tus propios archivos de sonido para este programa, siempre que los
nombres de archivo sean <em>juegoterminado.wav</em> y <em>musicaDeFondo.mid</em>.
(Puedes cambiar las cadenas usadas en las líneas 53 y 54 para que coincidan con
los nombres de los archivos.)</span></p>

<p class=Body><span lang=ES-MX>La función constructor </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.mixer.Sound()</span></span><span
lang=ES-MX> crea un nuevo objeto Sound y guarda una referencia a este objeto en
la variable </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>sonidoJuegoTerminado</span></span><span lang=ES-MX>. Puedes
crear tantos objetos Sound como quieras en tus juegos, cada uno con un archivo
de sonido diferente.</span></p>

<p class=Body><span lang=ES-MX>La función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.mixer.music.load()</span></span><span
lang=ES-MX> carga un archivo de sonido para que sea reproducido como música de
fondo. Esta función no devuelve ningún objeto, y sólo puede cargarse un archivo
de música de fondo a la vez</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 56.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># establece las imagenes</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 57.</span></span><span
lang=ES-MX> imagenJugador = pygame.image.load('jugador.png')</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 58.</span></span><span
lang=ES-MX> rectanguloJugador = imagenJugador.get_rect()</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 59.</span></span><span
lang=ES-MX> imagenVillano = pygame.image.load('villano.png')</span></p>

</div>

<p class=Body><span lang=ES-MX>A continuación cargaremos los archivos de imagen
a utilizar para el personaje del jugador y los villanos en la pantalla. La
imagen para el personaje se encuentra en <em>jugador.png</em> y la imagen para
los villanos está en el archivo <em>villano.png</em>. Todos los villanos son
iguales, por lo que sólo necesitarás un archivo de imagen para ellos. Puedes
descargar estas imagenes del sitio web de este libro en <span class=URL><u>http://invpy.com/es</u></span>.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Mostrando la Pantalla de Inicio</span></p>

<p class=Body><span lang=ES-MX>Cuando el juego se inicia por primera vez,
debemos mostrar el nombre &quot;Evasor&quot; en la pantalla. También queremos
indicar al jugador que puede comenzar a jugar pulsando cualquier tecla. Esta
pantalla aparece para que el jugador tenga tiempo de prepararse para empezar a
jugaro luego de ejecutar el programa.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 61.</span></span><span
lang=ES-MX> <span class=SourceCodeComment># Muestra la pantalla inicial</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 62.</span></span><span
lang=ES-MX> dibujarTexto('Evasor', fuente, superficieVentana, (ANCHOVENTANA /
3)+40, (ALTOVENTANA / 3))</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 63.</span></span><span
lang=ES-MX> dibujarTexto('Presione una tecla para comenzar.', fuente,
superficieVentana, (ANCHOVENTANA / 3) - 180, (ALTOVENTANA / 3) + 50)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 64.</span></span><span
lang=ES-MX> pygame.display.update()</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 65.</span></span><span
lang=ES-MX> esperarTeclaJugador()</span></p>

</div>

<p class=Body><span lang=ES-MX>En las líneas 62 y 63, llamamos a la función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>dibujarTexto()</span></span><span
lang=ES-MX> y le pasamos cinco argumentos:</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=ES-MX>La cadena del texto que quieres que aparezca en pantalla.</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=ES-MX>La fuente en que quieres que aparezca la cadena.</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=ES-MX>El objeto Surface sobre el cual dibujar el texto.</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=ES-MX>La coordenada X del objeto Surface en la cual dibujar el texto.</span></p>

<p class=Body style='margin-left:.5in;text-indent:-.25in'><span lang=ES-MX>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=ES-MX>La coordenada Y del objeto Surface en la cual dibujar el texto.</span></p>

<p class=Body><span lang=ES-MX>Esto puede parecer como demasiados argumentos a
pasar para una sola función, pero ten en cuenta que esta función reemplaza a
cinco líneas de código cada vez que la llamamos. Esto reduce la extensión del
programa y hace más fácil encontrar bugs ya que hay menos código que revisar.</span></p>

<p class=Body><span lang=ES-MX>La función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>esperarTeclaJugador()</span></span><span
lang=ES-MX> pondrá al juego en pausa ejecutando sin parar un bucle hasta que se
genere un evento </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>KEYDOWN</span></span><span lang=ES-MX>. Entonces la
ejecución sale del bucle y el programa continúa ejecutándose.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Inicio del Código Principal del Juego</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 68.</span></span><span
lang=ES-MX> puntajeMax = 0</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 69.</span></span><span
lang=ES-MX> while True:</span></p>

</div>

<p class=Body><span lang=ES-MX>El valor en la variable </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>puntajeMax</span></span><span
lang=ES-MX> comienza siendo </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>0</span></span><span lang=ES-MX>
cuando el programa se ejecuta por primera vez. Cada vez que el jugador pierde y
su puntaje es mayor que el puntaje máximo actual, el puntaje máximo es reemplazado
por este puntaje mayor.</span></p>

<p class=Body><span lang=ES-MX>El bucle infinito que comienza en la línea 69 no
es técnicamente el “bucle del juego”. El bucle del juego gestiona los eventos y
dibujar la ventana mientras el juego está ejecutándose. En cambio, este bucle
while sumará una iteración cada vez que el jugador comience un nuevo juego.
Cuando el jugador pierda y el juego se reinicie, la ejecución del programa
volverá a la línea 69.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 70.</span></span><span
lang=ES-MX>     <span class=SourceCodeComment># establece el comienzo del juego</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 71.</span></span><span
lang=ES-MX>     villanos = []</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 72.</span></span><span
lang=ES-MX>     puntaje = 0</span></p>

</div>

<p class=Body><span lang=ES-MX>Al comienzo, quieres que villanos sea una lista
vacía. La variable </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>villanos</span></span><span
lang=ES-MX> es una list de objetos diccionario con las siguientes claves:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'rect'</span></span><span lang=ES-MX> - El objeto Rect que
describe la posición y el tamaño del villano.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
lang=ES-MX style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'velocidad'</span></span><span lang=ES-MX> - Qué tan rápido
los villanos caen por la pantalla. Este entero representa píxeles por iteración
del bucle del juego.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'superficie'</span></span><span lang=ES-MX> - El objeto
Surface que tiene dibujada la imagen estirada del villano. Este es el objeto
Surface que se dibuja sobre el objeto Surface devuelto por </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.set_mode()</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>La línea 72 reinicia el puntaje del jugador a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>0</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> 73.</span></span><span
lang=ES-MX>     rectanguloJugador.topleft = (ANCHOVENTANA / 2, ALTOVENTANA -
50)</span></p>

</div>

<p class=Body><span lang=ES-MX>La ubicación inicial del jugador es en el centro
de la pantalla y 50 píxeles arriba del borde inferior. El primer elemento en la
tupla de la línea 73 es la coordenada X de su borde izquierdo. El segundo
elemento es la coordenada Y de su borde superior.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 74.</span></span><span
lang=ES-MX>     moverIzquierda = moverDerecha = moverArriba = moverAbajo =
False</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX> 75.</span></span><span
lang=ES-MX>     trucoReversa = trucoLento = False</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 76.</span></span><span
lang=ES-MX>     contadorAgregarVillano = 0</span></p>

</div>

<p class=Body><span lang=ES-MX>Se asigna </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX> a las variables de movimiento </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>moverIzquierda</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>moverDerecha</span></span><span lang=ES-MX>, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>moverArriba</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>moverAbajo</span></span><span lang=ES-MX>. Tamién se
asigna </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>False</span></span><span lang=ES-MX> a las variables </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>trucoReversa</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>trucoLento</span></span><span lang=ES-MX>. Estas
últimas recibirán el valor </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX>
sólo cuando el jugador active estos trucos manteniendo presionadas las teclas “z”
y “x”, respectivamente.</span></p>

<p class=Body><span lang=ES-MX>La variable </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span
lang=ES-MX> es un contador para indicar al programa cuándo añadir un nuevo
villano en el borde superior de la pantalla. El valor en </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span
lang=ES-MX> se incrementa en uno cada vez que el bucle del juego itera.</span></p>

<p class=Body><span lang=ES-MX>Cuando </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span
lang=ES-MX> es igual a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>TASANUEVOVILLANO</span></span><span
lang=ES-MX>, la variable </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span
lang=ES-MX> se reinicia a 0 y se agrega un nuevo villano al borde superior de
la pantalla. (Esta comprobación se realiza más adelante en la línea 130.)</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX> 77.</span></span><span
lang=ES-MX>     pygame.mixer.music.play(-1, 0.0)</span></p>

</div>

<p class=Body><span lang=ES-MX>La música de fondo comienza a reproducirse en la
línea 77 con una llamada a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.mixer.music.play()</span></span><span
lang=ES-MX>. El primer argumento es el número de veces que la música se
repetirá. </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>-1</span></span><span lang=ES-MX> es un valor especial que
indica a Pygame que quieres que la música se repita sin parar.</span></p>

<p class=Body><span lang=ES-MX>El segundo argumento es un float que dice a
partir de cuántos segundos quieres que comience a reproducirse la música. Al
pasar </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>0.0</span></span><span lang=ES-MX> determinamos que la música
comience a reproducirse desde el principio.</span></p>

<h2><a name="_Toc428130741"><span lang=ES-MX>El Bucle del Juego</span></a></h2>

<p class=Body><span lang=ES-MX>El código del bucle del juego actualiza
constantemente el estado del universo del juego cambiando la posición del
jugador y de los villanos, gestionando eventos generados por Pygame, y
dibujando el universo del juego en la pantalla. Todo esto ocurre varias docenas
de veces por segundo, lo que hace que se vea en “tiempo real”.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> 79.</span></span><span
lang=ES-MX>     while True: <span class=SourceCodeComment># el ciclo del juego
se mantiene mientras se este jugando</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX> 80.</span></span><span
lang=ES-MX>         puntaje += 1 <span class=SourceCodeComment># incrementa el
puntaje</span></span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 79 es el inicio del principal bucle del
juego. La línea 80 incrementa el puntaje del jugador en cada iteración del
bucle del juego. Cuanto más tiempo permanezca el jugador sin perder, mayor será
su puntaje. La ejecución sólo saldrá del bucle cuando el jugador pierda o salga
del programa.</span></p>

<h2><a name="_Toc428130742"><span lang=ES-MX>Gestión de Eventos</span></a></h2>

<p class=Body><span lang=ES-MX>Hay cuatro tipos diferentes de eventos que el
programa gestionará: </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span lang=ES-MX>, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>KEYDOWN</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>KEYUP</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>MOUSEMOTION</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> </span>82.</span>        
for evento in pygame.event.get():</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 83.</span>            
if evento.type == QUIT:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> 84.</span>                
terminar()</p>

</div>

<p class=Body><span lang=ES-MX>La línea 82 es el comienzo del código de gestión
de eventos. Llama a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.event.get()</span></span><span
lang=ES-MX>, la cual devuelve una lista de todos los objetos Event. Cada objeto
Event representa un evento que ha ocurrido desde la última llamada a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.event.get()</span></span><span
lang=ES-MX>. El código comprobará el atributo type del objeto Event para ver de
qué tipo de evento se trata y operar con él de forma acorde.</span></p>

<p class=Body><span lang=ES-MX>Si el atributo type del objeto Event es igual a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>QUIT</span></span><span
lang=ES-MX>, significa que el usuario ha cerrado el programa. La variable
constante </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>QUIT</span></span><span lang=ES-MX> se importa del módulo </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.locals</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> </span>86.</span>            
if evento.type == KEYDOWN:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 87.</span>                
if evento.key == ord('z'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 88.</span>                    
trucoReversa = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 89.</span>                
if evento.key == ord('x'):</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber> </span><span
class=SourceLineNumber><span lang=ES-MX>90.</span></span><span lang=ES-MX>                    
trucoLento = True</span></p>

</div>

<p class=Body><span lang=ES-MX>Si el tipo de evento es </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>KEYDOWN</span></span><span
lang=ES-MX>, el jugador ha pulsado una tecla. El objeto Event para eventos del
teclado tiene un atributo key que corresponde al valor ordinal entero de la
tecla pulsada. La función </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>ord()</span></span><span lang=ES-MX>
devuelve el valor ordinal de la letra pasada como argumento.</span></p>

<p class=Body><span lang=ES-MX>Por ejemplo, la línea 87 comprueba si el evento
corresponde a la tecla “z” mediante </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>event.key == ord('z')</span></span><span
lang=ES-MX>. Si esta condición es </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX>,
se asigna </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>True</span></span><span lang=ES-MX> a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>trucoReversa</span></span><span
lang=ES-MX> para indicar que este truco ha sido activado. La línea 89 comprueba
si la tecla “x” ha sido pulsada para activar el truco lento.</span></p>

<p class=Body><span lang=ES-MX>Por ejemplo, la línea 87 comprueba si el evento
corresponde a la tecla “z” mediante </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>evento.key == ord('z')</span></span><span
lang=ES-MX>. Si esta condición es </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX>,
se asigna </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>True</span></span><span lang=ES-MX> a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>trucoReversa</span></span><span
lang=ES-MX> para indicar que este truco ha sido activado. La línea 89 comprueba
si la tecla “x” ha sido pulsada para activar el truco lento.</span></p>

<p class=Body><span lang=ES-MX>Los eventos de teclado de Pygame siempre usan
los valores ordinales de teclas minúsculas, no mayúsculas. Siempre se usa </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>evento.key
== ord('z')</span></span><span lang=ES-MX> en lugar de </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>evento.key
== ord('Z')</span></span><span lang=ES-MX>. De otra forma, el programa no
registrará que la tecla ha sido pulsada.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX> </span>91.</span>                
if evento.key == K_LEFT or evento.key == ord('a'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 92.</span>                    
moverDerecha = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 93.</span>             
       moverIzquierda = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 94.</span>                
if evento.key == K_RIGHT or evento.key == ord('d'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 95.</span>                    
moverIzquierda = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 96.</span>                    
moverDerecha = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 97.</span>                
if evento.key == K_UP or evento.key == ord('w'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 98.</span>                    
moverAbajo = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber> 99.</span>                    
moverArriba = True</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>100.</span>                
if evento.key == K_DOWN or evento.key == ord('s'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>101.</span></span><span
lang=ES-MX>                     moverArriba = False</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>102.</span></span><span
lang=ES-MX>                     moverAbajo = True</span></p>

</div>

<p class=Body><span lang=ES-MX>Las líneas 91 a 102 comprueban si el evento ha
sido generado por el jugador presionando una de las flechas del teclado o las
teclas WASD. No hay valores ordinales para cada botón del teclado, como las
flechas de dirección o la tecla <span class=Keycap><span style='font-variant:
normal !important;text-transform:uppercase'>esc</span></span>. El módulo
pygame.locals provee variables constantes para usar en lugar de ordinales.</span></p>

<p class=Body><span lang=ES-MX>La línea 91 comprueba si el jugador ha pulsado
la flecha izquierda con el evento </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>evento.key == K_LEFT</span></span><span
lang=ES-MX>. Observa que pulsar una flecha del teclado no sólo asigna </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>True</span></span><span
lang=ES-MX> a una variable de movimiento, sino que además asigna </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX> a la variable de movimiento en la dirección opuesta.</span></p>

<p class=Body><span lang=ES-MX>Por ejemplo, si se pulsa la flecha izquierda, el
código en la línea 93 asigna </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX> a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>moverIzquierda</span></span><span
lang=ES-MX>, pero también asigna </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>False</span></span><span lang=ES-MX> a
</span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:
115%'>moverDerecha</span></span><span lang=ES-MX>. Esto previene que el programa
se confunda y piense que el personaje del jugador debe moverse en dos
direcciones opuestas a la vez.</span></p>

<p class=Body><span lang=ES-MX>La Tabla 20-1 lista variables constantes de uso
común para el atributo key de los objetos Event relacionados al teclado.</span></p>

<p class=TableListing><span lang=ES-MX>Tabla 20-1: Variables Constantes para
teclas comunes</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td valign=top style='border-top:double windowtext 1.5pt;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading>Variable Constante Pygame</p>
  </td>
  <td valign=top style='border-top:double windowtext 1.5pt;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading>Tecla</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading>&nbsp;</p>
  </td>
  <td valign=top style='border-top:double windowtext 1.5pt;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading>Variable Constante Pygame</p>
  </td>
  <td valign=top style='border-top:double windowtext 1.5pt;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeading>Tecla</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_LEFT</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Flecha izquierda</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_HOME</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Inicio</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_RIGHT</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Flecha derecha</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_END</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Fin</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_UP</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Flecha arriba</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_PAGEUP</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Re pág</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_DOWN</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Flecha abajo</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_PAGEDOWN</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Av pág</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_ESCAPE</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Esc</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F1</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F1</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_BACKSPACE</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Retroceso</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F2</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F2</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_TAB</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Tab</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F3</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F3</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_RETURN</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Intro</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F4</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F4</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_SPACE</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Barra espaciadora</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F5</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F5</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_DELETE</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Supr</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F6</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F6</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_LSHIFT</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Shift izquierda</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F7</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F7</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_RSHIFT</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Shift derecha</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F8</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F8</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_LCTRL</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Ctrl izquierda</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F9</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F9</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_RCTRL</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Ctrl derecha</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F10</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F10</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_LALT</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Alt izquierda</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F11</span></span></p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F11</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_RALT</span></span></p>
  </td>
  <td valign=top style='border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Alt derecha</p>
  </td>
  <td valign=top style='border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td valign=top style='border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Literal><span style='font-size:9.0pt;
  line-height:115%'>K_F12</span></span></p>
  </td>
  <td valign=top style='border:none;border-bottom:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>F12</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>104.</span>            
if evento.type == KEYUP:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>105.</span>                
if evento.key == ord('z'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>106.</span>                    
trucoReversa = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>107.</span>                    
puntaje = 0</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>108.</span>                
if evento.key == ord('x'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>109.</span></span><span
lang=ES-MX>                     trucoLento = False</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>110.</span></span><span
lang=ES-MX>                     puntaje = 0</span></p>

</div>

<p class=Body><span lang=ES-MX>El evento </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>KEYUP</span></span><span
lang=ES-MX> se crea cuando el jugador libera una tecla que estaba pulsando. Los
objetos Event de tipo </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>KEYUP</span></span><span lang=ES-MX>
también tienen un atributo key, igual que los eventos </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>KEYDOWN</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>La línea 105 comprueba si el jugador ha liberado
la tecla “z”, lo que desactivará el truco reversa. En ese caso, la línea 106
asigna </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>False</span></span><span lang=ES-MX> a</span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>
trucoReversa</span></span><span lang=ES-MX> y la línea 107 reinicia el puntaje
a </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>0</span></span><span lang=ES-MX>. Reiniciamos el puntaje para
desalentar al jugador de usar los trucos.</span></p>

<p class=Body><span lang=ES-MX>Las líneas 108 a 110 hacen lo mismo para la
tecla “x” y el truco lento. Cuando la tecla “x” es liberada, se asigna </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX> a </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>trucoLento</span></span><span lang=ES-MX> y el puntaje
del jugador se reinicia a 0.</span></p>

<p class=Body><span lang=ES-MX>&nbsp;</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>111.</span>                
if evento.key == K_ESCAPE:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>112.</span></span><span
lang=ES-MX>                         terminar()</span></p>

</div>

<p class=Body><span lang=ES-MX>En cualquier momento del juego, el jugador puede
pulsar la tecla <span class=Keycap><span style='font-variant:normal !important;
text-transform:uppercase'>esc</span></span> para salir del juego. La línea 111
comprueba si la tecla liberada ha sido <span class=Keycap><span
style='font-variant:normal !important;text-transform:uppercase'>esc</span></span>
evaluando </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>evento.key == K_ESCAPE</span></span><span lang=ES-MX>. En ese
caso, la línea 112 llama a la función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>terminar()</span></span><span
lang=ES-MX> para salir del programa.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>114.</span>                
if evento.key == K_LEFT or evento.key == ord('a'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>115.</span>                    
moverIzquierda = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>116.</span>                
if evento.key == K_RIGHT or evento.key == ord('d'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>117.</span>                    
moverDerecha = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>118.</span>                
if evento.key == K_UP or evento.key == ord('w'):</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>119.</span>                    
moverArriba = False</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>120.</span>                
if evento.key == K_DOWN or evento.key == ord('s'):</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>121.</span></span><span
lang=ES-MX>                     moverAbajo = False</span></p>

</div>

<p class=Body><span lang=ES-MX>Las líneas 114 a 121 comprueban si el jugador ha
liberado una flecha o alguna de las teclas WASD. En ese caso, el código asigna </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX> a la variable de movimiento correspondiente.</span></p>

<p class=Body><span lang=ES-MX>Por ejemplo, si el jugador hubiese estado
pulsando la flecha izquierda, la variable </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>moverIzquierda</span></span><span
lang=ES-MX> habría recibido el valor </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>True</span></span><span
lang=ES-MX> en la línea 93. Al soltar la tecla, la condición de la línea 114
habría sido evaluada a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX>, y
se habría asignado </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>False</span></span><span lang=ES-MX> a
la variable </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>moverseIzquierda</span></span><span lang=ES-MX>.</span></p>

<h2><a name="_Toc428130743">El Método </a><span class=Literal><span
style='font-size:9.0pt;line-height:115%'>move_ip()</span></span></h2>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>123.</span>            
if evento.type == MOUSEMOTION:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>124.</span></span><span
lang=ES-MX>                 <span class=SourceCodeComment># Si se mueve el
ratón, este se mueve al lugar donde esté el cursor.</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>125.</span></span><span
lang=ES-MX>                 rectanguloJugador.move_ip(evento.pos[0] -
rectanguloJugador.centerx, evento.pos[1] - rectanguloJugador.centery)</span></p>

</div>

<p class=Body><span lang=ES-MX>Ahora que hemos manipulado los eventos del
teclado, vamos a manipular los eventos del ratón que se hayan generado. El
juego Evasor no hace nada si el jugador ha pulsado un botón del ratón, pero
responde al mover el ratón. Esto da al jugador dos formas de controlar al
personaje del jugador en el juego: el teclado o el ratón.</span></p>

<p class=Body><span lang=ES-MX>El evento </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>MOUSEMOTION</span></span><span
lang=ES-MX> (movimiento del ratón) se genera cuando el ratón se mueve. Los
objetos Event cuyo atributo type es </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>MOUSEMOTION</span></span><span
lang=ES-MX> también tienen un atributo llamado pos para la posición del evento.
Este atributo pos almacena una tupla de coordenadas X e Y que indican a qué
parte de la ventana se ha movido el cursor del ratón. Si el tipo del evento es </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>MOUSEMOTION</span></span><span
lang=ES-MX>, el personaje del jugador se mueve a la posición del cursor del
ratón.</span></p>

<p class=Body><span lang=ES-MX>El método </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>move_ip()</span></span><span
lang=ES-MX> para objetos Rect modificará horizontal o verticalmente la posición
del objeto Rect en un número de píxeles. Por ejemplo, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>rectanguloJugador.move_ip(10,
20)</span></span><span lang=ES-MX> desplaza al objeto Rect 10 píxeles a la
derecha y 20 píxeles hacia abajo. Para mover al objeto Rect hacia la izquierda
o hacia arriba, debes pasar valores negativos. Por ejemplo, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>rectanguloJugador.move_ip(-5,
-15)</span></span><span lang=ES-MX> mueve al objeto Rect 5 píxeles hacia la
izquierda y 15 píxeles hacia arriba.</span></p>

<p class=Body><span lang=ES-MX>El &quot;ip&quot; al final del método </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>move_ip()</span></span><span
lang=ES-MX> es la abreviatura de &quot;in place&quot; (que en español significa
&quot;en el lugar&quot;). Esto quiere decir que el método modifica al propio
objeto Rect, y no devuelve un nuevo objeto Rect con los cambios. También existe
un método </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>move()</span></span><span lang=ES-MX> que no modifica al
objeto Rect sino que crea y devuelve un nuevo objeto Rect en la nueva
ubicación.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Agregando Nuevos Villanos</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>127.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Añade villanos en la parte
superior de la pantalla, de ser necesarios.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber>128.</span>        
if not trucoReversa and not trucoLento:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>129.</span></span><span
lang=ES-MX>             contadorAgregarVillano += 1</span></p>

</div>

<p class=Body><span lang=ES-MX>En cada iteración del bucle del juego se
incrementa en uno la variable </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span
lang=ES-MX>. Esto sólo ocurre si los trucos no están activados. Recuerda que </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>trucoReversa</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>trucoLento</span></span><span lang=ES-MX> tienen
asignado el valor </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>True</span></span><span lang=ES-MX> en tanto que las
teclas “z” y “x”, respectivamente, estén siendo pulsadas.</span></p>

<p class=Body><span lang=ES-MX>Y mientras esas teclas estén siendo pulsadas, no
se incrementa </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span lang=ES-MX>.
Luego, no aparecerán nuevos villanos en el borde superior de la pantalla.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>130.</span></span><span
lang=ES-MX>         if contadorAgregarVillano == TASANUEVOVILLANO:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>131.</span></span><span
lang=ES-MX>             contadorAgregarVillano = 0</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>132.</span></span><span
lang=ES-MX>             tamañoVillano = random.randint(TAMAÑOMINVILLANO,
TAMAÑOMAXVILLANO)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>133.</span></span><span
lang=ES-MX>             nuevoVillano = {'rect': pygame.Rect(random.randint(0,
ANCHOVENTANA-tamañoVillano), 0 - tamañoVillano, tamañoVillano, tamañoVillano),</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>134.</span></span><span
lang=ES-MX>                         'velocidad':
random.randint(VELOCIDADMINVILLANO, VELOCIDADMAXVILLANO),</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>135.</span></span><span
lang=ES-MX>                         'superficie':pygame.transform.scale(imagenVillano,
(tamañoVillano, tamañoVillano)),</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>136.</span></span><span
lang=ES-MX>                         }</span></p>

</div>

<p class=Body><span lang=ES-MX>Cuando </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>contadorAgregarVillan</span></span><span
lang=ES-MX>o alcanza el valor en </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>TASANUEVOVILLANO</span></span><span
lang=ES-MX>, es hora de agregar un nuevo villano al borde superior de la
pantalla. Pero antes, se reinicia </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>contadorAgregarVillano</span></span><span
lang=ES-MX> a </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>0</span></span><span lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>La línea 132 genera un tamaño para el villano en
píxeles. El tamaño será un entero aleatorio entre </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>TAMAÑOMINVILLANO</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>TAMAÑOMAXVILLANO</span></span><span lang=ES-MX>, que
son constantes que han recibido los valores 10 y 40 en las líneas 9 y 10.</span></p>

<p class=Body><span lang=ES-MX>La línea 133 es donde se crea una nueva
estructura de datos villano. Recuerda, la estructura de datos para los villanos
es simplemente un diccionario con claves </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>'rect'</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'velocidad'</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>'superficie'</span></span><span
lang=ES-MX>. La clave </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>'rect'</span></span><span lang=ES-MX>
contiene una referencia a un objeto Rect que almacena la ubicación y el tamaño
del villano. La llamada a la función constructor </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.Rect()</span></span><span
lang=ES-MX> tiene cuatro parámetros: la coordenada X del borde superior del
área, la coordenada Y del borde izquierdo del área, el ancho en píxeles y la
altura en píxeles.</span></p>

<p class=Body><span lang=ES-MX>El villano debe aparecer en una posición
aleatoria sobre el borde superior de la pantalla, de modo que pasamos </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.Rect(random.randint(0,
ANCHOVENTANA-tamañoVillano)</span></span><span lang=ES-MX> como la coordenada X
del borde izquierdo. La razón de que pasemos </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>ANCHOVENTANA-tamañoVillano</span></span><span
lang=ES-MX> en lugar de </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>ANCHOVENTANA</span></span><span
lang=ES-MX> es que este valor es para el borde izquierdo del villano. Si el
borde izquierdo del villano queda demasiado hacia la derecha, parte del villano
quedará fuera de la pantalla y no será visible.</span></p>

<p class=Body><span lang=ES-MX>El borde inferior del villano debería estar
justo por sobre el borde superior de la ventana. La coordenada Y del borde
superior de la ventana es </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>0</span></span><span lang=ES-MX>. Para
colocar allí el borde inferior del villano, asignamos </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>0 -
tamañoVillano</span></span><span lang=ES-MX> al borde superior del mismo</span></p>

<p class=Body><span lang=ES-MX>El ancho y la altura del villano deberían ser
iguales (la imagen es un cuadrado), de modo que pasamos </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>tamañoVillano</span></span><span
lang=ES-MX> como tercer y cuarto argumentos.</span></p>

<p class=Body><span lang=ES-MX>La velocidad a la cual el villano se mueve hacia
abajo en la pantalla corresponde al valor en la clave </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>'velocidad'</span></span><span
lang=ES-MX>. Le asignaremos un entero aleatorio comprendido entre </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>VELOCIDADMINVILLANO</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>VELOCIDADMAXVILLANO</span></span><span lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX>138.</span></span><span
lang=ES-MX>             villanos.append(nuevoVillano)</span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 138 agrega la recientemente creada
estructura de datos villano a la lista de villanos. El programa usará esta
lista para comprobar si el jugador ha colisionado con alguno de ellos, y para
saber en qué lugar de la pantalla dibujar los villanos.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Moviendo el Personaje del Jugador</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>140.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Mueve el jugador.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>141.</span></span><span
lang=ES-MX>         if moverIzquierda and rectanguloJugador.left &gt; 0:</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>142.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(-1 * TASAMOVIMIENTOJUGADOR,
0)</span></p>

</div>

<p class=Body><span lang=ES-MX>Las cuatro variables de movimiento </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>moverIzquierda</span></span><span
lang=ES-MX>, </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>moverDerecha</span></span><span lang=ES-MX>, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>moverArriba</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>moverAbajo</span></span><span lang=ES-MX> reciben los
valores </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>True</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX> cuando Pygame genera los eventos </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>KEYDOWN</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>KEYUP</span></span><span lang=ES-MX> respectivamente.</span></p>

<p class=Body><span lang=ES-MX>Si el personaje del jugador está moviéndose
hacia la izquierda y la coordenada de su borde izquierdo es mayor que 0 (que
corresponde al borde izquierdo de la ventana), entonces rectanguloJugador se
desplazará hacia la izquierda.</span></p>

<p class=Body><span lang=ES-MX>El desplazamiento del objeto</span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>
rectanguloJugador</span></span><span lang=ES-MX> será siempre un múltiplo del
número de píxeles en </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>TASAMOVIMIENTOJUGADOR</span></span><span
lang=ES-MX>. Para obtener la forma negativa de un entero, debemos multiplicarlo
por </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>-1</span></span><span lang=ES-MX>. En la línea 142, siendo
que </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>TASAMOVIMIENTOJUGADOR</span></span><span lang=ES-MX> contiene
al valor </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>5</span></span><span lang=ES-MX>, la expresión </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>-1 *
TASAMOVIMIENTOJUGADOR</span></span><span lang=ES-MX> se evalúa a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>-5</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Por lo tanto, la llamada a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>rectanguloJugador.move_ip(-1
* TASAMOVIMIENTOJUGADOR, 0)</span></span><span lang=ES-MX> cambiará la
ubicación de </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>rectanguloJugador</span></span><span lang=ES-MX>
desplazándolo 5 píxeles hacia la izquierda de su ubicación actual.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>143.</span>        
if moverDerecha and rectanguloJugador.right &lt; ANCHOVENTANA:</p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>144.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(TASAMOVIMIENTOJUGADOR, 0)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>145.</span></span><span
lang=ES-MX>         if moverArriba and rectanguloJugador.top &gt; 0:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>146.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(0, -1 *
TASAMOVIMIENTOJUGADOR)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>147.</span></span><span
lang=ES-MX>         if moverAbajo and rectanguloJugador.bottom &lt;
ALTOVENTANA:</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>148.</span></span><span
lang=ES-MX>             rectanguloJugador.move_ip(0, TASAMOVIMIENTOJUGADOR)</span></p>

</div>

<p class=Body><span lang=ES-MX>Las líneas 143 a 148 hacen lo mismo para las otras
tres direcciones: derecha, arriba y abajo. Cada uno de las tres sentencias </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>if</span></span><span
lang=ES-MX> en las líneas 143 a 148 comprueba que su variable de movimiento
contenga el valor </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>True</span></span><span lang=ES-MX> y que el borde del
objeto Rect del jugador esté dentro de la ventana. Entonces llama a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>move_ip()</span></span><span
lang=ES-MX> para desplazar al objeto Rect.</span></p>

<h2><a name="_Toc428130744"><span lang=ES-MX>La Función </span></a><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.mouse.set_pos()</span></span></h2>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>150.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Mueve el cursor del ratón
hacia el jugador.</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>151.</span></span><span
lang=ES-MX>         pygame.mouse.set_pos(rectanguloJugador.centerx,
rectanguloJugador.centery)</span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 151 mueve el cursor a la misma posición
que el personaje del jugador. La función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.mouse.set_pos()</span></span><span
lang=ES-MX> mueve el cursor del ratón a las coordenadas X e Y que le pases.
Esto es para que el cursor del ratón y el personaje del jugador estén siempre
en el mismo lugar.</span></p>

<p class=Body><span lang=ES-MX>Específicamente, el cursor estará justo en el
medio del objeto Rect del personaje ya que recibe como coordenadas los
atributos </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>centerx</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>centery</span></span><span
lang=ES-MX> de </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>rectanguloJugador</span></span><span lang=ES-MX>. El
cursor del ratón sigue existiendo y puede ser desplazado, a pesar de que sea
invisible a causa de la llamada a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.mouse.set_visible(False)</span></span><span
lang=ES-MX> en la línea 47.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>153.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Mueve los villanos hacia
abajo.</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>154.</span></span><span
lang=ES-MX>         for v in villanos:</span></p>

</div>

<p class=Body><span lang=ES-MX>Ahora recorre cada estructura villano en la
lista de </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>villanos</span></span><span lang=ES-MX> para desplazarlos
ligeramente hacia abajo.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>155.</span>            
if not trucoReversa and not trucoLento:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>156.</span>                
v['rect'].move_ip(0, v['velocidad'])</p>

</div>

<p class=Body><span lang=ES-MX>Si ninguno de los trucos ha sido activado, cada
villano se desplaza hacia abajo en un número de píxeles igual a su velocidad,
la cual se almacena en la clave </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>'velocidad'</span></span><span
lang=ES-MX>.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Implementando los Trucos</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>157.</span></span><span
lang=ES-MX>             elif trucoReversa:</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>158.</span></span><span
lang=ES-MX>                 v['rect'].move_ip(0, -5)</span></p>

</div>

<p class=Body><span lang=ES-MX>Si se activa el truco reversa, el villano se
moverá cinco píxeles hacia arriba. Para lograr este desplazamiento del objeto
Rect, pasamos </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>-5</span></span><span lang=ES-MX> como segundo
argumento a la función </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>move_ip()</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>159.</span>            
elif trucoLento:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber>160.</span>                
v['rect'].move_ip(0, 1)</p>

</div>

<p class=Body><span lang=ES-MX>Si el truco lento ha sido activado, los villanos
seguirán moviéndose hacia abajo pero su velocidad se reducirá a un píxel por
iteración del bucle del juego. La velocidad normal del villano (almacenada en
la clave </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'velocidad'</span></span><span lang=ES-MX> de la estructura
de datos del villano) es ignorada mientras el truco lento está activado.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Quitando los Villanos</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>162.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Elimina los villanos que
han caido por debajo.</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>163.</span></span><span
lang=ES-MX>         for v in villanos[:]:</span></p>

</div>

<p class=Body><span lang=ES-MX>Cada villano que caiga por debajo del borde
inferior de la ventana debe ser quitado de la lista de villanos. Recuerda que
mientras iteramos sobre una lista no debemos modificar su contenido agregando o
quitando elementos. Entonces en lugar de iterar sobre la lista de villanos con
el bucle </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>for</span></span><span lang=ES-MX>, iteramos sobre una copia
de la misma. Esta copia se crea usando una rebanada sin argumentos </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>[:]</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>El bucle </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>for</span></span><span
lang=ES-MX> de la línea 163 usa una variable </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>v</span></span><span
lang=ES-MX> para el elemento actual en la iteración sobre </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>villanos[:]</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber>164.</span>            
if v['rect'].top &gt; ALTOVENTANA:</p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>165.</span></span><span
lang=ES-MX>                 villanos.remove(v)</span></p>

</div>

<p class=Body><span lang=ES-MX>Evaluemos la expresión </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>v['rect'].top</span></span><span
lang=ES-MX>. </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>v</span></span><span lang=ES-MX> es la estructura de datos
actual de la lista </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>villanos[:]</span></span><span
lang=ES-MX>. Cada estructura de datos villano en la lista es un diccionario con
una clave </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'rect'</span></span><span lang=ES-MX>, que almacena un objeto
Rect. Entonces </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>v['rect']</span></span><span lang=ES-MX> es el objeto
Rect correspondiente al villano.</span></p>

<p class=Body><span lang=ES-MX>Finalmente, el atributo top es la coordenada Y
del borde superior del área rectangular. Recuerda que las coordenadas Y
aumentan cuando vamos hacia abajo. Entonces </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>v['rect'].top &gt;
ALTOVENTANA</span></span><span lang=ES-MX> comprobará si el borde superior el
villano está por debajo del borde inferior de la ventana.</span></p>

<p class=Body><span lang=ES-MX>Si esta condición es </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>True</span></span><span
lang=ES-MX>, entonces la línea 165 quita la estructura de datos villano de la
lista de </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>villanos</span></span><span lang=ES-MX>.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Dibujando la Ventana</span></p>

<p class=Body><span lang=ES-MX>Después de haber actualizado todas las
estructuras de datos, debemos dibujar el universo del juego usando las
funciones gráficas de Pygame. Dado que el bucle del juego se ejecuta varias
veces por segundo, simplemente dibujar a los villanos y al jugador en nuevas
posiciones hace que su movimiento se vea suave y natural.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>167.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja el mundo del juego
en la ventana.</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>168.</span></span><span
lang=ES-MX>         superficieVentana.fill(COLORFONDO)</span></p>

</div>

<p class=Body><span lang=ES-MX>Primero, antes de dibujar cualquier otra cosa,
la línea 168 pinta de negro toda la pantalla para borrar todo lo anterior.</span></p>

<p class=Body><span lang=ES-MX>Recuerda que el objeto Surface en </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>superficieVentana</span></span><span
lang=ES-MX> es especial porque es el objeto Surface devuelto por </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.set_mode()</span></span><span
lang=ES-MX>. Cualquier cosa que dbujemos sobre este objeto Surface aparecerá en
la pantalla al llamar a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>&nbsp;</span></p>

<p class=Body><span lang=ES-MX>&nbsp;</span></p>

<p class=Body><span lang=ES-MX>&nbsp;</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Dibujando el Puntaje del Jugador</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>170.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja el puntaje y el
puntaje máximo</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>171.</span></span><span
lang=ES-MX>         dibujarTexto('Puntaje: %s' % (puntaje), fuente,
superficieVentana, 10, 0)</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>172.</span></span><span
lang=ES-MX>         dibujarTexto('Puntaje Máximo: %s' % (puntajeMax), fuente, superficieVentana,
10, 40)</span></p>

</div>

<p class=Body><span lang=ES-MX>Las líneas 171 y 172 muestran el texto con el
puntaje y el puntaje máximo en la esquina superior izquierda de la ventana. La
expresión </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>'Puntaje: %s' % (puntaje)</span></span><span lang=ES-MX> usa
interpolación de cadenas para insertar el valor de la variable puntaje en la
cadena.</span></p>

<p class=Body><span lang=ES-MX>Pasamos como argumentos esta cadena, el objeto
Font guardado en la variable fuente, el objeto Surface sobre el cual dibujar el
texto y las coordenadas X e Y de donde deseamos colocar el texto. La función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>dibujarTexto()</span></span><span
lang=ES-MX> gestionará la llamada a los métodos </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>render()</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>blit()</span></span><span lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Hacemos lo mismo para el puntaje máximo. Sólo
pasamos 40 como coordenada Y en lugar de </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>0</span></span><span
lang=ES-MX> de modo que el puntaje máximo aparezca debajo del puntaje actual.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Dibujando el Personaje del Jugador</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>174.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja el rectángulo del
jugador</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>175.</span></span><span
lang=ES-MX>         superficieVentana.blit(imagenJugador, rectanguloJugador)</span></p>

</div>

<p class=Body><span lang=ES-MX>La información acerca del jugador se guarda en
dos variables diferentes. </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>imagenJugador</span></span><span
lang=ES-MX> es un objeto Surface que contiene todos los píxeles de colores que
conforman la imagen del personaje del jugador. </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>rectanguloJugador</span></span><span
lang=ES-MX> es un objeto Rect que guarda la información con el tamaño y la
ubicación del personaje del jugador.</span></p>

<p class=Body><span lang=ES-MX>El método </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>blit()</span></span><span
lang=ES-MX> dibuja la imagen del personaje del jugador (en </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>imagenJugador</span></span><span
lang=ES-MX>) sobre </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>superficieVentana</span></span><span
lang=ES-MX> en la ubicación contenida en </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>rectanguloJugador</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>177.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Dibuja cada villano</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>178.</span></span><span
lang=ES-MX>         for v in villanos:</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>179.</span></span><span
lang=ES-MX>             superficieVentana.blit(v['superficie'], v['rect'])</span></p>

</div>

<p class=Body><span lang=ES-MX>El bucle for de la línea 178 dibuja cada villano
en el objeto </span><span class=Literal><span lang=ES-MX style='font-size:9.0pt;
line-height:115%'>superficieVentana</span></span><span lang=ES-MX>. Cada
elemento en la lista de villanos es un diccionario. Las claves </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>'superficie'</span></span><span
lang=ES-MX> y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>'rect'</span></span><span lang=ES-MX> del diccionario
contienen al objeto Surface con la imagen del villano y al objeto Rect con
información sobre su tamaño y ubicación, respectivamente.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX>181.</span></span><span
lang=ES-MX>         pygame.display.update()</span></p>

</div>

<p class=Body><span lang=ES-MX>Ahora que todo se ha dibujado sobre </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>superficieVentana</span></span><span
lang=ES-MX>, dibujamos esta superficie sobre la ventana llamando a </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span><span
lang=ES-MX>.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Detección de Colisiones</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>183.</span></span><span
lang=ES-MX>         <span class=SourceCodeComment># Verifica si algún villano
impactó en el jugador.</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>184.</span></span><span
lang=ES-MX>         if jugadorGolpeaVillano(rectanguloJugador, villanos):</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>185.</span></span><span
lang=ES-MX>             if puntaje &gt; puntajeMax:</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>186.</span></span><span
lang=ES-MX>                 puntajeMax = puntaje <span class=SourceCodeComment>#
Establece nuevo puntaje máximo</span></span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>187.</span></span><span
lang=ES-MX>             break</span></p>

</div>

<p class=Body><span lang=ES-MX>La línea 184 comprueba si el jugador ha
colisionado con algún villano llamando a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>jugadorGolpeaVillano()</span></span><span
lang=ES-MX>. Esta función devuelve </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>True</span></span><span lang=ES-MX> si
el personaje del jugador ha colisionada con alguno de los </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>villanos</span></span><span
lang=ES-MX> de la lista. De lo contrario, la función devuelve </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>False</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Si el personaje del jugador ha chocado con algún
villano, las líneas 185 y 186 actualizan el puntaje máximo si es menor que el
puntaje actual. Entonces la sentencia break de la línea 187 sale del bucle del
juego. La ejecución del programa se mueve entonces a la línea 191.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX>189.</span></span><span
lang=ES-MX>         relojPrincipal.tick(FPS)</span></p>

</div>

<p class=Body><span lang=ES-MX>Para evitar que la computadora recorra el bucle
del juego a su máxima velocidad (lo cual sería demasiado rápido incluso para
las habilidades del mejor jugador), llamamos a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>relojPrincipal.tick()</span></span><span
lang=ES-MX> para pausar el juego por un instante. La pausa será suficiente para
asegurar que se realizarán alrededor de </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>40</span></span><span
lang=ES-MX> (el valor almacenado en la variable </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>FPS</span></span><span
lang=ES-MX>) iteraciones sobre el bucle del juego.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>La Pantalla de Fin del Juego</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>191.</span></span><span
lang=ES-MX>     <span class=SourceCodeComment># Detiene el juego y muestra
&quot;Juego Terminado&quot;</span></span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>192.</span></span><span
lang=ES-MX>     pygame.mixer.music.stop()</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>193.</span></span><span
lang=ES-MX>     sonidoJuegoTerminado.play()</span></p>

</div>

<p class=Body><span lang=ES-MX>Cuando el jugador pierde, el juego deja de
reproducir la música de fondo y reproduce el efecto de sonido de “Juego
Terminado”. La línea 192 llama a la función </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>stop()</span></span><span
lang=ES-MX> en el módulo </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.mixer.music</span></span><span
lang=ES-MX> para detener la música de fondo. La línea 193 llama al método </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>play()</span></span><span
lang=ES-MX> del objeto Sound guardado en </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>sonidoJuegoTerminado</span></span><span
lang=ES-MX>.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCodeCxSpFirst><span class=SourceLineNumber><span lang=ES-MX>195.</span></span><span
lang=ES-MX>     dibujarTexto('Juego Terminado', fuente, superficieVentana, (ANCHOVENTANA
/ 3), (ALTOVENTANA / 3))</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>196.</span></span><span
lang=ES-MX>     dibujarTexto('Presione una tecla jugar de nuevo.', fuente,
superficieVentana, (ANCHOVENTANA / 3) - 80, (ALTOVENTANA / 3) + 50)</span></p>

<p class=SourceCodeCxSpMiddle><span class=SourceLineNumber><span lang=ES-MX>197.</span></span><span
lang=ES-MX>     pygame.display.update()</span></p>

<p class=SourceCodeCxSpLast><span class=SourceLineNumber><span lang=ES-MX>198.</span></span><span
lang=ES-MX>     esperarTeclaJugador()</span></p>

</div>

<p class=Body><span lang=ES-MX>Las líneas 195 y 196 llaman a la función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>dibujarTexto()</span></span><span
lang=ES-MX> para dibujar el texto “Juego Terminado” sobre el objeto </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>superficieVentana</span></span><span
lang=ES-MX>. La línea 197 llama a </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>pygame.display.update()</span></span><span
lang=ES-MX> para dibujar este objeto Surface sobre la pantalla. Después de
mostrar el texto, el juego se detiene mediante la función </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>esperarTeclaJugador()</span></span><span
lang=ES-MX> hasta que el jugador presione una tecla.</span></p>

<div style='border:double windowtext 1.5pt;padding:3.0pt 4.0pt 3.0pt 4.0pt'>

<p class=SourceCode><span class=SourceLineNumber><span lang=ES-MX>200.</span></span><span
lang=ES-MX>     sonidoJuegoTerminado.stop()</span></p>

</div>

<p class=Body><span lang=ES-MX>Luego de que el jugador pulse una tecla, la
ejecución del programa regresará de la llamada a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>esperarTeclaJugador()</span></span><span
lang=ES-MX> en la línea 198. Dependiendo de cuánto demore el jugador en pulsar
una tecla, el efecto de sonido de “Juego Terminado” habrá terminado de
reproducirse o no. En el segundo caso, para detener el efecto de sonido antes
de comenzar un nuevo juego, la línea 200 llama a </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>sonidoJuegoTerminado.stop()</span></span><span
lang=ES-MX>.</span></p>

<h2><a name="_Toc428130745"><span lang=ES-MX>Modificando el Juego Evasor</span></a></h2>

<p class=Body><span lang=ES-MX>Con esto concluimos nuestro juego gráfico. Puede
que halles este juego demasiado fácil o demasiado difícil. Afortunadamente esto
es fácil de modificar ya que nos tomamos el trabajo de usar variables constantes
en lugar de escribir los valores directamente. Ahora todo lo que tenemos que
hacer para ajustar la dificultad del juego es modificar el valor de las
variables constantes.</span></p>

<p class=Body><span lang=ES-MX>Por ejemplo, si quieres reducir la velocidad de
todo el juego, cambia el valor </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>FPS</span></span><span lang=ES-MX> de
la línea 8 a un valor menor como por ejemplo </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>20</span></span><span
lang=ES-MX>. Esto hará que tanto los villanos como el personaje del jugador se
muevan más lento ya que el bucle del juego se ejecutará sólo </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>20</span></span><span
lang=ES-MX> veces por segundo en lugar de </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>40</span></span><span
lang=ES-MX>.</span></p>

<p class=Body><span lang=ES-MX>Si sólo quieres reducir la velocidad de los
villanos y no la del jugador, puedes cambiar </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>VELOCIDADMAXVILLANO</span></span><span
lang=ES-MX> a un valor más pequeño como </span><span class=Literal><span
lang=ES-MX style='font-size:9.0pt;line-height:115%'>4</span></span><span
lang=ES-MX>. Esto hará que todos los villanos se muevan entre </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>1</span></span><span
lang=ES-MX> (el valor en </span><span class=Literal><span lang=ES-MX
style='font-size:9.0pt;line-height:115%'>VELOCIDADMINVILLANO</span></span><span
lang=ES-MX>) y </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>4</span></span><span lang=ES-MX> píxeles por iteración
del bucle del juego, en lugar de entre 1 y 8.</span></p>

<p class=Body><span lang=ES-MX>Si prefieres que el juego tenga pocos villanos
grandes en lugar de muchos villanos pequeños, puedes aumentar </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>TASANUEVOVILLANO</span></span><span
lang=ES-MX> a </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>12</span></span><span lang=ES-MX>, </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>TAMAÑOMINVILLANO</span></span><span
lang=ES-MX> a </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>40</span></span><span lang=ES-MX> y </span><span
class=Literal><span lang=ES-MX style='font-size:9.0pt;line-height:115%'>TAMAÑOMAXVILLANO</span></span><span
lang=ES-MX> a </span><span class=Literal><span lang=ES-MX style='font-size:
9.0pt;line-height:115%'>80</span></span><span lang=ES-MX>. Ahora que los
villanos aparecen cada 12 iteraciones del bucle del juego en lugar de cada 6
iteraciones, habrá la mitad de villanos que antes. Pero para mantener el juego
interesante, los villanos son ahora mucho más grandes que antes.</span></p>

<p class=Body><span lang=ES-MX>Aunque la base del juego sigue siendo la misma,
puedes modificar cualquiera de las variables constantes para cambiar
drásticamente el comportamiento del juego. Prueba con tus propios nuevos
valores para las variables constantes hasta que encuentres el conjunto de
parámetros que más te guste.</span></p>

<p class=Non-TOCHeading3><span lang=ES-MX>Resumen</span></p>

<p class=Body><span lang=ES-MX>A diferencia de nuestros juegos anteriores basados
en texto, Evasor realmente se ve como los tipos de juego de computadora
modernos que usualmente jugamos. Tiene gráficos y música y usa el ratón. Aunque
Pygame provee funciones y tipos de datos como bloques constructivos, eres tú el
programador quien los combina para crear juegos divertidos e interactivos.</span></p>

<p class=Body><span lang=ES-MX>Y todo esto es posible gracias a que sabes cómo
dar instrucciones paso a paso, línea por línea, a la computadora para que lo
haga. Puedes hablar el lenguaje de la computadora, y pedirle que haga por tí
enormes cantidades de dibujos y procesamiento de números. Esta es una habilidad
muy útil, y espero que te motive a continuar aprendiendo más acerca de
programación en Python. (¡Y todavía hay mucho por aprender!)</span></p>

<p class=Body><span lang=ES-MX>Aquí hay una lista de sitios web que pueden
enseñarte más sobre programación en Python:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=URL><u><span lang=ES-MX>http://inventwithpython.com/es</span></u></span><span
lang=ES-MX> – El sitio web de este libro, que incluye todo el código fuente de
estos programas e información adicional. Este sitio también tiene los archivos
de imagen y sonido usados en nuestros programas Pygame.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span lang=ES-MX
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=URL><u><span lang=ES-MX>http://inventwithpython.com/pygame</span></u></span><span
lang=ES-MX> – Mi segundo libro, <em>Making Games with Python &amp; Pygame</em>
(Creando Juegos con Python &amp; Pygame), que cubre Pygame en mayor detalle. Es
gratis descargarlo e incluye el código fuente de muchos más juegos.</span></p>

<p class=Body><span lang=ES-MX>O puedes encontrar más información sobre Python
buscando en la web. Ve a <span class=URL><u>http://google.com</u></span> y
busca “Programación en Python” o “Tutoriales Python” para encontrar sitios web
que te enseñen más acerca de programación en Python.</span></p>

<p class=MsoNormal><span lang=ES-MX>Ahora ponte en marcha y comienza a inventar
tus propios juegos. </span>¡Buena suerte!</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
